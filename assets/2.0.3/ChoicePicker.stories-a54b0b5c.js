import{S as W,n as P,e as D,j as T,V as S,a as r,q,F,b as U,m as j}from"./Space-1224ae57.js";import{r as g}from"./index-ebeaab24.js";import{K as k}from"./index-d714868b.js";import{u as G}from"./useResponsive-8b01e026.js";import{c as H}from"./math-0e2facc1.js";import{P as N}from"./Boxed-dafb0729.js";import{L as v}from"./LakeButton-a3bb9e3f.js";import{L as $}from"./LakeRadio-d9f739cc.js";import{P as Z}from"./Pressable-cd6f2171.js";import{T as z}from"./Tile-12333e4b.js";import{T as p}from"./Tag-064495ca.js";import{S as K,a as C}from"./_StoriesComponents-df71f637.js";import"./extends-98964cd2.js";import"./Icon-61a251ea.js";import"./Svg-336b6968.js";import"./index-be2eafda.js";import"./useMergeRefs-fd712292.js";import"./index-3a40bfa7.js";const b=t=>{let c=t.scrollTop,m=t.scrollLeft;return N.make(f=>{let o;const u=setTimeout(()=>{const s=()=>{o=requestAnimationFrame(()=>{c!==t.scrollTop||m!==t.scrollLeft?(c=t.scrollTop,m=t.scrollLeft,s()):f()})};s()},50);return()=>{clearTimeout(u),o!=null&&cancelAnimationFrame(o)}})},i=W.create({root:{alignSelf:"stretch",alignItems:"stretch",flexGrow:1,overflow:"hidden",marginHorizontal:P[12]},scrollSnap:{scrollSnapType:"x mandatory"},container:{alignSelf:"stretch",flexDirection:"row",flexWrap:"wrap",alignItems:"stretch",justifyContent:"center"},mobileContainer:{flexWrap:"nowrap",justifyContent:"flex-start",transitionProperty:"transform",transitionDuration:"300ms",transitionTimingFunction:"ease-in-out"},item:{flexGrow:0,flexBasis:"33.333%",maxWidth:300,padding:D[12]},itemAnimation:{transform:"translateZ(0px)",animationKeyframes:{from:{opacity:0,transform:"translateZ(0px) translateX(50px)"},to:{opacity:1,transform:"translateZ(0px) translateX(0px)"}},animationDuration:"200ms",animationFillMode:"backwards",animationTimingFunction:"ease-in-out"},itemLarge:{flexBasis:"50%",maxWidth:"none"},itemSmallViewport:{width:"100%",flexBasis:"auto",maxWidth:"none",scrollSnapAlign:"center"},tileContents:{alignItems:"center",alignSelf:"stretch",flexGrow:1},tileRenderedContents:{alignItems:"center",alignSelf:"stretch",flexGrow:1},leftButton:{position:"absolute",top:"50%",left:P[24],transform:"translateY(-50%)",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderWidth:1,borderLeftWidth:0},rightButton:{position:"absolute",top:"50%",right:P[24],transform:"translateY(-50%)",borderTopRightRadius:0,borderBottomRightRadius:0,borderWidth:1,borderRightWidth:0}}),X=t=>t,y=({items:t,getId:c=X,large:m=!1,renderItem:f,value:o,onChange:u})=>{const s=g.useRef(null),{desktop:n}=G(j.medium),[L,x]=g.useState("start");g.useEffect(()=>{if(n)return;const e=s.current,a=t.findIndex(l=>o===l);if(a!==-1&&e instanceof HTMLDivElement){const l=e.offsetWidth;e.scrollTo({x:a*l,animated:!1})}o==null&&t[0]!=null&&u(t[0])},[n]);const M=()=>{if(n)return;const e=s.current;if(e instanceof HTMLDivElement){const a=e.scrollLeft,l=e.offsetWidth,d=H(0,t.length-1)(Math.round(a/l)),h=t[d];h!=null&&u(h),k(d).with(0,()=>x("start")).with(t.length-1,()=>x("end")).otherwise(()=>x("middle"))}},_=()=>{var a;const e=s.current;if(e instanceof HTMLDivElement){const l=e.scrollLeft,d=e.offsetWidth,h=Math.round(l/d),w=Math.max(0,h-1);e.style.scrollSnapType="none",(a=s.current)==null||a.scrollTo({x:w*d,animated:!0}),b(e).onResolve(()=>{e.style.scrollSnapType=null})}},E=()=>{var a;const e=s.current;if(e instanceof HTMLDivElement){const l=e.scrollLeft,d=e.offsetWidth,h=Math.round(l/d),w=Math.min(t.length-1,h+1);e.style.scrollSnapType="none",(a=s.current)==null||a.scrollTo({x:w*d,animated:!0}),b(e).onResolve(()=>{e.style.scrollSnapType=null})}};return T(S,{children:[r(S,{style:i.root,children:r(q,{ref:s,horizontal:!n,onScroll:M,scrollEventThrottle:200,style:i.scrollSnap,contentContainerStyle:[i.container,!n&&i.mobileContainer,!n&&{width:`${t.length*100}%`}],children:t.map((e,a)=>r(Z,{style:[i.item,n&&i.itemAnimation,n&&{animationDelay:`${200+100*a}ms`},m&&i.itemLarge,!n&&i.itemSmallViewport,!n&&{width:`${100/t.length}%`}],onPress:()=>u(e),children:({hovered:l})=>r(z,{hovered:l,selected:o!=null&&c(e)===c(o),flexGrow:1,children:T(S,{style:i.tileContents,children:[r(S,{style:i.tileRenderedContents,children:f(e)}),n&&T(F,{children:[r(U,{height:24}),r($,{value:o!=null&&c(e)===c(o)})]})]})})},String(a)))})}),!n&&r(v,{icon:"chevron-left-filled",mode:"secondary",forceBackground:!0,onPress:_,disabled:L==="start",style:i.leftButton}),!n&&r(v,{icon:"chevron-right-filled",mode:"secondary",forceBackground:!0,onPress:E,disabled:L==="end",style:i.rightButton})]})};try{y.displayName="ChoicePicker",y.__docgenInfo={description:"",displayName:"ChoicePicker",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"T[]"}},large:{defaultValue:{value:"false"},description:"",name:"large",required:!1,type:{name:"boolean"}},renderItem:{defaultValue:null,description:"",name:"renderItem",required:!0,type:{name:"(value: T) => ReactNode"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"T"}},getId:{defaultValue:{value:"<T,>(x: T) => x"},description:"",name:"getId",required:!1,type:{name:"((item: T) => unknown)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: T) => void"}}}}}catch{}const B=W.create({part:{padding:D[32]}}),pe={title:"Forms/ChoicePicker",component:y},V=()=>{const t=["Virtual","VirtualAndPhysical","SingleUseVirtual"],[c,m]=g.useState(),[f,o]=g.useState();return T(K,{title:"Choice Picker",children:[r(C,{title:"Default",style:B.part,children:r(y,{items:t,value:c,onChange:m,renderItem:u=>k(u).with("Virtual",()=>r(p,{icon:"phone-regular",color:"mediumSladeBlue",children:"Virtual"})).with("VirtualAndPhysical",()=>r(p,{icon:"payment-regular",color:"shakespear",children:"Virtual & physical"})).with("SingleUseVirtual",()=>r(p,{icon:"phone-regular",color:"darkPink",children:"Single use"})).exhaustive()})}),r(C,{title:"Large",style:B.part,children:r(y,{items:t,value:f,large:!0,onChange:o,renderItem:u=>k(u).with("Virtual",()=>r(p,{icon:"phone-regular",color:"mediumSladeBlue",children:"Virtual"})).with("VirtualAndPhysical",()=>r(p,{icon:"payment-regular",color:"shakespear",children:"Virtual & physical"})).with("SingleUseVirtual",()=>r(p,{icon:"phone-regular",color:"darkPink",children:"Single use"})).exhaustive()})})]})};var R,A,I;V.parameters={...V.parameters,docs:{...(R=V.parameters)==null?void 0:R.docs,source:{originalSource:`() => {
  const items: ["Virtual", "VirtualAndPhysical", "SingleUseVirtual"] = ["Virtual", "VirtualAndPhysical", "SingleUseVirtual"];
  const [value, setValue] = useState<(typeof items)[number]>();
  const [largeValue, setLargeValue] = useState<(typeof items)[number]>();
  return <StoryBlock title="Choice Picker">
      <StoryPart title="Default" style={styles.part}>
        <ChoicePicker items={items} value={value} onChange={setValue} renderItem={item => match(item).with("Virtual", () => <Tag icon="phone-regular" color="mediumSladeBlue">
                  Virtual
                </Tag>).with("VirtualAndPhysical", () => <Tag icon="payment-regular" color="shakespear">
                  Virtual & physical
                </Tag>).with("SingleUseVirtual", () => <Tag icon="phone-regular" color="darkPink">
                  Single use
                </Tag>).exhaustive()} />
      </StoryPart>

      <StoryPart title="Large" style={styles.part}>
        <ChoicePicker items={items} value={largeValue} large={true} onChange={setLargeValue} renderItem={item => match(item).with("Virtual", () => <Tag icon="phone-regular" color="mediumSladeBlue">
                  Virtual
                </Tag>).with("VirtualAndPhysical", () => <Tag icon="payment-regular" color="shakespear">
                  Virtual & physical
                </Tag>).with("SingleUseVirtual", () => <Tag icon="phone-regular" color="darkPink">
                  Single use
                </Tag>).exhaustive()} />
      </StoryPart>
    </StoryBlock>;
}`,...(I=(A=V.parameters)==null?void 0:A.docs)==null?void 0:I.source}}};const fe=["Default"];export{V as Default,fe as __namedExportsOrder,pe as default};
//# sourceMappingURL=ChoicePicker.stories-a54b0b5c.js.map
