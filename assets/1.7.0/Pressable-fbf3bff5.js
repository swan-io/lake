import{S as W,a as Z,V as ee,T as ae}from"./Space-f56220c9.js";import{r as m}from"./index-f1f749bf.js";import{i as te,a as re,u as se,T as ne}from"./useMergeRefs-1908100e.js";import{g as ie}from"./_commonjsHelpers-042e6b4d.js";const Y=p=>{const[f,y]=m.useState(!1);return[f||p,y]};var M={},le={get exports(){return M},set exports(p){M=p}},k={},ue={get exports(){return k},set exports(p){k=p}};(function(p,f){f.__esModule=!0,f.default=void 0;var y="DELAY",d="ERROR",R="LONG_PRESS_DETECTED",l="NOT_RESPONDER",h="RESPONDER_ACTIVE_LONG_PRESS_START",E="RESPONDER_ACTIVE_PRESS_START",P="RESPONDER_INACTIVE_PRESS_START",c="RESPONDER_GRANT",g="RESPONDER_RELEASE",S="RESPONDER_TERMINATED",T=Object.freeze({NOT_RESPONDER:{DELAY:d,RESPONDER_GRANT:P,RESPONDER_RELEASE:d,RESPONDER_TERMINATED:d,LONG_PRESS_DETECTED:d},RESPONDER_INACTIVE_PRESS_START:{DELAY:E,RESPONDER_GRANT:d,RESPONDER_RELEASE:l,RESPONDER_TERMINATED:l,LONG_PRESS_DETECTED:d},RESPONDER_ACTIVE_PRESS_START:{DELAY:d,RESPONDER_GRANT:d,RESPONDER_RELEASE:l,RESPONDER_TERMINATED:l,LONG_PRESS_DETECTED:h},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:d,RESPONDER_GRANT:d,RESPONDER_RELEASE:l,RESPONDER_TERMINATED:l,LONG_PRESS_DETECTED:h},ERROR:{DELAY:l,RESPONDER_GRANT:P,RESPONDER_RELEASE:l,RESPONDER_TERMINATED:l,LONG_PRESS_DETECTED:l}}),q=n=>n===E||n===h,N=n=>n.getAttribute("role")==="button",D=n=>n===P||n===E||n===h,L=n=>n===S||n===g,A=n=>{var a=n.key,i=n.target,s=i.getAttribute("role"),e=a===" "||a==="Spacebar";return a==="Enter"||e&&s==="button"},x=450,C=50;class I{constructor(a){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=l,this.configure(a)}configure(a){this._config=a}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return this._eventHandlers==null&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var a=(e,t)=>{e.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=l,this._isPointerTouch=e.nativeEvent.type==="touchstart",this._receiveSignal(c,e);var r=b(this._config.delayPressStart,0,C);t!==!1&&r>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(y,e)},r):this._receiveSignal(y,e);var u=b(this._config.delayLongPress,10,x);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(e)},u+r)},i=e=>{this._receiveSignal(g,e)},s=e=>{var t=this._config.onPress,r=e.target;if(this._touchState!==l&&A(e)){i(e),document.removeEventListener("keyup",s);var u=r.getAttribute("role"),o=r.tagName.toLowerCase(),v=u==="link"||o==="a"||o==="button"||o==="input"||o==="select"||o==="textarea";t!=null&&!v&&t(e)}};return{onStartShouldSetResponder:e=>{var t=this._config.disabled;return t&&N(e.currentTarget)&&e.stopPropagation(),t==null?!0:!t},onKeyDown:e=>{var t=this._config.disabled,r=e.key,u=e.target;if(!t&&A(e)){this._touchState===l&&(a(e,!1),document.addEventListener("keyup",s));var o=u.getAttribute("role"),v=r===" "||r==="Spacebar",V=o==="button"||o==="menuitem";v&&V&&e.preventDefault(),e.stopPropagation()}},onResponderGrant:e=>a(e),onResponderMove:e=>{this._config.onPressMove!=null&&this._config.onPressMove(e);var t=O(e);if(this._touchActivatePosition!=null){var r=this._touchActivatePosition.pageX-t.pageX,u=this._touchActivatePosition.pageY-t.pageY;Math.hypot(r,u)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:e=>i(e),onResponderTerminate:e=>{e.nativeEvent.type==="selectionchange"&&(this._selectionTerminated=!0),this._receiveSignal(S,e)},onResponderTerminationRequest:e=>{var t=this._config,r=t.cancelable,u=t.disabled,o=t.onLongPress;return!u&&o!=null&&this._isPointerTouch&&e.nativeEvent.type==="contextmenu"?!1:r??!0},onClick:e=>{var t=this._config,r=t.disabled,u=t.onPress;r?N(e.currentTarget)&&e.stopPropagation():(e.stopPropagation(),this._longPressDispatched||this._selectionTerminated?e.preventDefault():u!=null&&e.altKey===!1&&u(e))},onContextMenu:e=>{var t=this._config,r=t.disabled,u=t.onLongPress;r?N(e.currentTarget)&&e.stopPropagation():u!=null&&this._isPointerTouch&&!e.defaultPrevented&&(e.preventDefault(),e.stopPropagation())}}}_receiveSignal(a,i){var s=this._touchState,e=null;T[s]!=null&&(e=T[s][a]),!(this._touchState===l&&a===g)&&(e==null||e===d?console.error("PressResponder: Invalid signal "+a+" for state "+s+" on responder"):s!==e&&(this._performTransitionSideEffects(s,e,a,i),this._touchState=e))}_performTransitionSideEffects(a,i,s,e){if(L(s)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),D(a)&&s===R){var t=this._config.onLongPress;t!=null&&e.nativeEvent.key==null&&(t(e),this._longPressDispatched=!0)}var r=q(a),u=q(i);if(!r&&u?this._activate(e):r&&!u&&this._deactivate(e),D(a)&&s===g){var o=this._config,v=o.onLongPress,V=o.onPress;if(V!=null){var G=v!=null&&a===h;G||!u&&!r&&(this._activate(e),this._deactivate(e))}}this._cancelPressDelayTimeout()}_activate(a){var i=this._config,s=i.onPressChange,e=i.onPressStart,t=O(a);this._touchActivatePosition={pageX:t.pageX,pageY:t.pageY},e!=null&&e(a),s!=null&&s(!0)}_deactivate(a){var i=this._config,s=i.onPressChange,e=i.onPressEnd;function t(){e!=null&&e(a),s!=null&&s(!1)}var r=b(this._config.delayPressEnd);r>0?this._pressOutDelayTimeout=setTimeout(()=>{t()},r):t()}_handleLongPress(a){(this._touchState===E||this._touchState===h)&&this._receiveSignal(R,a)}_cancelLongPressDelayTimeout(){this._longPressDelayTimeout!=null&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){this._pressDelayTimeout!=null&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){this._pressOutDelayTimeout!=null&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}f.default=I;function b(n,a,i){return a===void 0&&(a=0),i===void 0&&(i=0),Math.max(a,n??i)}function O(n){var a=n.nativeEvent,i=a.changedTouches,s=a.touches;return s!=null&&s.length>0?s[0]:i!=null&&i.length>0?i[0]:n.nativeEvent}p.exports=f.default})(ue,k);(function(p,f){var y=te.default;f.__esModule=!0,f.default=l;var d=y(k),R=m;function l(h,E){var P=(0,R.useRef)(null);P.current==null&&(P.current=new d.default(E));var c=P.current;return(0,R.useEffect)(()=>{c.configure(E)},[E,c]),(0,R.useEffect)(()=>()=>{c.reset()},[c]),(0,R.useDebugValue)(E),c.getEventHandlers()}p.exports=f.default})(le,M);const oe=ie(M),de=oe,X=W.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{pointerEvents:"none"}}),F=(p,f={})=>{const{applyPressStyle:y=!0}=f;return m.forwardRef((d,R)=>{const{children:l,delayLongPress:h,delayPressIn:E,delayPressOut:P,disabled:c=!1,onBlur:g,onContextMenu:S,onFocus:T,onHoverIn:q,onHoverOut:N,onKeyDown:D,onLongPress:L,onPress:A,onPressIn:x,onPressMove:C,onPressOut:I,style:b,tabIndex:O,testOnly_hovered:n,testOnly_pressed:a,...i}=d,[s,e]=Y(n===!0),[t,r]=Y(!1),[u,o]=Y(a===!0),v=m.useRef(null),V=re(R,v),G=m.useMemo(()=>({delayLongPress:h,delayPressStart:E,delayPressEnd:P,disabled:c,onLongPress:L,onPress:A,onPressChange:o,onPressStart:x,onPressMove:C,onPressEnd:I}),[h,E,P,c,L,A,x,C,I,o]),$=de(v,G),{onContextMenu:w,onKeyDown:H}=$;se(v,{disabled:c,onHoverChange:e,onHoverStart:q,onHoverEnd:N});const z={hovered:s,focused:t,pressed:u},j=m.useCallback(_=>{_.nativeEvent.target===v.current&&(r(!1),g==null||g(_))},[v,r,g]),B=m.useCallback(_=>{_.nativeEvent.target===v.current&&(r(!0),T==null||T(_))},[v,r,T]),J=m.useCallback(_=>{w==null||w(_),S==null||S(_)},[S,w]),Q=m.useCallback(_=>{H==null||H(_),D==null||D(_)},[D,H]);let K;return O!==void 0?K=O:K=c?-1:0,Z(p,{...i,...$,"aria-disabled":c,onBlur:j,onContextmenu:J,onFocus:B,onKeyDown:Q,ref:V,style:[!c&&y?X.active:X.disabled,typeof b=="function"?b(z):b],tabIndex:K,children:typeof l=="function"?l(z):l})})},me=m.memo(F(ee,{applyPressStyle:!0})),U=m.memo(F(ae,{applyPressStyle:!0})),ce=m.memo(F(ne,{applyPressStyle:!1}));U.displayName="PressableText";ce.displayName="PressableTextInput";try{U.displayName="PressableText",U.__docgenInfo={description:"",displayName:"PressableText",props:{role:{defaultValue:null,description:"",name:"role",required:!1,type:{name:"enum",value:[{value:'"row"'},{value:'"label"'},{value:'"form"'},{value:'"none"'},{value:'"grid"'},{value:'"cell"'},{value:'"alert"'},{value:'"alertdialog"'},{value:'"application"'},{value:'"article"'},{value:'"banner"'},{value:'"button"'},{value:'"checkbox"'},{value:'"columnheader"'},{value:'"combobox"'},{value:'"complementary"'},{value:'"contentinfo"'},{value:'"definition"'},{value:'"dialog"'},{value:'"directory"'},{value:'"document"'},{value:'"feed"'},{value:'"figure"'},{value:'"group"'},{value:'"heading"'},{value:'"img"'},{value:'"link"'},{value:'"list"'},{value:'"listitem"'},{value:'"log"'},{value:'"main"'},{value:'"marquee"'},{value:'"math"'},{value:'"menu"'},{value:'"menubar"'},{value:'"menuitem"'},{value:'"meter"'},{value:'"navigation"'},{value:'"note"'},{value:'"option"'},{value:'"presentation"'},{value:'"progressbar"'},{value:'"radio"'},{value:'"radiogroup"'},{value:'"region"'},{value:'"rowgroup"'},{value:'"rowheader"'},{value:'"scrollbar"'},{value:'"searchbox"'},{value:'"separator"'},{value:'"slider"'},{value:'"spinbutton"'},{value:'"status"'},{value:'"summary"'},{value:'"switch"'},{value:'"tab"'},{value:'"table"'},{value:'"tablist"'},{value:'"tabpanel"'},{value:'"term"'},{value:'"timer"'},{value:'"toolbar"'},{value:'"tooltip"'},{value:'"tree"'},{value:'"treegrid"'},{value:'"treeitem"'},{value:'"blockquote"'},{value:'"code"'},{value:'"deletion"'},{value:'"emphasis"'},{value:'"insertion"'},{value:'"paragraph"'},{value:'"strong"'},{value:'"gridcell"'},{value:'"listbox"'},{value:'"menuitemcheckbox"'},{value:'"menuitemradio"'},{value:'"textbox"'}]}},tabIndex:{defaultValue:null,description:"Additional accessibility props",name:"tabIndex",required:!1,type:{name:"enum",value:[{value:"0"},{value:"-1"}]}},"aria-activedescendant":{defaultValue:null,description:`Aria props (additional, minus existants)
@see https://necolas.github.io/react-native-web/docs/accessibility
@see https://reactnative.dev/docs/accessibility#aria-valuemax`,name:"aria-activedescendant",required:!1,type:{name:"string"}},"aria-atomic":{defaultValue:null,description:"",name:"aria-atomic",required:!1,type:{name:"boolean"}},"aria-autocomplete":{defaultValue:null,description:"",name:"aria-autocomplete",required:!1,type:{name:"string"}},"aria-colcount":{defaultValue:null,description:"",name:"aria-colcount",required:!1,type:{name:"number"}},"aria-colindex":{defaultValue:null,description:"",name:"aria-colindex",required:!1,type:{name:"number"}},"aria-colspan":{defaultValue:null,description:"",name:"aria-colspan",required:!1,type:{name:"number"}},"aria-controls":{defaultValue:null,description:"",name:"aria-controls",required:!1,type:{name:"string"}},"aria-current":{defaultValue:null,description:"",name:"aria-current",required:!1,type:{name:'boolean | "page" | "step" | "location" | "date" | "time"'}},"aria-describedby":{defaultValue:null,description:"",name:"aria-describedby",required:!1,type:{name:"string"}},"aria-details":{defaultValue:null,description:"",name:"aria-details",required:!1,type:{name:"string"}},"aria-errormessage":{defaultValue:null,description:"",name:"aria-errormessage",required:!1,type:{name:"string"}},"aria-flowto":{defaultValue:null,description:"",name:"aria-flowto",required:!1,type:{name:"string"}},"aria-haspopup":{defaultValue:null,description:"",name:"aria-haspopup",required:!1,type:{name:"string"}},"aria-invalid":{defaultValue:null,description:"",name:"aria-invalid",required:!1,type:{name:"boolean"}},"aria-keyshortcuts":{defaultValue:null,description:"",name:"aria-keyshortcuts",required:!1,type:{name:"string"}},"aria-level":{defaultValue:null,description:"",name:"aria-level",required:!1,type:{name:"number"}},"aria-multiline":{defaultValue:null,description:"",name:"aria-multiline",required:!1,type:{name:"boolean"}},"aria-multiselectable":{defaultValue:null,description:"",name:"aria-multiselectable",required:!1,type:{name:"boolean"}},"aria-orientation":{defaultValue:null,description:"",name:"aria-orientation",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},"aria-owns":{defaultValue:null,description:"",name:"aria-owns",required:!1,type:{name:"string"}},"aria-placeholder":{defaultValue:null,description:"",name:"aria-placeholder",required:!1,type:{name:"string"}},"aria-posinset":{defaultValue:null,description:"",name:"aria-posinset",required:!1,type:{name:"number"}},"aria-pressed":{defaultValue:null,description:"",name:"aria-pressed",required:!1,type:{name:"boolean"}},"aria-readonly":{defaultValue:null,description:"",name:"aria-readonly",required:!1,type:{name:"boolean"}},"aria-required":{defaultValue:null,description:"",name:"aria-required",required:!1,type:{name:"boolean"}},"aria-roledescription":{defaultValue:null,description:"",name:"aria-roledescription",required:!1,type:{name:"string"}},"aria-rowcount":{defaultValue:null,description:"",name:"aria-rowcount",required:!1,type:{name:"number"}},"aria-rowindex":{defaultValue:null,description:"",name:"aria-rowindex",required:!1,type:{name:"number"}},"aria-rowspan":{defaultValue:null,description:"",name:"aria-rowspan",required:!1,type:{name:"number"}},"aria-setsize":{defaultValue:null,description:"",name:"aria-setsize",required:!1,type:{name:"number"}},"aria-sort":{defaultValue:null,description:"",name:"aria-sort",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"ascending"'},{value:'"descending"'},{value:'"other"'}]}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: NativeSyntheticEvent<KeyboardEvent<Element>>) => void)"}},onKeyDownCapture:{defaultValue:null,description:"",name:"onKeyDownCapture",required:!1,type:{name:"((event: NativeSyntheticEvent<KeyboardEvent<Element>>) => void)"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"((event: NativeSyntheticEvent<KeyboardEvent<Element>>) => void)"}},onKeyUpCapture:{defaultValue:null,description:"",name:"onKeyUpCapture",required:!1,type:{name:"((event: NativeSyntheticEvent<KeyboardEvent<Element>>) => void)"}},href:{defaultValue:null,description:"",name:"href",required:!1,type:{name:"string"}},hrefAttrs:{defaultValue:null,description:"",name:"hrefAttrs",required:!1,type:{name:"{ download?: boolean; rel?: string; target?: string | undefined; } | undefined"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<View>"}}}}}catch{}export{me as P,ce as a,U as b};
//# sourceMappingURL=Pressable-fbf3bff5.js.map
