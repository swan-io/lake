import{s as Z,a as n,j as w,L as ee,c as v,I as te,o as C,p as L,V as B,S as R}from"./Space-81j79bTR.js";import{r as h}from"./index-4g5l5LRQ.js";import{j as se,k as le,v as d}from"./Boxed-X5xMwKRs.js";import{R as ue}from"./rifm.esm-RM0KNYGD.js";import{n as me}from"./function-dZk570d0.js";import{g as de}from"./rifm-sD0tb7Hc.js";import{B as $}from"./commonStyles-T5FzHT0x.js";import{F as ce}from"./Fill-0Yb2-OF1.js";import{L as pe}from"./LakeCombobox-RpaNpCRR.js";import{L as j}from"./LakeLabel-ciQH4rCU.js";import{S as re,a as ne}from"./_StoriesComponents-NZImkeAe.js";import"./extends-dGVwEr9R.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-jmm5gWkb.js";import"./Pressable-cQumq9y2.js";import"./a11y-2bSo9Xxj.js";import"./LakeTextInput-PRyu0LiN.js";import"./LakeSelect-Gm3PzuTN.js";import"./useDisclosure-Cnlvt24p.js";import"./Popover-PUbQVCKQ.js";import"./useResponsive-PjqB64yU.js";import"./BottomPanel-IbCR5YSB.js";import"./useBodyClassName-b5H8Q92H.js";import"./math-OfdvudOu.js";import"./FocusTrap-ynx_vS_H.js";import"./array-_tkD71ox.js";import"./LoadingView-e7OmvxdS.js";import"./index-9YMOBtO7.js";import"./TransitionView-rB9AvC4k.js";import"./index-c4Ul9T0a.js";import"./index-VwoHlybF.js";import"./index-zkiSrBtj.js";import"./v4-yQnnJER4.js";const x=Z.create({label:{flex:1},arrowContainer:{height:40}}),fe={hour:0,minute:0},ge={hour:23,minute:59},ae=15,ye=de({accept:"numeric",charMap:{2:":"},maxLength:4}),T=e=>{const[t,r]=e.split(":").map(Number);return C(t)||isNaN(t)||C(r)||isNaN(r)?d.None():d.Some({hour:t,minute:r})},F=e=>{const t=L(e.start)?T(e.start):d.None(),r=L(e.end)?T(e.end):d.None();return{start:t,end:r}},he=e=>{const[t,r]=e.split(":");if(C(t)||(t==null?void 0:t.length)!==2||L(r))return d.None();const a=Number(t);return a<0||a>23?d.None():isNaN(a)?d.None():d.Some(a)},D=e=>`${e.hour.toString().padStart(2,"0")}:${e.minute.toString().padStart(2,"0")}`,s=e=>e.hour*60+e.minute,f=e=>({hour:Math.floor(e/60),minute:e%60}),Te=(e,t)=>f(s(e)+t),_e=(e,t)=>{const r=s(e),a=Math.floor(r/t)*t;return f(a)},U=e=>e.hour>=0&&e.hour<=23&&e.minute>=0&&e.minute<=59,be=(e,t)=>s(e)<s(t),A=e=>e.start.isNone()||e.end.isNone()?!0:be(e.start.value,e.end.value),Ne=(...e)=>{const t=e.map(s),r=Math.min(...t);return f(r)},Se=(...e)=>{const t=e.map(s),r=Math.max(...t);return f(r)},Ve=(e,t,r)=>{const a=s(e),l=s(t),m=[];for(let o=a;o<=l;o+=r){const g=f(o);m.push(g)}return m},ve=(e,t,r)=>e.hour===0?`${e.minute} ${t}`:e.minute===0?`${e.hour} ${r}`:`${e.hour} ${r} ${e.minute} ${t}`,p=({value:e,onChangeText:t,suggestionStart:r=fe,suggestionEnd:a=ge,intervalInMinutes:l=ae,nbMaxSuggestions:m,suggestionSuffix:o,readOnly:g,disabled:k,error:I,hideErrors:q,noSuggestionLabel:_})=>{const c=he(e??""),y=h.useMemo(()=>c.match({Some:u=>[Se({hour:u,minute:0},r),Ne({hour:u,minute:59},a)],None:()=>[r,a]}),[c,r,a]),b=h.useMemo(()=>Ve(y[0],y[1],l).slice(0,m),[y,l,m]),i=h.useMemo(()=>se.Done(le.Ok(b)),[b]);return n(ue,{value:e??"",onChange:t,...ye,children:({value:u,onChange:M})=>n(pe,{keyExtractor:D,placeholder:"HH:MM",value:u,items:i,itemHeight:40,nbItemsDisplayed:4.5,renderItem:N=>{const P=D(N),E=P===u,H=o==null?void 0:o(N),oe=L(H)?`${P} ${H}`:P;return w($,{direction:"row",alignItems:"center",children:[n(ee,{color:E?v.gray[700]:v.gray[900],variant:E?"smallRegular":"medium",children:oe}),n(ce,{minWidth:8}),E&&n(te,{name:"checkmark-filled",color:v.positive[500],size:16})]})},readOnly:g,disabled:k,error:I,hideErrors:q,emptyResultText:_,onChange:M,onValueChange:me,onSelectItem:N=>t(D(N))})})},O=({value:e,onChange:t,intervalInMinutes:r=ae,nbMaxSuggestions:a,readOnly:l,disabled:m,error:o,startLabel:g,endLabel:k,minutesLabel:I,hoursLabel:q,noSuggestionLabel:_})=>{const c=T(e.start??""),y=i=>{t({start:i,end:e.end})},b=i=>{t({start:e.start,end:i})};return w(B,{children:[w($,{direction:"row",alignItems:"end",children:[n(j,{label:g,style:x.label,render:()=>n(p,{value:e.start,intervalInMinutes:r,nbMaxSuggestions:a,error:o,hideErrors:!0,disabled:m,readOnly:l,noSuggestionLabel:_,onChangeText:y})}),n(R,{width:12}),n($,{style:x.arrowContainer,justifyContent:"center",children:n(te,{name:"arrow-right-filled",size:20})}),n(R,{width:12}),n(j,{label:k,style:x.label,render:()=>n(p,{value:e.end,intervalInMinutes:r,nbMaxSuggestions:a,suggestionStart:c.map(i=>_e(i,r)).map(i=>Te(i,r)).match({Some:i=>i,None:()=>{}}),suggestionSuffix:i=>{if(c.isNone())return"";const u=s(i)-s(c.value);if(u>0&&u<=60){const M=f(u);return`(${ve(M,I,q)})`}return""},error:o,hideErrors:!0,disabled:m,readOnly:l,noSuggestionLabel:_,onChangeText:b})})]}),n(R,{height:4}),n(ee,{variant:"smallRegular",color:v.negative[500],children:o??" "})]})};try{T.displayName="parseTime",T.__docgenInfo={description:"",displayName:"parseTime",props:{}}}catch{}try{F.displayName="parseTimeRange",F.__docgenInfo={description:"",displayName:"parseTimeRange",props:{start:{defaultValue:null,description:"",name:"start",required:!1,type:{name:"string"}},end:{defaultValue:null,description:"",name:"end",required:!1,type:{name:"string"}}}}}catch{}try{U.displayName="validateTime",U.__docgenInfo={description:"",displayName:"validateTime",props:{hour:{defaultValue:null,description:"",name:"hour",required:!0,type:{name:"number"}},minute:{defaultValue:null,description:"",name:"minute",required:!0,type:{name:"number"}}}}}catch{}try{A.displayName="validateTimeRange",A.__docgenInfo={description:"",displayName:"validateTimeRange",props:{start:{defaultValue:null,description:"",name:"start",required:!0,type:{name:"Option<Time>"}},end:{defaultValue:null,description:"",name:"end",required:!0,type:{name:"Option<Time>"}}}}}catch{}try{p.displayName="TimePicker",p.__docgenInfo={description:"",displayName:"TimePicker",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},onChangeText:{defaultValue:null,description:"",name:"onChangeText",required:!0,type:{name:"(value: string) => void"}},suggestionStart:{defaultValue:{value:"{ hour: 0, minute: 0 }"},description:"",name:"suggestionStart",required:!1,type:{name:"Time"}},suggestionEnd:{defaultValue:{value:"{ hour: 23, minute: 59 }"},description:"",name:"suggestionEnd",required:!1,type:{name:"Time"}},intervalInMinutes:{defaultValue:{value:"15"},description:"",name:"intervalInMinutes",required:!1,type:{name:"number"}},nbMaxSuggestions:{defaultValue:null,description:"",name:"nbMaxSuggestions",required:!1,type:{name:"number"}},suggestionSuffix:{defaultValue:null,description:"",name:"suggestionSuffix",required:!1,type:{name:"((option: Time) => string)"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},hideErrors:{defaultValue:null,description:"",name:"hideErrors",required:!1,type:{name:"boolean"}},noSuggestionLabel:{defaultValue:null,description:"",name:"noSuggestionLabel",required:!0,type:{name:"string"}}}}}catch{}try{O.displayName="TimeRangePicker",O.__docgenInfo={description:"",displayName:"TimeRangePicker",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"{ start?: string | undefined; end?: string | undefined; }"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: { start?: string | undefined; end?: string | undefined; }) => void"}},intervalInMinutes:{defaultValue:{value:"15"},description:"",name:"intervalInMinutes",required:!1,type:{name:"number"}},nbMaxSuggestions:{defaultValue:null,description:"",name:"nbMaxSuggestions",required:!1,type:{name:"number"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},startLabel:{defaultValue:null,description:"",name:"startLabel",required:!0,type:{name:"string"}},endLabel:{defaultValue:null,description:"",name:"endLabel",required:!0,type:{name:"string"}},minutesLabel:{defaultValue:null,description:"",name:"minutesLabel",required:!0,type:{name:"string"}},hoursLabel:{defaultValue:null,description:"",name:"hoursLabel",required:!0,type:{name:"string"}},noSuggestionLabel:{defaultValue:null,description:"",name:"noSuggestionLabel",required:!0,type:{name:"string"}}}}}catch{}const ie=Z.create({container:{maxWidth:430}}),z=new Date;z.setDate(z.getDate()-15);const W=new Date;W.setDate(W.getDate()+15);const ot={title:"Forms/TimePicker",component:p},Le=e=>{const[t,r]=h.useState();return n(p,{...e,value:t,onChangeText:r})},ke=e=>{const[t,r]=h.useState({}),a=F(t),l=A(a)?void 0:"Start time must be before end time";return n(O,{...e,value:t,onChange:r,error:l})},S=()=>n(re,{title:"TimePicker",children:n(ne,{title:"Default",children:n(B,{style:ie.container,children:n(Le,{noSuggestionLabel:"No time available"})})})}),V=()=>n(re,{title:"TimeRangePicker",children:n(ne,{title:"Default",children:n(B,{style:ie.container,children:n(ke,{startLabel:"Start",endLabel:"End",minutesLabel:"Mins",hoursLabel:"Hours",noSuggestionLabel:"No time available",intervalInMinutes:15})})})});var Y,G,J;S.parameters={...S.parameters,docs:{...(Y=S.parameters)==null?void 0:Y.docs,source:{originalSource:`() => {
  return <StoryBlock title="TimePicker">
      <StoryPart title="Default">
        <View style={styles.container}>
          <InteractiveTimePicker noSuggestionLabel="No time available" />
        </View>
      </StoryPart>
    </StoryBlock>;
}`,...(J=(G=S.parameters)==null?void 0:G.docs)==null?void 0:J.source}}};var K,Q,X;V.parameters={...V.parameters,docs:{...(K=V.parameters)==null?void 0:K.docs,source:{originalSource:`() => {
  return <StoryBlock title="TimeRangePicker">
      <StoryPart title="Default">
        <View style={styles.container}>
          <InteractiveTimeRangePicker startLabel="Start" endLabel="End" minutesLabel="Mins" hoursLabel="Hours" noSuggestionLabel="No time available" intervalInMinutes={15} />
        </View>
      </StoryPart>
    </StoryBlock>;
}`,...(X=(Q=V.parameters)==null?void 0:Q.docs)==null?void 0:X.source}}};const st=["Default","RangePicker"];export{S as Default,V as RangePicker,st as __namedExportsOrder,ot as default};
//# sourceMappingURL=TimePicker.stories-UI8-MiIM.js.map
