{"version":3,"file":"ScrollView.stories-BAC0lWWa.js","sources":["../../../packages/lake/src/components/LakeScrollView.tsx","../../../packages/lake/__stories__/ScrollView.stories.tsx"],"sourcesContent":["import { ReactNode, useCallback, useState } from \"react\";\nimport { NativeScrollEvent, NativeSyntheticEvent, StyleSheet, View, ViewProps } from \"react-native\";\nimport { backgroundColor } from \"../constants/design\";\nimport { ScrollView } from \"./ScrollView\";\n\nconst HORIZONTAL_SAFE_AREA = 20;\n\nconst styles = StyleSheet.create({\n  root: {\n    height: 1,\n    flexGrow: 1,\n  },\n  container: {\n    height: 1,\n    flexGrow: 1,\n  },\n  topGradient: {\n    height: 30,\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    top: 0,\n    backgroundImage: `linear-gradient(to bottom, ${backgroundColor.default}, ${backgroundColor.defaultTransparent})`,\n    opacity: 0,\n    transition: \"200ms ease-in-out opacity\",\n    pointerEvents: \"none\",\n  },\n  visibleTopGradient: {\n    opacity: 1,\n  },\n});\n\ntype Props = {\n  children: ReactNode;\n  style?: ViewProps[\"style\"];\n  contentContainerStyle?: ViewProps[\"style\"];\n  // TODO: Refactor to remove this by default\n  horizontalSafeArea?: number;\n};\n\nexport const LakeScrollView = ({\n  children,\n  horizontalSafeArea = HORIZONTAL_SAFE_AREA,\n  style,\n  contentContainerStyle,\n}: Props) => {\n  const [isScrolled, setIsScrolled] = useState(false);\n\n  const onScroll = useCallback((event: NativeSyntheticEvent<NativeScrollEvent>) => {\n    setIsScrolled(event.nativeEvent.contentOffset.y > 0);\n  }, []);\n\n  return (\n    <View style={styles.root}>\n      <ScrollView\n        onScroll={onScroll}\n        scrollEventThrottle={16}\n        style={[styles.container, { marginHorizontal: -horizontalSafeArea }, style]}\n        contentContainerStyle={[{ paddingHorizontal: horizontalSafeArea }, contentContainerStyle]}\n      >\n        {children}\n      </ScrollView>\n\n      <View style={[styles.topGradient, isScrolled && styles.visibleTopGradient]} />\n    </View>\n  );\n};\n","import { Meta } from \"@storybook/react\";\nimport { StyleSheet, View } from \"react-native\";\nimport { LakeScrollView } from \"../src/components/LakeScrollView\";\nimport { LakeText } from \"../src/components/LakeText\";\nimport { Space } from \"../src/components/Space\";\nimport { colors, texts } from \"../src/constants/design\";\n\nconst styles = StyleSheet.create({\n  storyTitle: {\n    ...texts.h1,\n  },\n  blockSmall: {\n    width: 400,\n    height: 200,\n    backgroundColor: colors.gray[200],\n    borderRadius: 8,\n  },\n  blockMedium: {\n    width: 600,\n    height: 300,\n    backgroundColor: colors.gray[200],\n    borderRadius: 8,\n  },\n  blockLarge: {\n    width: 800,\n    height: 400,\n    backgroundColor: colors.gray[200],\n    borderRadius: 8,\n  },\n});\n\nexport default {\n  title: \"Layout/ScrollView\",\n  component: LakeScrollView,\n} as Meta<typeof LakeScrollView>;\n\nexport const Default = () => {\n  return (\n    <>\n      <View>\n        <LakeText style={styles.storyTitle}>ScrollView</LakeText>\n        <Space height={8} />\n        <LakeText>You can scroll to see gradient appear at top</LakeText>\n      </View>\n\n      <Space height={16} />\n\n      <LakeScrollView>\n        <View style={styles.blockSmall} />\n        <Space height={16} />\n        <View style={styles.blockLarge} />\n        <Space height={16} />\n        <View style={styles.blockMedium} />\n        <Space height={16} />\n        <View style={styles.blockLarge} />\n        <Space height={16} />\n        <View style={styles.blockSmall} />\n        <Space height={16} />\n        <View style={styles.blockMedium} />\n      </LakeScrollView>\n    </>\n  );\n};\n"],"names":["HORIZONTAL_SAFE_AREA","styles","StyleSheet","backgroundColor","LakeScrollView","children","horizontalSafeArea","style","contentContainerStyle","isScrolled","setIsScrolled","useState","onScroll","useCallback","event","jsxs","View","jsx","ScrollView","create","storyTitle","texts","h1","blockSmall","width","height","colors","gray","borderRadius","blockMedium","blockLarge","ScrollView_stories","title","component","Default","Fragment","LakeText","Space"],"mappings":"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"}