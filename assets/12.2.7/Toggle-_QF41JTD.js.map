{"version":3,"file":"Toggle-_QF41JTD.js","sources":["../../../packages/lake/src/components/Toggle.tsx"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from \"react\";\nimport { StyleSheet, Text, View, ViewStyle } from \"react-native\";\nimport { commonStyles } from \"../constants/commonStyles\";\nimport { colors } from \"../constants/design\";\nimport { Box } from \"./Box\";\nimport { Icon } from \"./Icon\";\nimport { LakeText } from \"./LakeText\";\nimport { Pressable } from \"./Pressable\";\n\nconst HEIGHT = 26;\nconst BORDER_WIDTH = 1;\n\nconst styles = StyleSheet.create({\n  switch: {\n    userSelect: \"none\",\n    flexDirection: \"row\",\n    borderRadius: HEIGHT / 2,\n    height: HEIGHT,\n    transform: \"translateZ(0px)\",\n    width: \"min-content\",\n    borderColor: colors.gray[100],\n    borderWidth: BORDER_WIDTH,\n  },\n  handle: {\n    position: \"absolute\",\n    width: HEIGHT,\n    height: HEIGHT,\n    top: -BORDER_WIDTH,\n    borderRadius: HEIGHT / 2,\n    transitionDuration: \"300ms\",\n    transitionTimingFunction: \"ease-in-out\",\n    borderWidth: BORDER_WIDTH,\n  },\n  switchItem: {\n    paddingHorizontal: 8,\n    height: HEIGHT - BORDER_WIDTH * 2,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n});\n\ntype Props = {\n  value: boolean;\n  disabled?: boolean;\n  onToggle: (next: boolean) => void;\n  mode?: \"desktop\" | \"mobile\";\n  onLabel: string;\n  offLabel: string;\n};\n\n/**\n * @deprecated\n */\nexport const Toggle = ({\n  onToggle,\n  value,\n  disabled = false,\n  mode = \"desktop\",\n  onLabel,\n  offLabel,\n}: Props) => {\n  const containerRef = useRef<View>(null);\n  const onItemRef = useRef<Text>(null);\n  const offItemRef = useRef<Text>(null);\n  const [handleStyle, setHandleStyle] = useState<ViewStyle>();\n  const isMobileMode = mode === \"mobile\";\n  const onColor = value ? colors.positive[500] : colors.gray[500];\n  const offColor = !value ? colors.negative[500] : colors.gray[500];\n\n  const reajustLayout = useCallback(() => {\n    (value ? onItemRef : offItemRef).current?.measureLayout(\n      containerRef.current as unknown as number,\n      (left, _, width) => {\n        setHandleStyle(prev => ({\n          transitionProperty: prev ? \"width, transform\" : \"none\",\n          width: width + 2 * BORDER_WIDTH,\n          transform: `translateX(${value ? -BORDER_WIDTH : left - 2 * BORDER_WIDTH}px)`,\n        }));\n      },\n      () => {},\n    );\n  }, [value]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies(reajustLayout):\n  // biome-ignore lint/correctness/useExhaustiveDependencies(value):\n  // biome-ignore lint/correctness/useExhaustiveDependencies(isMobileMode):\n  // biome-ignore lint/correctness/useExhaustiveDependencies(onLabel):\n  // biome-ignore lint/correctness/useExhaustiveDependencies(offLabel):\n  useEffect(reajustLayout, [reajustLayout, value, isMobileMode, onLabel, offLabel]);\n\n  return (\n    <Pressable\n      style={[styles.switch, disabled && commonStyles.disabled]}\n      onPress={() => onToggle(!value)}\n      aria-disabled={disabled}\n      aria-checked={value}\n      disabled={disabled}\n      ref={containerRef}\n      role=\"switch\"\n      onLayout={reajustLayout}\n    >\n      <View\n        style={[\n          styles.handle,\n          handleStyle,\n          {\n            borderColor: value ? colors.positive[500] : colors.negative[500],\n            backgroundColor: value ? colors.positive[50] : colors.negative[50],\n          },\n        ]}\n      />\n\n      <Box style={styles.switchItem} ref={onItemRef}>\n        {isMobileMode ? (\n          <Icon size={16} name=\"checkmark-circle-regular\" color={onColor} />\n        ) : (\n          <LakeText variant=\"smallMedium\" color={onColor}>\n            {onLabel}\n          </LakeText>\n        )}\n      </Box>\n\n      <Box style={styles.switchItem} ref={offItemRef}>\n        {isMobileMode ? (\n          <Icon size={16} name=\"subtract-circle-regular\" color={offColor} />\n        ) : (\n          <LakeText variant=\"smallMedium\" color={offColor}>\n            {offLabel}\n          </LakeText>\n        )}\n      </Box>\n    </Pressable>\n  );\n};\n"],"names":["HEIGHT","BORDER_WIDTH","styles","StyleSheet","colors","Toggle","onToggle","value","disabled","mode","onLabel","offLabel","containerRef","useRef","onItemRef","offItemRef","handleStyle","setHandleStyle","useState","isMobileMode","onColor","offColor","reajustLayout","useCallback","_a","left","_","width","prev","useEffect","jsxs","Pressable","commonStyles","jsx","View","Box","Icon","LakeText"],"mappings":"sNASA,MAAMA,EAAS,GACTC,EAAe,EAEfC,EAASC,EAAW,OAAO,CAC/B,OAAQ,CACN,WAAY,OACZ,cAAe,MACf,aAAcH,EAAS,EACvB,OAAQA,EACR,UAAW,kBACX,MAAO,cACP,YAAaI,EAAO,KAAK,GAAG,EAC5B,YAAaH,CACf,EACA,OAAQ,CACN,SAAU,WACV,MAAOD,EACP,OAAQA,EACR,IAAK,GACL,aAAcA,EAAS,EACvB,mBAAoB,QACpB,yBAA0B,cAC1B,YAAaC,CACf,EACA,WAAY,CACV,kBAAmB,EACnB,OAAQD,EAASC,EAAe,EAChC,QAAS,OACT,WAAY,SACZ,eAAgB,QAAA,CAEpB,CAAC,EAcYI,EAAS,CAAC,CACrB,SAAAC,EACA,MAAAC,EACA,SAAAC,EAAW,GACX,KAAAC,EAAO,UACP,QAAAC,EACA,SAAAC,CACF,IAAa,CACL,MAAAC,EAAeC,SAAa,IAAI,EAChCC,EAAYD,SAAa,IAAI,EAC7BE,EAAaF,SAAa,IAAI,EAC9B,CAACG,EAAaC,CAAc,EAAIC,WAAoB,EACpDC,EAAeV,IAAS,SACxBW,EAAUb,EAAQH,EAAO,SAAS,GAAG,EAAIA,EAAO,KAAK,GAAG,EACxDiB,EAAYd,EAA+BH,EAAO,KAAK,GAAG,EAAtCA,EAAO,SAAS,GAAG,EAEvCkB,EAAgBC,EAAAA,YAAY,IAAM,QACrCC,GAAAjB,EAAQO,EAAYC,GAAY,UAAhC,MAAAS,EAAyC,cACxCZ,EAAa,QACb,CAACa,EAAMC,EAAGC,IAAU,CAClBV,EAAwBW,IAAA,CACtB,mBAAoBA,EAAO,mBAAqB,OAChD,MAAOD,EAAQ,EAAI1B,EACnB,UAAW,cAAcM,EAAQ,GAAgBkB,EAAO,EAAIxB,CAAY,KAAA,EACxE,CACJ,EACA,IAAM,CAAA,EACR,EACC,CAACM,CAAK,CAAC,EAOVsB,OAAAA,EAAA,UAAUP,EAAe,CAACA,EAAef,EAAOY,EAAcT,EAASC,CAAQ,CAAC,EAG9EmB,EAAA,KAACC,EAAA,CACC,MAAO,CAAC7B,EAAO,OAAQM,GAAYwB,EAAa,QAAQ,EACxD,QAAS,IAAM1B,EAAS,CAACC,CAAK,EAC9B,gBAAeC,EACf,eAAcD,EACd,SAAAC,EACA,IAAKI,EACL,KAAK,SACL,SAAUU,EAEV,SAAA,CAAAW,EAAA,IAACC,EAAA,CACC,MAAO,CACLhC,EAAO,OACPc,EACA,CACE,YAAaT,EAAQH,EAAO,SAAS,GAAG,EAAIA,EAAO,SAAS,GAAG,EAC/D,gBAAiBG,EAAQH,EAAO,SAAS,EAAE,EAAIA,EAAO,SAAS,EAAE,CAAA,CACnE,CACF,CACF,EAEA6B,EAAAA,IAACE,EAAI,CAAA,MAAOjC,EAAO,WAAY,IAAKY,EACjC,SAAAK,EACEc,EAAAA,IAAAG,EAAA,CAAK,KAAM,GAAI,KAAK,2BAA2B,MAAOhB,CAAS,CAAA,EAE/Da,EAAAA,IAAAI,EAAA,CAAS,QAAQ,cAAc,MAAOjB,EACpC,SAAAV,CAAA,CACH,CAEJ,CAAA,EAEAuB,EAAAA,IAACE,EAAI,CAAA,MAAOjC,EAAO,WAAY,IAAKa,EACjC,SAAAI,EACEc,EAAAA,IAAAG,EAAA,CAAK,KAAM,GAAI,KAAK,0BAA0B,MAAOf,CAAU,CAAA,EAE/DY,EAAAA,IAAAI,EAAA,CAAS,QAAQ,cAAc,MAAOhB,EACpC,SAAAV,CACH,CAAA,CAEJ,CAAA,CAAA,CAAA,CACF,CAEJ"}