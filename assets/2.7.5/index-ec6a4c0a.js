import{r as U}from"./index-76fb7be0.js";import{_ as T}from"./extends-98964cd2.js";import{s as J}from"./index-0770acbf.js";import"./with-selector-a7fb66f8.js";var C;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(C||(C={}));var _=function(e){return e},D="beforeunload",te="popstate";function ne(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,a=r.history;function c(){var i=r.location,s=i.pathname,m=i.search,P=i.hash,k=a.state||{};return[k.idx,_({pathname:s,search:m,hash:P,state:k.usr||null,key:k.key||"default"})]}var o=null;function l(){if(o)g.call(o),o=null;else{var i=C.Pop,s=c(),m=s[0],P=s[1];if(g.length){if(m!=null){var k=v-m;k&&(o={action:i,location:P,retry:function(){y(k*-1)}},y(k))}}else O(i)}}r.addEventListener(te,l);var h=C.Pop,d=c(),v=d[0],p=d[1],A=H(),g=H();v==null&&(v=0,a.replaceState(T({},a.state,{idx:v}),""));function x(i){return typeof i=="string"?i:Q(i)}function R(i,s){return s===void 0&&(s=null),_(T({pathname:p.pathname,hash:"",search:""},typeof i=="string"?I(i):i,{state:s,key:M()}))}function S(i,s){return[{usr:i.state,key:i.key,idx:s},x(i)]}function b(i,s,m){return!g.length||(g.call({action:i,location:s,retry:m}),!1)}function O(i){h=i;var s=c();v=s[0],p=s[1],A.call({action:h,location:p})}function u(i,s){var m=C.Push,P=R(i,s);function k(){u(i,s)}if(b(m,P,k)){var L=S(P,v+1),K=L[0],N=L[1];try{a.pushState(K,"",N)}catch{r.location.assign(N)}O(m)}}function f(i,s){var m=C.Replace,P=R(i,s);function k(){f(i,s)}if(b(m,P,k)){var L=S(P,v),K=L[0],N=L[1];a.replaceState(K,"",N),O(m)}}function y(i){a.go(i)}var w={get action(){return h},get location(){return p},createHref:x,push:u,replace:f,go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(s){return A.push(s)},block:function(s){var m=g.push(s);return g.length===1&&r.addEventListener(D,q),function(){m(),g.length||r.removeEventListener(D,q)}}};return w}function re(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,a=t.initialIndex,c=r.map(function(u){var f=_(T({pathname:"/",search:"",hash:"",state:null,key:M()},typeof u=="string"?I(u):u));return f}),o=V(a??c.length-1,0,c.length-1),l=C.Pop,h=c[o],d=H(),v=H();function p(u){return typeof u=="string"?u:Q(u)}function A(u,f){return f===void 0&&(f=null),_(T({pathname:h.pathname,search:"",hash:""},typeof u=="string"?I(u):u,{state:f,key:M()}))}function g(u,f,y){return!v.length||(v.call({action:u,location:f,retry:y}),!1)}function x(u,f){l=u,h=f,d.call({action:l,location:h})}function R(u,f){var y=C.Push,w=A(u,f);function i(){R(u,f)}g(y,w,i)&&(o+=1,c.splice(o,c.length,w),x(y,w))}function S(u,f){var y=C.Replace,w=A(u,f);function i(){S(u,f)}g(y,w,i)&&(c[o]=w,x(y,w))}function b(u){var f=V(o+u,0,c.length-1),y=C.Pop,w=c[f];function i(){b(u)}g(y,w,i)&&(o=f,x(y,w))}var O={get index(){return o},get action(){return l},get location(){return h},createHref:p,push:R,replace:S,go:b,back:function(){b(-1)},forward:function(){b(1)},listen:function(f){return d.push(f)},block:function(f){return v.push(f)}};return O}function V(e,t,n){return Math.min(Math.max(e,t),n)}function q(e){e.preventDefault(),e.returnValue=""}function H(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function M(){return Math.random().toString(36).substr(2,8)}function Q(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,a=r===void 0?"":r,c=e.hash,o=c===void 0?"":c;return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function I(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function z(e){for(var t=0,n,r=0,a=e.length;a>=4;++r,a-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}function F(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(a,c){if(a){if(typeof a=="string")return F(a,c);var o=Object.prototype.toString.call(a).slice(8,-1);return o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set"?Array.from(a):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?F(a,c):void 0}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ae=function(e){return e!==""},oe=function(e,t){return e.length===t.length&&e.every(function(n,r){return n===t[r]})},ie=function(e){for(var t,n={},r=W(new URLSearchParams(e));!(t=r()).done;){var a=t.value,c=a[0],o=a[1],l=n[c];n[c]=l!=null?typeof l=="string"?[l,o]:l.concat(o):o}return n},G=function(e,t,n){var r=e+(e!==""?"&":"")+encodeURIComponent(t);return n!==""?r+"="+encodeURIComponent(n):r},ce=function(e){var t=Object.keys(e);if(t.length===0)return"";var n="";t.sort();for(var r=0,a=t;r<a.length;r++){var c=a[r],o=e[c];if(o!=null)if(typeof o=="string")n=G(n,c,o);else for(var l,h=W(o);!(l=h()).done;)n=G(n,c,l.value)}return n===""?"":"?"+n},X=function(e,t){var n=e.search,r=e.hash,a=e.pathname.substring(1),c=a!==""?t?a.split("/").filter(ae).map(decodeURIComponent):a.split("/").map(decodeURIComponent):[],o=n!==""?ie(n):{},l=r!==""?decodeURIComponent(r.substring(1)):null,h="/"+c.map(encodeURIComponent).join("/"),d=ce(o),v=l!=null?"#"+encodeURIComponent(l):"",p=h+d+v;return j({key:z(h)+"-"+z(d+v),path:c,search:o},l!==null&&{hash:l},{raw:{path:h,search:d,hash:v},toString:function(){return p}})},B=new Set,$=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?ne():re(),E=X($.location,!0);$.listen(function(e){var t=X(e.location,!1);if(t.toString()!==E.toString()){var n=t.raw.search!==E.raw.search,r=n?{}:E.search;if(n){for(var a in t.search)if(Object.prototype.hasOwnProperty.call(t.search,a)){var c=t.search[a];if(c==null)continue;var o=E.search[a];r[a]=o!=null&&typeof o!="string"&&typeof c!="string"&&oe(c,o)?o:c}}E=j({key:t.key,path:t.raw.path!==E.raw.path?t.path:E.path,search:r},t.hash!=null&&{hash:t.hash},{raw:t.raw,toString:t.toString}),B.forEach(function(l){return l(E)})}});var Y=function(e){return B.add(e),function(){B.delete(e)}},ue=function(){return E},Z=U.createContext(ue);Z.Provider;var ee=function(){return U.useContext(Z)},xe=function(){var e=ee();return J.useSyncExternalStore(Y,e,e)},le=function(e){var t=I(e),n=t.pathname,r=t.search,a=t.hash;$.push({pathname:n===void 0?"":n,search:r===void 0?"":r,hash:a===void 0?"":a})},fe=function(e){var t=I(e),n=t.pathname,r=t.search,a=t.hash;$.replace({pathname:n===void 0?"":n,search:r===void 0?"":r,hash:a===void 0?"":a})},se=function(e){var t=e.href,n=e.replace,r=n!==void 0&&n,a=e.target,c=U.useMemo(function(){return I(t).pathname},[t]),o=ee(),l=function(){return c===o().raw.path},h=J.useSyncExternalStore(Y,l,l),d=r||h,v=a==null||a==="_self";return{active:h,onClick:U.useCallback(function(p){p.defaultPrevented||!v||p.button!==0||p.metaKey||p.altKey||p.ctrlKey||p.shiftKey||(p.preventDefault(),d?fe(t):le(t))},[d,v,t])}},he=["onClick","className","replace","style","target","to","activeClassName","activeStyle"],ve=U.forwardRef(function(e,t){var n=e.onClick,r=e.className,a=e.replace,c=e.style,o=e.target,l=e.to,h=e.activeClassName,d=e.activeStyle,v=function(x,R){if(x==null)return{};var S,b,O={},u=Object.keys(x);for(b=0;b<u.length;b++)R.indexOf(S=u[b])>=0||(O[S]=x[S]);return O}(e,he),p=se({href:l,replace:a,target:o}),A=p.active,g=p.onClick;return U.createElement("a",j({},v,{ref:t,href:l,onClick:function(x){n==null||n(x),g(x)},target:o,className:A&&h!=null?r==null?h:r+" "+h:r,style:A&&d!=null?c==null?d:j({},c,d):c}))});ve.displayName="Link";export{ve as K,se as N,xe as P};
//# sourceMappingURL=index-ec6a4c0a.js.map
