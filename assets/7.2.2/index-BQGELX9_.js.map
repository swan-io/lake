{"version":3,"file":"index-BQGELX9_.js","sources":["../../../node_modules/@swan-io/chicane/dist/index.mjs"],"sourcesContent":["import{createContext as t,useSyncExternalStore as n,useContext as e,useMemo as r,useCallback as s,forwardRef as o,createElement as c,useId as l,useEffect as a}from\"react\";import i from\"@emotion/hash\";import{useSyncExternalStoreWithSelector as u}from\"use-sync-external-store/shim/with-selector.js\";const h=t=>t[0],p=t=>t[t.length-1],f=t=>t,g=()=>{},d=t=>\"\"!==t,m=t=>t.startsWith(\":\"),y=t=>\"/\"===t[0]?t:\"/\"+t,b=(t,n)=>t.length===n.length&&t.every((t,e)=>t===n[e]),w=t=>{const n=Object.keys(t);return n.length>0?JSON.stringify(n.sort().map(n=>[n,t[n]])):\"\"},v=(t,n,e)=>{const r=t+w(n),s=w(e);return i(r)+\"-\"+i(s)},k=(t,n)=>(null==t?void 0:t.key)===(null==n?void 0:n.key),S=t=>{const n=t.indexOf(\"{\");return n>-1&&t.endsWith(\"}\")?{name:t.substring(0,n),union:t.substring(n+1,t.length-1).split(\"|\").filter(d)}:{name:t}},O=t=>{const n=new URLSearchParams(t),e={};for(const[t,r]of n){const n=e[t];e[t]=null!=n?\"string\"==typeof n?[n,r]:n.concat(r):r}return e},P=/=&/g,R=/=$/g,C=t=>{const n=Object.keys(t);if(0===n.length)return\"\";const e=new URLSearchParams;n.sort();for(const r of n){const n=t[r];if(null!=n)if(\"string\"==typeof n)e.append(r,n);else for(const t of n)e.append(r,t)}const r=e.toString().replace(P,\"&\").replace(R,\"\");return\"\"===r?\"\":\"?\"+r};let j=!1;const U=t=>{const n=t.indexOf(\"#\"),e=y(n<0?t:t.substring(0,n)),r=e.indexOf(\"?\");return r<0?{path:e,search:\"\"}:{path:e.substring(0,r),search:e.substring(r)}},A=t=>{const n=U(t),e=n.path.substring(1),r=\"\"!==e?j?e.split(\"/\").map(decodeURIComponent):e.split(\"/\").filter(d).map(decodeURIComponent):[],s=\"\"!==n.search?O(n.search):{},o=\"/\"+r.map(encodeURIComponent).join(\"/\"),c=C(s),l=o+c;return{path:r,search:s,raw:{path:o,search:c},toString:()=>l}},E=t=>{t.preventDefault(),t.returnValue=\"\"},I=\"undefined\"!=typeof window?(()=>{const t=new Set;let n=[];const e=window.history,r=window.location;let s=A(r.pathname+r.search);const o=()=>{const n=A(r.pathname+r.search);if(n.toString()===s.toString())return;j=!0;const e=n.raw.search!==s.raw.search,o=e?{}:s.search;if(e)for(const t in n.search)if(Object.prototype.hasOwnProperty.call(n.search,t)){const e=n.search[t];if(null==e)continue;const r=s.search[t];o[t]=null!=r&&\"string\"!=typeof r&&\"string\"!=typeof e&&b(e,r)?r:e}s={path:n.raw.path!==s.raw.path?n.path:s.path,search:o,raw:n.raw,toString:n.toString},t.forEach(t=>t(s))};return window.addEventListener(\"popstate\",()=>{o()}),{get location(){return s},subscribe:n=>(t.add(n),()=>{t.delete(n)}),push:t=>{const s=p(n);if(null==s||window.confirm(s.message)){try{e.pushState(null,\"\",t)}catch{r.assign(t)}o()}},replace:t=>{const r=p(n);(null==r||window.confirm(r.message))&&(e.replaceState(null,\"\",t),o())},block:t=>(n.push(t),1===n.length&&window.addEventListener(\"beforeunload\",E,{capture:!0}),()=>{n=n.filter(n=>{let{id:e}=n;return e!==t.id}),0===n.length&&window.removeEventListener(\"beforeunload\",E,{capture:!0})})}})():{location:A(\"/\"),subscribe:()=>g,push:g,replace:g,block:()=>g},L=()=>I.location,N=I.subscribe,x=I.push,K=I.replace,T=I.block,W=t(L),D=W.Provider,J=()=>e(W),V=()=>{const t=J();return n(N,t,t)},X=t=>{let{href:e,replace:o=!1,target:c}=t;const l=r(()=>U(e).path,[e]),a=J(),i=()=>l===a().raw.path,u=n(N,i,i),h=o||u,p=null==c||\"_self\"===c;return{active:u,onClick:s(t=>{t.defaultPrevented||!p||0!==t.button||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||(t.preventDefault(),h?K(e):x(e))},[h,p,e])}},$=o((t,n)=>{let{onClick:e,className:r,replace:s,style:o,target:l,to:a,activeClassName:i,activeStyle:u,...h}=t;const{active:p,onClick:f}=X({href:a,replace:s,target:l});return c(\"a\",{...h,ref:n,href:a,onClick:t=>{null==e||e(t),f(t)},target:l,className:p&&null!=i?null==r?i:r+\" \"+i:r,style:p&&null!=u?null==o?u:{...o,...u}:o})});$.displayName=\"Link\";const _=(t,n)=>\"\"===t?t:n+t,q=(t,n)=>{const e=y(t.path),r=y(n.path),s=t.search.substring(1),o=n.search.substring(1),c=\"/\"===e?r:\"/\"===r?e:e+r,l=\"\"===s?o:s+_(o,\"&\");return c+_(l,\"?\")},z=(t,n,e)=>{const r=U(n),s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[t+n]=q(r,U(e[n])));return s},B=(t,n)=>{const e=U(n),r=e.path.endsWith(\"/*\"),{ranking:s,path:o}=(t=>{const n=t.split(\"/\").filter(d),e=[];let r=n.length>0?5*n.length:6;for(const t of n)if(m(t)){const n=S(t.substring(1));r+=null==n.union?2:3,e.push(n)}else r+=4,e.push(encodeURIComponent(t));return{ranking:r,path:e}})(r?e.path.slice(0,-2):e.path),c={isArea:r,name:t,ranking:r?s-1:s,path:o,search:void 0};if(\"\"!==e.search){c.search={};const t=new URLSearchParams(e.search);for(const[n]of t)if(m(n)){const t=n.endsWith(\"[]\"),{name:e,union:r}=S(n.substring(1,n.length-(t?2:0)));c.search[e]=null==r?{multiple:t}:{multiple:t,union:r}}}return c},F=(t,n)=>{const{path:e}=t,{isArea:r,path:s}=n;if(!r&&e.length!==s.length||r&&e.length<s.length)return;const o={};for(let t=0;t<s.length;t++){const n=e[t],r=s[t];if(null==r)continue;if(\"string\"==typeof r){if(n===r)continue;return}if(null==n)return;const{name:c,union:l}=r;if(null!=l&&!l.includes(n))return;o[c]=n}const c={};for(const e in n.search)if(Object.prototype.hasOwnProperty.call(n.search,e)){const r=n.search[e],s=t.search[e];if(null==r||null==s)continue;const{multiple:o,union:l}=r,a=\"string\"==typeof s?[s]:s,i=null==l?a:a.filter(t=>l.includes(t));if(o){c[e]=i;continue}const u=i[0];null==u||null!=l&&!l.includes(u)||(c[e]=u)}return{key:v(n.name,o,c),name:n.name,params:{...o,...c}}},G=(t,n)=>{for(const e of n){const n=F(t,e);if(null!=n)return n}},H=function(t,n){void 0===n&&(n={});const e=\"/\"+t.path.map(t=>encodeURIComponent(\"string\"==typeof t?t:String(n[t.name]))).join(\"/\");let r=\"\";if(null!=t.search){const e={};for(const r in n){const s=t.search[r],o=n[r];if(null!=s&&null!=o){const{union:t}=s;\"string\"==typeof o?(null==t||t.includes(o))&&(e[r]=o):e[r]=null==t?o:o.filter(n=>t.includes(n))}}r=C(e)}return e+r},M=function(t,n){void 0===n&&(n={});const{basePath:e=\"\"}=n,s={path:U(e).path,search:\"\"},o={},c=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=B(n,\"\"!==e?q(s,U(t[n])):t[n]);o[n]=r,c.push(r)}c.sort((t,n)=>n.ranking-t.ranking);const l={},a={};for(const t of c){const n=t.name;if(l[n]=t=>({name:n,params:t}),!t.isArea){const t=n;a[t]=n=>H(o[t],n)}}return{useRoute:t=>{const n=JSON.stringify(t),e=r(()=>c.filter(n=>{let{name:e}=n;return t.includes(e)}),[n]),s=J(),o=()=>G(s(),e);return u(N,o,o,f,k)},getRoute:t=>{const n=L(),e=c.filter(n=>{let{name:e}=n;return t.includes(e)});return G(n,e)},push:function(t){return x(H(o[t],h([].slice.call(arguments,1))))},replace:function(t){return K(H(o[t],h([].slice.call(arguments,1))))},P:l,...a}},Q=t=>{let{children:n,value:e}=t;const r=A(e);return c(D,{children:n,value:()=>r})},Y=(t,n)=>{const e=l();a(()=>{if(t)return T({id:e,message:n})})},Z={A:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0},tt=t=>{let{route:n,containerRef:e}=t;const r=null==n?void 0:n.key.split(\"-\")[0];a(()=>{const t=e.current;if(null!=t&&j)try{null!=t.getAttribute(\"tabIndex\")||Z[t.nodeName]||t.setAttribute(\"tabIndex\",\"-1\"),t.focus()}catch{}},[e,r])};export{$ as Link,Q as ServerUrlProvider,z as createGroup,M as createRouter,O as decodeSearch,C as encodeSearch,L as getLocation,x as pushUnsafe,K as replaceUnsafe,N as subscribeToLocation,Y as useBlocker,tt as useFocusReset,X as useLinkProps,V as useLocation};\n//# sourceMappingURL=index.mjs.map\n"],"names":["p","t","g","d","y","b","n","e","r","R","C","j","U","A","s","o","c","l","E","I","L","N","x","K","W","J","V","X","a","i","u","h","$","f"],"mappings":"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","x_google_ignoreList":[0]}