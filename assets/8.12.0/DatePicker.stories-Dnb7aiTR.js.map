{"version":3,"file":"DatePicker.stories-Dnb7aiTR.js","sources":["../../../packages/lake/__stories__/DatePicker.stories.tsx"],"sourcesContent":["import { Meta } from \"@storybook/react\";\nimport {\n  DatePicker,\n  DatePickerModal,\n  DatePickerProps,\n  DateRangePicker,\n  DateRangePickerModal,\n  DateRangePickerProps,\n  isDateInRange,\n  isTodayOrFutureDate,\n  validateDateRangeOrder,\n} from \"@swan-io/shared-business/src/components/DatePicker\";\nimport { useRef, useState } from \"react\";\nimport { StyleSheet, View } from \"react-native\";\nimport { Except } from \"type-fest\";\nimport { LakeButton } from \"../src/components/LakeButton\";\nimport { LakeText } from \"../src/components/LakeText\";\nimport { Space } from \"../src/components/Space\";\nimport { WithPartnerAccentColor } from \"../src/components/WithPartnerAccentColor\";\nimport { StoryBlock, StoryPart } from \"./_StoriesComponents\";\n\nconst styles = StyleSheet.create({\n  container: {\n    maxWidth: 430,\n  },\n  button: {\n    alignSelf: \"flex-start\",\n  },\n});\n\nconst FIFTEEN_DAYS_AGO = new Date();\nFIFTEEN_DAYS_AGO.setDate(FIFTEEN_DAYS_AGO.getDate() - 15);\n\nconst FIFTEEN_DAYS_LATER = new Date();\nFIFTEEN_DAYS_LATER.setDate(FIFTEEN_DAYS_LATER.getDate() + 15);\n\nexport default {\n  title: \"Forms/DatePicker\",\n  component: DatePicker,\n} as Meta<typeof DatePicker>;\n\nconst InteractiveDatePicker = ({ ...props }: Except<DatePickerProps, \"value\" | \"onChange\">) => {\n  const [value, setValue] = useState<string>();\n\n  return <DatePicker {...props} value={value} onChange={setValue} />;\n};\n\nconst InteractiveDateRangePicker = ({\n  ...props\n}: Except<DateRangePickerProps, \"value\" | \"onChange\">) => {\n  const [value, setValue] = useState({ start: \"\", end: \"\" });\n  const isRangeValid = validateDateRangeOrder(value, props.format);\n\n  return (\n    <DateRangePicker\n      {...props}\n      value={value}\n      error={isRangeValid ? undefined : \"End date can't be before start date\"}\n      onChange={setValue}\n    />\n  );\n};\n\nexport const Default = () => {\n  return (\n    <WithPartnerAccentColor color=\"#0F6FDE\">\n      <StoryBlock title=\"DatePicker\">\n        <StoryPart title=\"Default\">\n          <View style={styles.container}>\n            <InteractiveDatePicker\n              label=\"Select a date\"\n              firstWeekDay=\"monday\"\n              format=\"DD/MM/YYYY\"\n            />\n          </View>\n        </StoryPart>\n\n        <StoryPart title=\"Week starting sunday\">\n          <View style={styles.container}>\n            <InteractiveDatePicker\n              label=\"Select a date\"\n              firstWeekDay=\"sunday\"\n              format=\"DD/MM/YYYY\"\n            />\n          </View>\n        </StoryPart>\n\n        <StoryPart title=\"Selectable only in the future\">\n          <View style={styles.container}>\n            <InteractiveDatePicker\n              label=\"Select a date\"\n              firstWeekDay=\"sunday\"\n              format=\"DD/MM/YYYY\"\n              isSelectable={isTodayOrFutureDate}\n            />\n          </View>\n        </StoryPart>\n\n        <StoryPart title=\"Selectable only in a range (15 days before or after today)\">\n          <View style={styles.container}>\n            <InteractiveDatePicker\n              label=\"Select a date\"\n              firstWeekDay=\"sunday\"\n              format=\"DD/MM/YYYY\"\n              isSelectable={isDateInRange(FIFTEEN_DAYS_AGO, FIFTEEN_DAYS_LATER)}\n            />\n          </View>\n        </StoryPart>\n      </StoryBlock>\n    </WithPartnerAccentColor>\n  );\n};\n\nexport const ButtonWithModal = () => {\n  const buttonRef = useRef<View | null>(null);\n  const [value, setValue] = useState(\"\");\n  const [isOpened, setIsOpened] = useState(false);\n\n  return (\n    <WithPartnerAccentColor color=\"#0F6FDE\">\n      <StoryBlock title=\"DatePicker Modal\">\n        <StoryPart title=\"Default\">\n          <LakeText>Selected date: {value}</LakeText>\n          <Space height={20} />\n\n          <LakeButton ref={buttonRef} style={styles.button} onPress={() => setIsOpened(true)}>\n            Open date picker\n          </LakeButton>\n\n          <DatePickerModal\n            visible={isOpened}\n            value={value}\n            firstWeekDay=\"monday\"\n            format=\"DD/MM/YYYY\"\n            label=\"Select a date\"\n            confirmLabel=\"Select\"\n            cancelLabel=\"Cancel\"\n            onChange={setValue}\n            onDismiss={() => setIsOpened(false)}\n          />\n        </StoryPart>\n      </StoryBlock>\n    </WithPartnerAccentColor>\n  );\n};\n\nexport const Range = () => {\n  return (\n    <WithPartnerAccentColor color=\"#0F6FDE\">\n      <StoryBlock title=\"DateRangePicker\">\n        <StoryPart title=\"Default\">\n          <View style={styles.container}>\n            <InteractiveDateRangePicker\n              startLabel=\"Start date\"\n              endLabel=\"End date\"\n              firstWeekDay=\"monday\"\n              format=\"DD/MM/YYYY\"\n            />\n          </View>\n        </StoryPart>\n      </StoryBlock>\n    </WithPartnerAccentColor>\n  );\n};\n\nexport const ButtonWithRangePopover = () => {\n  const [value, setValue] = useState({ start: \"\", end: \"\" });\n  const [isOpened, setIsOpened] = useState(false);\n\n  return (\n    <WithPartnerAccentColor color=\"#0F6FDE\">\n      <StoryBlock title=\"DatePicker Popover\">\n        <StoryPart title=\"Default\">\n          <LakeText>\n            Selected date: {value.start} - {value.end}\n          </LakeText>\n\n          <Space height={20} />\n\n          <LakeButton style={styles.button} onPress={() => setIsOpened(true)}>\n            Open date range picker\n          </LakeButton>\n\n          <DateRangePickerModal\n            visible={isOpened}\n            value={value}\n            firstWeekDay=\"monday\"\n            format=\"DD/MM/YYYY\"\n            startLabel=\"Start date\"\n            endLabel=\"End date\"\n            confirmLabel=\"Select\"\n            cancelLabel=\"Cancel\"\n            onChange={setValue}\n            onDismiss={() => setIsOpened(false)}\n          />\n        </StoryPart>\n      </StoryBlock>\n    </WithPartnerAccentColor>\n  );\n};\n"],"names":["styles","StyleSheet","create","container","maxWidth","button","alignSelf","FIFTEEN_DAYS_AGO","Date","setDate","getDate","FIFTEEN_DAYS_LATER","DatePicker_stories","title","component","DatePicker","InteractiveDatePicker","props","value","setValue","useState","InteractiveDateRangePicker","start","end","isRangeValid","validateDateRangeOrder","format","jsx","DateRangePicker","undefined","Default","WithPartnerAccentColor","jsxs","StoryBlock","StoryPart","View","isTodayOrFutureDate","isDateInRange","ButtonWithModal","buttonRef","useRef","isOpened","setIsOpened","LakeText","Space","LakeButton","DatePickerModal","Range","ButtonWithRangePopover","DateRangePickerModal"],"mappings":"y0CAqBA,MAAMA,EAASC,EAAWC,OAAO,CAC/BC,UAAW,CACTC,SAAU,GACZ,EACAC,OAAQ,CACNC,UAAW,YACb,CACF,CAAC,EAEKC,MAAuBC,KAC7BD,EAAiBE,QAAQF,EAAiBG,QAAQ,EAAI,EAAE,EAExD,MAAMC,MAAyBH,KAC/BG,EAAmBF,QAAQE,EAAmBD,QAAQ,EAAI,EAAE,EAE5D,MAAeE,GAAA,CACbC,MAAO,mBACPC,UAAWC,CACb,EAEMC,EAAwBA,CAAC,CAAE,GAAGC,CAAqD,IAAM,CAC7F,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAiB,SAAA,EAE3C,aAAQL,MAAeE,EAAO,MAAAC,EAAc,SAAUC,CAAY,CAAA,CACpE,EAEME,EAA6BA,CAAC,CAClC,GAAGJ,CAC+C,IAAM,CACxD,KAAM,CAACC,EAAOC,CAAQ,EAAIC,WAAS,CAAEE,MAAO,GAAIC,IAAK,EAAA,CAAI,EACnDC,EAAeC,EAAuBP,EAAOD,EAAMS,MAAM,EAG7D,OAAAC,EAAA,IAACC,EACC,CAAA,GAAIX,EACJ,MAAAC,EACA,MAAOM,EAAeK,OAAY,sCAClC,SAAUV,CACV,CAAA,CAEN,EAEaW,EAAUA,UAElBC,EAAuB,CAAA,MAAM,UAC5B,SAACC,EAAA,KAAAC,EAAA,CAAW,MAAM,aAChB,SAAA,CAAAN,EAAAA,IAACO,GAAU,MAAM,UACf,SAACP,EAAA,IAAAQ,EAAA,CAAK,MAAOnC,EAAOG,UAClB,SAACwB,EAAAA,IAAAX,EAAA,CACC,MAAM,gBACN,aAAa,SACb,OAAO,aAAY,EAEvB,CACF,CAAA,QAECkB,EAAU,CAAA,MAAM,uBACf,SAACP,EAAA,IAAAQ,EAAA,CAAK,MAAOnC,EAAOG,UAClB,SAACwB,EAAAA,IAAAX,EAAA,CACC,MAAM,gBACN,aAAa,SACb,OAAO,aAAY,EAEvB,CACF,CAAA,EAEAW,EAAAA,IAACO,GAAU,MAAM,gCACf,eAACC,EAAK,CAAA,MAAOnC,EAAOG,UAClB,SAAAwB,MAACX,GACC,MAAM,gBACN,aAAa,SACb,OAAO,aACP,aAAcoB,EAAoB,EAEtC,CACF,CAAA,EAEAT,EAAAA,IAACO,GAAU,MAAM,6DACf,eAACC,EAAK,CAAA,MAAOnC,EAAOG,UAClB,SAACwB,EAAAA,IAAAX,EAAA,CACC,MAAM,gBACN,aAAa,SACb,OAAO,aACP,aAAcqB,EAAc9B,EAAkBI,CAAkB,CAAE,CAAA,CAAA,CAEtE,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EAIS2B,EAAkBA,IAAM,CAC7BC,MAAAA,EAAYC,SAAoB,IAAI,EACpC,CAACtB,EAAOC,CAAQ,EAAIC,WAAS,EAAE,EAC/B,CAACqB,EAAUC,CAAW,EAAItB,WAAS,EAAK,EAG5C,OAAAO,EAAAA,IAACI,EAAuB,CAAA,MAAM,UAC5B,SAAAJ,EAAAA,IAACM,EAAW,CAAA,MAAM,mBAChB,SAAAD,EAAA,KAACE,EAAU,CAAA,MAAM,UACf,SAAA,CAAAF,OAACW,EAAS,CAAA,SAAA,CAAA,kBAAgBzB,CAAAA,EAAM,EAChCS,EAAAA,IAACiB,EAAM,CAAA,OAAQ,EAAG,CAAA,EAEjBjB,EAAAA,IAAAkB,EAAA,CAAW,IAAKN,EAAW,MAAOvC,EAAOK,OAAQ,QAAS,IAAMqC,EAAY,EAAI,EAAE,SAEnF,kBAAA,CAAA,EAEAf,MAACmB,GACC,QAASL,EACT,MAAAvB,EACA,aAAa,SACb,OAAO,aACP,MAAM,gBACN,aAAa,SACb,YAAY,SACZ,SAAUC,EACV,UAAW,IAAMuB,EAAY,EAAK,EAAE,CAAA,EAExC,EACF,CACF,CAAA,CAEJ,EAEaK,EAAQA,IAEhBpB,EAAA,IAAAI,EAAA,CAAuB,MAAM,UAC5B,SAACJ,EAAAA,IAAAM,EAAA,CAAW,MAAM,kBAChB,SAACN,EAAA,IAAAO,EAAA,CAAU,MAAM,UACf,eAACC,EAAK,CAAA,MAAOnC,EAAOG,UAClB,SAACwB,EAAAA,IAAAN,EAAA,CACC,WAAW,aACX,SAAS,WACT,aAAa,SACb,OAAO,YAAA,CAAY,CAEvB,CAAA,CACF,CAAA,EACF,CACF,CAAA,EAIS2B,EAAyBA,IAAM,CAC1C,KAAM,CAAC9B,EAAOC,CAAQ,EAAIC,WAAS,CAAEE,MAAO,GAAIC,IAAK,EAAA,CAAI,EACnD,CAACkB,EAAUC,CAAW,EAAItB,WAAS,EAAK,EAG5C,OAAAO,EAAAA,IAACI,EAAuB,CAAA,MAAM,UAC5B,SAAAJ,EAAAA,IAACM,EAAW,CAAA,MAAM,qBAChB,SAAAD,EAAA,KAACE,EAAU,CAAA,MAAM,UACf,SAAA,CAAAF,OAACW,EAAQ,CAAA,SAAA,CAAA,kBACSzB,EAAMI,MAAM,MAAIJ,EAAMK,GAAAA,EACxC,EAEAI,EAAAA,IAACiB,EAAM,CAAA,OAAQ,EAAG,CAAA,EAElBjB,EAAAA,IAACkB,EAAW,CAAA,MAAO7C,EAAOK,OAAQ,QAAS,IAAMqC,EAAY,EAAI,EAAE,SAEnE,wBAAA,CAAA,EAEAf,EAAAA,IAACsB,GACC,QAASR,EACT,MAAAvB,EACA,aAAa,SACb,OAAO,aACP,WAAW,aACX,SAAS,WACT,aAAa,SACb,YAAY,SACZ,SAAUC,EACV,UAAW,IAAMuB,EAAY,EAAK,CAAE,CAAA,CAAA,EAExC,EACF,CACF,CAAA,CAEJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}