import{l as x,E as Ie,Y as Be,H as u,$ as T,N as g,G as O,s as Ve,g as Ge,f as qe,j as f,V as te,c as k,B as fe,I as B,S as j,L as re,n as We,P as $e,p as de,h as Ue}from"./Space-B-tuzGSB.js";import{L as C}from"./LakeButton-B_Hql0KV.js";import{r as P}from"./index-CBqU2yxZ.js";import{t as ye}from"./i18n-DIYvDvdE.js";import{w as Ke}from"./with-selector-D-Y2eL2T.js";import{A as H,E as ne}from"./Animated-BJ_olNVs.js";import{P as ge}from"./Pressable-D4CfqCYA.js";import{T as Qe}from"./TransitionGroupView-C1IfMiqT.js";import{C as ze}from"./index-DGaDRGzj.js";import{S as Ye,a as se}from"./_StoriesComponents-qw3Cph9e.js";import"./extends-CCbyfPlC.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-BtM5VmRH.js";import"./commonStyles-t4XfA7cz.js";import"./index-CP-wDJ33.js";import"./rifm-BUW2jT7k.js";import"./utc-DJvBpWoA.js";import"./array-rjEBP2Ry.js";import"./index-BwReBjvh.js";import"./index-BJ_S6Iac.js";import"./index-CuzezegV.js";import"./TransitionView-C72wiUIW.js";function ke(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ke=function(){return!!e})()}function Z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Q(e,t)}function ae(e){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ae(e)}function Q(e,t){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Q(e,t)}function G(e){var t=typeof Map=="function"?new Map:void 0;return G=function(r){if(r===null||!function(s){try{return Function.toString.call(s).indexOf("[native code]")!==-1}catch{return typeof s=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return function(s,o,i){if(ke())return Reflect.construct.apply(null,arguments);var c=[null];c.push.apply(c,o);var l=new(s.bind.apply(s,c));return i&&Q(l,i.prototype),l}(r,arguments,ae(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Q(n,r)},G(e)}function z(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var He=function(e){function t(r){var n;return(n=e.call(this,"Request to "+r+" failed")||this).url=void 0,Object.setPrototypeOf(z(n),t.prototype),n.name="NetworkError",n.url=r,n}return Z(t,e),t}(G(Error)),Je=function(e){function t(r,n){var s;return n==null?((s=e.call(this,"Request to "+r+" timed out")||this).url=void 0,s.timeout=void 0):((s=e.call(this,"Request to "+r+" timed out (> "+n+"ms)")||this).url=void 0,s.timeout=void 0),Object.setPrototypeOf(z(s),t.prototype),s.name="TimeoutError",s.url=r,s.timeout=n,z(s)}return Z(t,e),t}(G(Error)),Xe=function(e){function t(r,n,s){var o;return(o=e.call(this,"Request to "+r+" gave status "+n)||this).url=void 0,o.status=void 0,o.response=void 0,Object.setPrototypeOf(z(o),t.prototype),o.name="BadStatusError",o.url=r,o.status=n,o.response=s,o}return Z(t,e),t}(G(Error)),Ze=function(e){return e.ok?x.Ok(e):x.Error(new Xe(e.url,e.status,e.response.toUndefined()))},et=function(e){function t(r){var n;return(n=e.call(this,"Request to "+r+" gave an empty response")||this).url=void 0,Object.setPrototypeOf(z(n),t.prototype),n.name="EmptyResponseError",n.url=r,n}return Z(t,e),t}(G(Error)),tt=function(e){return e.response.toResult(new et(e.url))},rt={make:function(e){var t=e.url,r=e.method,n=r===void 0?"GET":r,s=e.responseType,o=e.body,i=e.headers,c=e.withCredentials,l=c!==void 0&&c,p=e.onLoadStart,a=e.onProgress,h=e.timeout;return Ie.make(function(d){var m=new XMLHttpRequest;m.withCredentials=l,m.open(n,t,!0),s!=null&&(m.responseType=s),h!=null&&(m.timeout=h),i!=null&&Be.entries(i).forEach(function(w){return m.setRequestHeader(w[0],w[1])});var v=function(){b(),d(x.Error(new He(t)))},y=function(){b(),d(x.Error(new Je(t,h)))},E=function(){b();var w=m.status,A=u.fromNullable(m.response);d(x.Ok({url:t,status:w,ok:w>=200&&w<300,response:A,xhr:m}))},b=function(){m.removeEventListener("error",v),m.removeEventListener("load",E),m.removeEventListener("timeout",y),p!=null&&m.removeEventListener("loadstart",p),a!=null&&m.removeEventListener("progress",a)};return m.addEventListener("error",v),m.addEventListener("load",E),m.addEventListener("timeout",y),p!=null&&m.addEventListener("loadstart",p),a!=null&&m.addEventListener("progress",a),m.send(o),function(){b(),m.abort()}})}},S={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"},U={QUERY:"query",MUTATION:"mutation",SUBSCRIPTION:"subscription"};class ve extends Error{constructor(t,r,n,s,o,i,c){super(t),this.name="GraphQLError",this.message=t,o&&(this.path=o),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),s&&(this.positions=s),i&&(this.originalError=i);var l=c;if(!l&&i){var p=i.extensions;p&&typeof p=="object"&&(l=p)}this.extensions=l||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}}var nt=function(e){return e[e.Const=1]="Const",e[e.Var=2]="Var",e[e.Int=3]="Int",e[e.Float=4]="Float",e[e.BlockString=5]="BlockString",e[e.String=6]="String",e[e.Enum=7]="Enum",e}(nt||{}),st=function(e){return e[e.Spread=1]="Spread",e[e.Name=2]="Name",e}(st||{}),q={};function le(e,t){var r=[],n=[];try{var s=function o(i,c,l){var p=!1,a=t[i.kind]&&t[i.kind].enter||t[i.kind]||t.enter,h=a&&a.call(t,i,c,l,n,r);if(h===!1)return i;if(h===null)return null;if(h===q)throw q;h&&typeof h.kind=="string"&&(p=h!==i,i=h),l&&r.push(l);var d,m={...i};for(var v in i){n.push(v);var y=i[v];if(Array.isArray(y)){for(var E=[],b=0;b<y.length;b++)y[b]!=null&&typeof y[b].kind=="string"&&(r.push(i),n.push(b),d=o(y[b],b,y),n.pop(),r.pop(),d==null?p=!0:(p=p||d!==y[b],E.push(d)));y=E}else y!=null&&typeof y.kind=="string"&&(d=o(y,v,i))!==void 0&&(p=p||y!==d,y=d);n.pop(),p&&(m[v]=y)}l&&r.pop();var w=t[i.kind]&&t[i.kind].leave||t.leave,A=w&&w.call(t,i,c,l,n,r);if(A===q)throw q;return A!==void 0?A:h!==void 0?p?m:h:p?m:i}(e);return s!==void 0&&s!==!1?s:e}catch(o){if(o!==q)throw o;return e}}var W=Symbol.for("DEEP_MERGE_DELETE"),V=Symbol.for("__requestedKeys"),K=(e,t)=>{if(e instanceof Set&&t instanceof Set)return new Set([...e,...t]);const r=Array.isArray(e)?Array(e.length):Array.isArray(t)?Array(t.length):{};return Object.getOwnPropertyNames(e).forEach(n=>{t[n]!==W&&(r[n]=e[n])}),Object.getOwnPropertySymbols(e).forEach(n=>{t[n]!==W&&(r[n]=e[n])}),Object.getOwnPropertyNames(t).forEach(n=>{t[n]!==W&&(N(r[n])&&N(t[n])?r[n]=K(r[n],t[n]):r[n]=t[n])}),Object.getOwnPropertySymbols(t).forEach(n=>{t[n]!==W&&(N(r[n])&&N(t[n])?r[n]=K(r[n],t[n]):r[n]=t[n])}),r},Le=(e,t)=>[...t.values()].every(n=>e.has(n)),N=e=>e!=null&&typeof e=="object",X=Object.prototype.hasOwnProperty,_e=(e,t)=>{if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r)if(!X.call(t,s)||!_e(e[s],t[s]))return!1;return!0},ce=e=>JSON.stringify(e),J=e=>T(e).with({__typename:g.select(g.union("Query","Mutation","Subscription"))},t=>u.Some(Symbol.for(t))).with({__typename:g.select("name",g.string),id:g.select("id",g.string)},({name:t,id:r})=>u.Some(Symbol.for(`${t}<${r}>`))).otherwise(()=>u.None()),je=e=>T(e.operation).with(U.QUERY,()=>u.Some(Symbol.for("Query"))).with(U.SUBSCRIPTION,()=>u.Some(Symbol.for("Subscription"))).otherwise(()=>u.None()),ot=class{constructor(e){this.cache=new Map,this.operationCache=new Map,this.schemaConfig=Object.fromEntries(Object.entries(e.interfaceToTypes).map(([t,r])=>[t,new Set(r)]))}isTypeCompatible(e,t){if(e===t)return!0;const r=this.schemaConfig[t];return r==null?!1:r.has(e)}dump(){return this.cache}getOperationFromCache(e,t){const r=ce(t);return u.fromNullable(this.operationCache.get(e)).flatMap(n=>u.fromNullable(n.get(r))).flatMap(n=>n)}setOperationInCache(e,t,r){const n=ce(t),s=u.fromNullable(this.operationCache.get(e)).getWithDefault(new Map);s.set(n,u.Some(r)),this.operationCache.set(e,s)}getFromCache(e,t){return this.get(e).flatMap(r=>N(r)?Le(r[V],t)?u.Some(r):u.None():u.Some(r))}getFromCacheWithoutKey(e){return this.get(e).flatMap(t=>u.Some(t))}get(e){return this.cache.has(e)?u.Some(this.cache.get(e)):u.None()}getOrDefault(e){return this.cache.has(e)?this.cache.get(e):{}}set(e,t){this.cache.set(e,t)}cacheIfEligible(e,t){const r=J(e);if(r.isSome()){const n=r.get(),s=this.getOrDefault(n);return this.set(n,K(s,N(e)?{...e,[V]:t}:e)),n}else return e}updateFieldInClosestCachedAncestor({originalFieldName:e,fieldNameWithArguments:t,value:r,path:n,ancestors:s,variables:o,rootTypename:i,selectedKeys:c}){const l=s.concat(),p=n.concat(),a=[];let h;for(;h=l.pop();){const d=J(l.length===0?{...h,__typename:i}:h);if(d.isSome()){const m=d.get(),v=this.getOrDefault(m);N(r)&&!O.isArray(r)&&(typeof r.__typename=="string"&&r.__typename.endsWith("Connection")&&(r.__connectionCacheKey=m.description,r.__connectionCachePath=[[...a,t].map(E=>typeof E=="symbol"?{symbol:E.description}:E)],r.__connectionArguments=o),r[V]=c);const y=a.reduce((E,b)=>({[b]:E}),{[e]:W,[t]:r});this.set(m,K(v,y));break}a.push(p.pop())}}unsafe__update(e,t,r){this.get(e).map(n=>{t.reduce((o,i)=>o.flatMap(c=>u.fromNullable(N(c)?c[i]:null)),u.fromNullable(n)).map(o=>{const i=t.reduce((c,l)=>({[l]:c}),r(o));this.set(e,K(n,i))})})}updateConnection(e,t){T(e).with({__connectionCacheKey:g.string,__connectionCachePath:g.array(g.array(g.union({symbol:g.string},g.string)))},({__connectionCacheKey:r,__connectionCachePath:n})=>{const s=Symbol.for(r),o=n.map(p=>p.map(a=>typeof a=="string"?a:Symbol.for(a.symbol))),i=Symbol.for("__typename"),c=Symbol.for("edges"),l=Symbol.for("node");T(t).with({prepend:g.select(g.nonNullable)},p=>{const a=o[0];a!=null&&this.unsafe__update(s,a,h=>!N(h)||!O.isArray(h[c])?h:{...h,[c]:[...O.filterMap(p,({node:d,__typename:m})=>J(d).flatMap(v=>this.getFromCacheWithoutKey(v).map(()=>({[i]:m,[l]:v})))),...h[c]]})}).with({append:g.select(g.nonNullable)},p=>{const a=o[o.length-1];a!=null&&this.unsafe__update(s,a,h=>!N(h)||!O.isArray(h[c])?h:{...h,[c]:[...h[c],...O.filterMap(p,({node:d,__typename:m})=>J(d).flatMap(v=>this.getFromCacheWithoutKey(v).map(()=>({[i]:m,[l]:v}))))]})}).with({remove:g.select(g.array())},p=>{o.forEach(a=>{this.unsafe__update(s,a,h=>N(h)&&O.isArray(h[c])?{...h,[c]:h[c].filter(d=>{const m=d[l];return!p.some(v=>{var y;return(y=m.description)==null?void 0:y.includes(`<${v}>`)})})}:h)})}).exhaustive()}).otherwise(()=>{})}},M=(e,t)=>{const r=new Set,n=s=>{s.selections.forEach(o=>{if(o.kind===S.FIELD){const i=ee(o,t);r.add(i)}else o.kind===S.INLINE_FRAGMENT&&n(o.selectionSet)})};return e.selectionSet&&n(e.selectionSet),r},ee=(e,t)=>{const r=me(e),n=Ce(e,t);return Object.keys(n).length===0?Symbol.for(r):Symbol.for(`${r}(${JSON.stringify(n)})`)},Ce=(e,t)=>{var r;const n=(r=e.arguments)!=null?r:[];return Object.fromEntries(n.map(({name:{value:s},value:o})=>[s,pe(o,t)]))},pe=(e,t)=>T(e).with({kind:S.NULL},()=>null).with({kind:g.union(S.INT,S.FLOAT,S.STRING,S.BOOLEAN,S.ENUM)},({value:r})=>r).with({kind:S.LIST},({values:r})=>r.map(n=>pe(n,t))).with({kind:S.OBJECT},({fields:r})=>Object.fromEntries(r.map(({name:{value:n},value:s})=>[n,s]))).with({kind:S.VARIABLE},({name:{value:r}})=>t[r]).exhaustive(),me=e=>e.alias?e.alias.value:e.name.value,it=e=>{const t={};le(e,{[S.FRAGMENT_DEFINITION](n){t[n.name.value]=n}});const r=n=>{if(n.kind===S.FRAGMENT_SPREAD){const s=n.name.value,o=t[s];if(!o)throw new Error(`Fragment "${s}" is not defined.`);return{kind:S.INLINE_FRAGMENT,typeCondition:o.typeCondition,selectionSet:o.selectionSet}}return n.kind===S.SELECTION_SET?{...n,selections:n.selections.map(s=>r(s))}:"selectionSet"in n&&n.selectionSet!=null?{...n,selectionSet:r(n.selectionSet)}:n};return le(e,{[S.FRAGMENT_DEFINITION]:()=>null,enter:r})},at={kind:S.FIELD,name:{kind:S.NAME,value:"__typename"}},oe=e=>le(e,{[S.SELECTION_SET]:t=>t.selections.find(r=>r.kind===S.FIELD&&r.name.value==="__typename")?t:{...t,selections:[at,...t.selections]}}),lt=e=>O.findMap(e.definitions,t=>t.kind===S.OPERATION_DEFINITION?u.fromNullable(t.name).map(r=>r.value):u.None()),ue=e=>T(e).with({kind:S.FIELD},t=>t.name.value==="id"?u.Some(t):u.None()).with({kind:S.INLINE_FRAGMENT},t=>O.findMap(t.selectionSet.selections,ue)).otherwise(()=>u.None()),Se=(e,t)=>{const r=O.findMap(e.selections,ue);return O.findMap(t.selections,ue).isSome()?t:r.map(s=>({...t,selections:[s,...t.selections]})).getWithDefault(t)},ct=(e,t)=>O.isArray(e.directives)?e.directives.some(r=>r.name.value==="include"&&r.arguments!=null&&r.arguments.some(n=>n.name.value==="if"&&pe(n.value,t)===!1)):!1,Ee=(e,t,r)=>typeof t=="symbol"?e.getFromCache(t,r).flatMap(u.fromNullable):N(t)&&V in t&&t[V]instanceof Set?Le(t[V],r)?u.Some(t):u.None():u.Some(t),be=(e,t)=>typeof t=="symbol"?e.getFromCacheWithoutKey(t).flatMap(u.fromNullable):u.Some(t),ie=new WeakMap,ut=Symbol.for("EXCLUDED"),we=(e,t,r)=>{const n=(s,o)=>s.selections.reduce((i,c)=>i.flatMap(l=>{var p;if(c.kind===S.FIELD){const a=c,h=me(a),d=ee(a,r);if(l==null)return u.None();if(!(X.call(l,h)||X.call(l,d)))return ct(a,r)?u.Some({...l,[h]:ut}):u.None();const v=h in l?l[h]:l[d];if(v==null)return u.Some({...l,[h]:v});if(O.isArray(v)){const y=M(a,r);return u.all(v.map(E=>Ee(e,E,y).flatMap(w=>N(w)&&a.selectionSet!=null?n(a.selectionSet,w):u.Some(w)))).map(E=>({...l,[h]:E}))}else{const y=M(a,r);return Ee(e,v,y).flatMap(b=>N(b)&&a.selectionSet!=null?n(a.selectionSet,b).map(w=>({...l,[h]:w})):u.Some({...l,[h]:b}))}}if(c.kind===S.INLINE_FRAGMENT){const a=c,h=(p=a.typeCondition)==null?void 0:p.name.value,d=T(l).with({__typename:g.select(g.string)},m=>m).with({__typename:g.array({__typename:g.select(g.string)})},m=>m[0]).otherwise(()=>{});return h!=null&&d!=null?e.isTypeCompatible(d,h)?n(a.selectionSet,l):a.selectionSet.selections.some(m=>m.kind===S.INLINE_FRAGMENT)?n({...a.selectionSet,selections:a.selectionSet.selections.filter(m=>{var v;if(m.kind===S.INLINE_FRAGMENT){const y=(v=m.typeCondition)==null?void 0:v.name.value;return y==null?!0:e.isTypeCompatible(d,y)}return!0})},l):u.Some(l):n(a.selectionSet,l)}else return u.None()}),u.Some(o));return O.findMap(t.definitions,s=>s.kind===S.OPERATION_DEFINITION?u.Some(s):u.None()).flatMap(s=>je(s).map(o=>({operation:s,cacheKey:o}))).flatMap(({operation:s,cacheKey:o})=>e.getFromCache(o,M(s,r)).map(i=>({cache:i,operation:s}))).flatMap(({operation:s,cache:o})=>n(s.selectionSet,o)).map(s=>JSON.parse(JSON.stringify(s))).flatMap(s=>{var o;const i=ce(r),c=u.fromNullable(ie.get(t)).flatMap(l=>u.fromNullable(l.get(i))).flatMap(l=>l);if(c.flatMap(l=>l.toOption()).map(l=>_e(s,l)).getWithDefault(!1))return c;{const l=u.Some(x.Ok(s)),p=(o=ie.get(t))!=null?o:new Map;return p.set(i,l),ie.set(t,p),l}})},pt=(e,t,r)=>{const n=(s,o,i)=>{const c=O.filterMap(s.selections,l=>T(l).with({kind:S.FIELD},p=>{const a=ee(p,r);if(o==null)return u.Some(p);if(!X.call(o,a))return u.Some(p);if(i.has(a)){const d=o[a],m=M(p,r);if(O.isArray(d))return d.reduce((v,y)=>{const E=be(e,y);if(E.isNone())return u.Some(p);const b=p.selectionSet;return b!=null?n(b,E.get(),m).map(w=>({...p,selectionSet:Se(b,w)})):v},u.None());{const v=be(e,d);if(v.isNone())return u.Some(p);const y=p.selectionSet;return y!=null?n(y,v.get(),m).map(E=>({...p,selectionSet:Se(y,E)})):u.None()}}else return u.Some(p)}).with({kind:S.INLINE_FRAGMENT},p=>n(p.selectionSet,o,i).map(a=>({...p,selectionSet:a}))).with({kind:S.FRAGMENT_SPREAD},()=>u.None()).exhaustive());return c.length>0?u.Some({...s,selections:c}):u.None()};return O.findMap(t.definitions,s=>s.kind===S.OPERATION_DEFINITION?u.Some(s):u.None()).flatMap(s=>je(s).map(o=>({operation:s,cacheKey:o}))).flatMap(({operation:s,cacheKey:o})=>{const i=M(s,r);return e.getFromCache(o,i).map(c=>({cache:c,operation:s,selectedKeys:i}))}).flatMap(({operation:s,cache:o,selectedKeys:i})=>n(s.selectionSet,o,i).map(c=>({...t,definitions:[{...s,selectionSet:c}]})))},mt=(e,t,r,n)=>{const s=(o,i,c=[],l)=>{o.selections.forEach(p=>{T(p).with({kind:S.FIELD},a=>{const h=me(a),d=ee(a,n),m=Ce(a,n),v=i[i.length-1],y=v[h],E=M(a,n);if(y!=null)if(Array.isArray(y)){e.updateFieldInClosestCachedAncestor({originalFieldName:h,fieldNameWithArguments:d,value:y,path:c,ancestors:i,variables:m,rootTypename:l,selectedKeys:E});const b=Array(y.length);e.updateFieldInClosestCachedAncestor({originalFieldName:h,fieldNameWithArguments:d,value:b,path:[...c,d],ancestors:[...i,y],variables:m,rootTypename:l,selectedKeys:E}),y.forEach((w,A)=>{const Me=e.cacheIfEligible(w,E);e.updateFieldInClosestCachedAncestor({originalFieldName:A.toString(),fieldNameWithArguments:A.toString(),value:Me,path:[...c,d],ancestors:[...i,y],variables:m,rootTypename:l,selectedKeys:E}),N(w)&&s(a.selectionSet,[...i,y,w],[...c,d,A.toString()],l)})}else{const b=e.cacheIfEligible(y,E);e.updateFieldInClosestCachedAncestor({originalFieldName:h,fieldNameWithArguments:d,value:b,path:c,ancestors:i,variables:m,rootTypename:l,selectedKeys:E}),N(y)&&a.selectionSet!=null&&s(a.selectionSet,[...i,y],[...c,d],l)}else h in v&&e.updateFieldInClosestCachedAncestor({originalFieldName:h,fieldNameWithArguments:d,value:y,path:c,ancestors:i,variables:m,rootTypename:l,selectedKeys:E})}).with({kind:S.INLINE_FRAGMENT},a=>{s(a.selectionSet,i,c,l)}).with({kind:S.FRAGMENT_SPREAD},()=>{}).exhaustive()})};return t.definitions.forEach(o=>{if(o.kind===S.OPERATION_DEFINITION){const i=T(o.operation).with(U.QUERY,()=>"Query").with(U.SUBSCRIPTION,()=>"Subscription").with(U.MUTATION,()=>"Mutation").exhaustive();e.cacheIfEligible(N(r)?{...r,__typename:i}:r,M(o,n)),s(o.selectionSet,[r],[],i)}}),e},ht=class Fe extends Error{constructor(t){super("Received an invalid GraphQL response"),Object.setPrototypeOf(this,Fe.prototype),this.name="InvalidGraphQLResponseError",this.response=t}},ft=e=>T(e).with({message:g.string,nodes:g.optional(g.any),source:g.optional(g.any),positions:g.optional(g.any),path:g.optional(g.any),error:g.optional(g.any),extensions:g.optional(g.any)},({message:t,nodes:r,source:n,positions:s,path:o,error:i,extensions:c})=>{const l=T(i).with({message:g.string},({message:p})=>new Error(p)).otherwise(()=>{});return new ve(t,r,n,s,o,l,c)}).otherwise(t=>new ve(JSON.stringify(t))),De={toArray:e=>Array.isArray(e)?e:[e],forEach:(e,t)=>{De.toArray(e).forEach(t)}},dt=e=>JSON.stringify(e),yt=e=>'"""'+e.replace(/"""/g,'\\"""')+'"""',L=e=>!!(e&&e.length),gt=80,I={OperationDefinition(e){if(e.operation==="query"&&!e.name&&!L(e.variableDefinitions)&&!L(e.directives))return I.SelectionSet(e.selectionSet);let t=e.operation;return e.name&&(t+=" "+e.name.value),L(e.variableDefinitions)&&(e.name||(t+=" "),t+="("+e.variableDefinitions.map(I.VariableDefinition).join(", ")+")"),L(e.directives)&&(t+=" "+e.directives.map(I.Directive).join(" ")),t+" "+I.SelectionSet(e.selectionSet)},VariableDefinition(e){let t=I.Variable(e.variable)+": "+_(e.type);return e.defaultValue&&(t+=" = "+_(e.defaultValue)),L(e.directives)&&(t+=" "+e.directives.map(I.Directive).join(" ")),t},Field(e){let t=(e.alias?e.alias.value+": ":"")+e.name.value;if(L(e.arguments)){const r=e.arguments.map(I.Argument),n=t+"("+r.join(", ")+")";t=n.length>gt?t+"("+r.join(" ")+")":n}return L(e.directives)&&(t+=" "+e.directives.map(I.Directive).join(" ")),e.selectionSet?t+" "+I.SelectionSet(e.selectionSet):t},StringValue(e){return e.block?yt(e.value):dt(e.value)},BooleanValue(e){return String(e.value)},NullValue(){return"null"},IntValue(e){return e.value},FloatValue(e){return e.value},EnumValue(e){return e.value},Name(e){return e.value},Variable(e){return"$"+e.name.value},ListValue(e){return"["+e.values.map(_).join(", ")+"]"},ObjectValue(e){return"{"+e.fields.map(I.ObjectField).join(", ")+"}"},ObjectField(e){return e.name.value+": "+_(e.value)},Document(e){return L(e.definitions)?e.definitions.map(_).join(" "):""},SelectionSet(e){return"{"+e.selections.map(_).join(" ")+"}"},Argument(e){return e.name.value+": "+_(e.value)},FragmentSpread(e){let t="..."+e.name.value;return L(e.directives)&&(t+=" "+e.directives.map(I.Directive).join(" ")),t},InlineFragment(e){let t="...";return e.typeCondition&&(t+=" on "+e.typeCondition.name.value),L(e.directives)&&(t+=" "+e.directives.map(I.Directive).join(" ")),t+" "+_(e.selectionSet)},FragmentDefinition(e){let t="fragment "+e.name.value;return t+=" on "+e.typeCondition.name.value,L(e.directives)&&(t+=" "+e.directives.map(I.Directive).join(" ")),t+" "+_(e.selectionSet)},Directive(e){let t="@"+e.name.value;return L(e.arguments)&&(t+="("+e.arguments.map(I.Argument).join(", ")+")"),t},NamedType(e){return e.name.value},ListType(e){return"["+_(e.type)+"]"},NonNullType(e){return _(e.type)+"!"}},_=e=>typeof I[e.kind]=="function"?I[e.kind](e):"",vt=({url:e,headers:t,operationName:r,withCredentials:n,document:s,variables:o})=>rt.make({url:e,method:"POST",responseType:"json",headers:t,withCredentials:u.fromNullable(n).getWithDefault(!1),body:JSON.stringify({operationName:r,query:_(s),variables:o})}).mapOkToResult(Ze).mapOkToResult(tt).mapOkToResult(i=>T(i).returnType().with({errors:g.select(g.array())},c=>x.Error(c.map(ft))).with({data:g.select(g.nonNullable)},c=>x.Ok(c)).otherwise(c=>x.Error(new ht(c)))),St=(e,t)=>[e,{prepend:t}],Et=(e,t)=>[e,{append:t}],bt=(e,t)=>[e,{remove:t}],wt=class{constructor(e){var t,r;this.url=e.url,this.headers=(t=e.headers)!=null?t:{"Content-Type":"application/json"},this.cache=new ot(e.schemaConfig),this.makeRequest=(r=e.makeRequest)!=null?r:vt,this.subscribers=new Set,this.transformedDocuments=new Map,this.transformedDocumentsForRequest=new Map}getTransformedDocument(e){if(this.transformedDocuments.has(e))return this.transformedDocuments.get(e);{const t=it(oe(e));return this.transformedDocuments.set(e,t),t}}getTransformedDocumentsForRequest(e){if(this.transformedDocumentsForRequest.has(e))return this.transformedDocumentsForRequest.get(e);{const t=oe(e);return this.transformedDocumentsForRequest.set(e,t),t}}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}request(e,t,{optimize:r=!1,connectionUpdates:n,overrides:s}={}){const o=this.getTransformedDocument(e),i=this.getTransformedDocumentsForRequest(e),c=lt(o).getWithDefault("Untitled"),l=t,p=r?pt(this.cache,o,l).map(oe):u.Some(i);if(p.isNone()){const a=we(this.cache,o,l);if(a.isSome())return Ie.value(a.get())}return this.makeRequest({url:this.url,operationName:c,document:p.getWithDefault(i),variables:l,...s,headers:{...this.headers,...s!=null?s.headers:null}}).mapOk(a=>a).tapOk(a=>{mt(this.cache,o,a,l)}).tapOk(a=>{n!==void 0&&n.forEach(h=>{h({data:a,variables:t,prepend:St,append:Et,remove:bt}).map(([d,m])=>{this.cache.updateConnection(d,m)})})}).tap(a=>{this.cache.setOperationInCache(o,l,a),this.subscribers.forEach(h=>{h()})})}readFromCache(e,t){const r=t,n=this.getTransformedDocument(e);return T(this.cache.getOperationFromCache(n,r)).with(u.P.Some(x.P.Error(g._)),s=>s).otherwise(()=>we(this.cache,n,r))}query(e,t,r){return this.request(e,t,r)}commitMutation(e,t,r){return this.request(e,t,r)}};P.createContext(new wt({url:"/graphql",schemaConfig:{interfaceToTypes:{}}}));function Nt(e){const t=new Set;let r=e;return{get:()=>r,set(n){r=typeof n=="function"?n(r):n,t.forEach(s=>s(r))},subscribe:n=>(t.add(n),()=>{t.delete(n)}),reset(){r=e,t.forEach(n=>n(r))}}}function Ot(e){return e}function Tt(e,t){return t===void 0&&(t=Object.is),Ke.useSyncExternalStoreWithSelector(e.subscribe,e.get,e.get,Ot,t)}const It=e=>{const{duration:t,onStart:r,onReset:n,onEnd:s}=e;let o=0,i=t;const c=()=>{document.removeEventListener("visibilitychange",a),window.clearTimeout(o)},l=()=>{i<=0||(o=window.setTimeout(()=>{i=0,c(),s()},i),r(t))},p=()=>{window.clearTimeout(o),i=t,o=window.setTimeout(()=>{i=0,c(),s()},t),n(t)},a=()=>{document.removeEventListener("visibilitychange",a),l()};return document.hidden?document.addEventListener("visibilitychange",a):l(),{duration:t,clear:c,reset:p}},Y=Nt([]),kt=()=>Tt(Y),xe=e=>{var r,n;const t=Y.get().find(s=>s.uid===e);t&&((r=t.timeout)==null||r.clear(),(n=t.progress)==null||n.stopAnimation(),Y.set(s=>s.filter(o=>o.uid!==e)))};let Ae=new WeakMap;const Lt=e=>{Ae=e},_t=()=>Ae,F=({variant:e,title:t,description:r,error:n,autoClose:s})=>{const o=`${e} - ${t} - ${r??""}`,i=Y.get().find(a=>a.uid===o);if(i!=null)return i.timeout&&i.progress&&(i.timeout.clear(),H.timing(i.progress,{duration:100,easing:ne.linear,toValue:1,useNativeDriver:!1}).start(()=>{var a;(a=i.timeout)==null||a.reset()})),o;const l=s??(e==="info"||e==="success")?new H.Value(1):void 0,p=l?It({duration:1e4,onStart:a=>{H.timing(l,{duration:a,easing:ne.linear,toValue:0,useNativeDriver:!1}).start()},onReset:a=>{H.timing(l,{duration:a,easing:ne.linear,toValue:0,useNativeDriver:!1}).start()},onEnd:()=>{xe(o)}}):void 0;return Y.set(a=>[{uid:o,variant:e,title:t,description:r,error:n,progress:l,timeout:p},...a]),o},R=Ve.create({list:{position:"absolute",right:0,bottom:0,maxHeight:"100%",maxWidth:400,paddingVertical:8,width:"100%",zIndex:10},toastWrapper:{paddingHorizontal:16,paddingVertical:8},toast:{padding:24,borderRadius:4,borderWidth:1,borderLeftWidth:4,overflow:"hidden",boxShadow:Ge.modal},contentContainer:{paddingRight:36},closeButton:{zIndex:1,position:"absolute",width:24,height:24,right:24,top:0,bottom:0,margin:"auto"},progressBar:{height:2,transformOrigin:"left"},copyTooltip:{alignSelf:"flex-start"},copyButton:{alignItems:"center",flexDirection:"row",flexGrow:1,flexShrink:1}}),jt=P.memo(({variant:e,uid:t,title:r,description:n,error:s,progress:o,onClose:i})=>{const c=P.useRef(null),[l,p]=P.useState("copy"),a=Ue(n),[h]=P.useState(()=>s==null?u.None():O.findMap(De.toArray(s),m=>m instanceof Error?u.fromNullable(_t().get(m)):u.None())),d=T(e).returnType().with("success",()=>"positive").with("error",()=>"negative").with("info",()=>"shakespear").with("warning",()=>"warning").exhaustive();return P.useEffect(()=>{if(qe(o))return;const m=o.addListener(({value:v})=>{c.current instanceof HTMLElement&&(c.current.style.transform=`scaleX(${v})`)});return()=>o.removeListener(m)},[o]),f.jsx(te,{style:R.toastWrapper,children:f.jsxs(te,{style:[R.toast,{borderColor:k[d][200],borderLeftColor:k[d][500],backgroundColor:k[d][0]}],children:[f.jsxs(fe,{style:R.contentContainer,children:[f.jsxs(fe,{direction:"row",alignItems:"center",children:[T(e).with("success",()=>f.jsx(B,{name:"checkmark-circle-regular",size:20,color:k[d][700]})).with("error",()=>f.jsx(B,{name:"dismiss-circle-regular",size:20,color:k[d][700]})).with("info",()=>f.jsx(B,{name:"info-regular",size:20,color:k[d][700]})).with("warning",()=>f.jsx(B,{name:"warning-regular",size:20,color:k[d][700]})).exhaustive(),f.jsx(j,{width:12}),f.jsx(re,{variant:"regular",color:k[d][700],children:r})]}),a&&f.jsxs(f.Fragment,{children:[f.jsx(j,{height:8}),f.jsx(re,{variant:"smallRegular",color:k.gray[700],children:n})]}),T(h).with(u.P.None,()=>null).with(u.P.Some(g.select()),m=>f.jsxs(f.Fragment,{children:[f.jsx(j,{height:a?4:8}),f.jsx(We,{describedBy:"copy",onHide:()=>p("copy"),togglableOnFocus:!0,placement:"center",containerStyle:R.copyTooltip,content:l==="copy"?ye("copyButton.copyTooltip"):ye("copyButton.copiedTooltip"),children:f.jsxs(ge,{style:R.copyButton,onPress:v=>{v.stopPropagation(),v.preventDefault(),ze.setString(m??""),p("copied")},children:[f.jsx(B,{color:k.gray[700],size:14,name:"copy-regular"}),f.jsx(j,{width:4}),f.jsxs(re,{numberOfLines:1,variant:"smallRegular",color:k.gray[700],children:["ID: ",m]})]})})]})).exhaustive()]}),f.jsx(ge,{onPress:()=>i(t),style:R.closeButton,children:f.jsx(B,{name:"lake-close",size:24,color:k.gray[500]})}),o!=null&&f.jsxs(f.Fragment,{children:[f.jsx(j,{height:24}),f.jsx(te,{ref:c,role:"progressbar",style:[R.progressBar,{backgroundColor:k[d][500]}]})]})]})})}),he=()=>{const e=kt(),[t,r]=P.useState(()=>{});return P.useEffect(()=>{const n=document.createElement("div");return document.body.append(n),r(n),()=>{n.remove(),r(void 0)}},[]),t==null?null:f.jsx($e,{container:t,children:f.jsx(Qe,{style:R.list,enter:de.fadeAndSlideInFromRight.enter,leave:de.fadeAndSlideInFromRight.leave,children:e.map(n=>f.jsx(jt,{uid:n.uid,variant:n.variant,title:n.title,description:n.description,error:n.error,progress:n.progress,onClose:xe},n.uid))})})};he.__docgenInfo={description:"",methods:[],displayName:"ToastStack"};const D={button:{width:200}},Zt={title:"Interactivity/Toast",component:he},Re=new WeakMap;Lt(Re);const Pe=new Error;Re.set(Pe,"req-thvfknqp");const $=()=>f.jsxs(f.Fragment,{children:[f.jsx(he,{}),f.jsxs(Ye,{title:"Toast",children:[f.jsxs(se,{title:"With only title",children:[f.jsx(C,{color:"positive",style:D.button,onPress:()=>F({variant:"success",title:"Successfully copy to clipboard !"}),children:"Open success toast"}),f.jsx(j,{height:16}),f.jsx(C,{color:"negative",style:D.button,onPress:()=>F({variant:"error",title:"Oops ! Something went wrong"}),children:"Open error toast"}),f.jsx(j,{height:16}),f.jsx(C,{color:"shakespear",style:D.button,onPress:()=>F({variant:"info",title:"Successfully copy to clipboard !"}),children:"Open success toast"}),f.jsx(j,{height:16}),f.jsx(C,{color:"warning",style:D.button,onPress:()=>F({variant:"warning",title:"Oops ! Something went wrong"}),children:"Open warning toast"})]}),f.jsxs(se,{title:"With title and description",children:[f.jsx(C,{color:"positive",style:D.button,onPress:()=>F({variant:"success",title:"Successfully copy to clipboard !",description:"You can now paste it anywhere"}),children:"Open success toast"}),f.jsx(j,{height:16}),f.jsx(C,{color:"negative",style:D.button,onPress:()=>F({variant:"error",title:"Oops ! Something went wrong",error:Pe,description:"Please retry or contact us"}),children:"Open error toast"}),f.jsx(j,{height:16}),f.jsx(C,{color:"shakespear",style:D.button,onPress:()=>F({variant:"info",title:"Successfully copy to clipboard !",description:"You can now paste it anywhere"}),children:"Open success toast"}),f.jsx(j,{height:16}),f.jsx(C,{color:"warning",style:D.button,onPress:()=>F({variant:"warning",title:"Oops ! Something went wrong",description:"Talk to an expert"}),children:"Open warning toast"})]}),f.jsxs(se,{title:"With long title and description",children:[f.jsx(C,{color:"positive",style:D.button,onPress:()=>F({variant:"success",title:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl ut"}),children:"Open success toast"}),f.jsx(j,{height:16}),f.jsx(C,{color:"positive",style:D.button,onPress:()=>F({variant:"success",title:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl ut",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl ut"}),children:"Open success toast"})]})]})]});$.__docgenInfo={description:"",methods:[],displayName:"Default"};var Ne,Oe,Te;$.parameters={...$.parameters,docs:{...(Ne=$.parameters)==null?void 0:Ne.docs,source:{originalSource:`() => {
  return <>
      <ToastStack />

      <StoryBlock title="Toast">
        <StoryPart title="With only title">
          <LakeButton color="positive" style={styles.button} onPress={() => showToast({
          variant: "success",
          title: "Successfully copy to clipboard !"
        })}>
            Open success toast
          </LakeButton>

          <Space height={16} />

          <LakeButton color="negative" style={styles.button} onPress={() => showToast({
          variant: "error",
          title: "Oops ! Something went wrong"
        })}>
            Open error toast
          </LakeButton>

          <Space height={16} />

          <LakeButton color="shakespear" style={styles.button} onPress={() => showToast({
          variant: "info",
          title: "Successfully copy to clipboard !"
        })}>
            Open success toast
          </LakeButton>

          <Space height={16} />

          <LakeButton color="warning" style={styles.button} onPress={() => showToast({
          variant: "warning",
          title: "Oops ! Something went wrong"
        })}>
            Open warning toast
          </LakeButton>
        </StoryPart>

        <StoryPart title="With title and description">
          <LakeButton color="positive" style={styles.button} onPress={() => showToast({
          variant: "success",
          title: "Successfully copy to clipboard !",
          description: "You can now paste it anywhere"
        })}>
            Open success toast
          </LakeButton>

          <Space height={16} />

          <LakeButton color="negative" style={styles.button} onPress={() => showToast({
          variant: "error",
          title: "Oops ! Something went wrong",
          error,
          description: "Please retry or contact us"
        })}>
            Open error toast
          </LakeButton>

          <Space height={16} />

          <LakeButton color="shakespear" style={styles.button} onPress={() => showToast({
          variant: "info",
          title: "Successfully copy to clipboard !",
          description: "You can now paste it anywhere"
        })}>
            Open success toast
          </LakeButton>

          <Space height={16} />

          <LakeButton color="warning" style={styles.button} onPress={() => showToast({
          variant: "warning",
          title: "Oops ! Something went wrong",
          description: "Talk to an expert"
        })}>
            Open warning toast
          </LakeButton>
        </StoryPart>

        <StoryPart title="With long title and description">
          <LakeButton color="positive" style={styles.button} onPress={() => showToast({
          variant: "success",
          title: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl ut"
        })}>
            Open success toast
          </LakeButton>

          <Space height={16} />

          <LakeButton color="positive" style={styles.button} onPress={() => showToast({
          variant: "success",
          title: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl ut",
          description: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec auctor, nisl ut"
        })}>
            Open success toast
          </LakeButton>
        </StoryPart>
      </StoryBlock>
    </>;
}`,...(Te=(Oe=$.parameters)==null?void 0:Oe.docs)==null?void 0:Te.source}}};const er=["Default"];export{$ as Default,er as __namedExportsOrder,Zt as default};
//# sourceMappingURL=Toast.stories-HtW55DSg.js.map
