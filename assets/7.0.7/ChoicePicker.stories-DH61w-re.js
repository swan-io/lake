import{E as F,s as W,y as P,b as I,j as t,V as T,v as U,S as _,C as N,N as k}from"./Space-ChRvaji1.js";import{L}from"./LakeButton-DtHKm00B.js";import{L as G}from"./LakeRadio-Bvt9SCqI.js";import{P as H}from"./Pressable-DD_-8IPu.js";import{T as $}from"./Tile-CXN6piZO.js";import{c as Z}from"./commonStyles-t4XfA7cz.js";import{u as z}from"./useResponsive-D6E4JWMY.js";import{c as X}from"./math-GD6vsjlw.js";import{r as x}from"./index-CBqU2yxZ.js";import{t as j}from"./i18n-DeoefoAR.js";import{T as f}from"./Tag-CVWgFnN7.js";import{S as Y,a as b}from"./_StoriesComponents-DuIeS3XV.js";import"./extends-CCbyfPlC.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-BtM5VmRH.js";import"./index-BkhpigpK.js";import"./rifm-Cou_E0eS.js";import"./utc-DJvBpWoA.js";import"./array-rjEBP2Ry.js";import"./index-iZC5RSM6.js";const C=r=>{let c=r.scrollTop,d=r.scrollLeft;return F.make(g=>{let o;const s=setTimeout(()=>{const p=()=>{o=requestAnimationFrame(()=>{c!==r.scrollTop||d!==r.scrollLeft?(c=r.scrollTop,d=r.scrollLeft,p()):g()})};p()},50);return()=>{clearTimeout(s),o!=null&&cancelAnimationFrame(o)}})},i=W.create({root:{alignSelf:"stretch",alignItems:"stretch",flexGrow:1,overflow:"hidden",marginHorizontal:P[12]},scrollSnap:{scrollSnapType:"x mandatory"},container:{alignSelf:"stretch",flexDirection:"row",flexWrap:"wrap",alignItems:"stretch",justifyContent:"center"},mobileContainer:{flexWrap:"nowrap",justifyContent:"flex-start",transitionProperty:"transform",transitionDuration:"300ms",transitionTimingFunction:"ease-in-out"},item:{flexGrow:0,flexBasis:"33.333%",maxWidth:300,padding:I[12]},itemAnimation:{transform:"translateZ(0px)",animationKeyframes:{from:{opacity:0,transform:"translateZ(0px) translateX(50px)"},to:{opacity:1,transform:"translateZ(0px) translateX(0px)"}},animationDuration:"200ms",animationFillMode:"backwards",animationTimingFunction:"ease-in-out"},itemLarge:{flexBasis:"50%",maxWidth:"none"},itemSmallViewport:{width:"100%",flexBasis:"auto",maxWidth:"none",scrollSnapAlign:"center"},tileContents:{alignItems:"center",alignSelf:"stretch",flexGrow:1},tileRenderedContents:{alignItems:"center",alignSelf:"stretch",flexGrow:1},leftButton:{position:"absolute",top:"50%",left:P[24],transform:"translateY(-50%)",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderWidth:1,borderLeftWidth:0},rightButton:{position:"absolute",top:"50%",right:P[24],transform:"translateY(-50%)",borderTopRightRadius:0,borderBottomRightRadius:0,borderWidth:1,borderRightWidth:0}}),K=r=>r,S=({items:r,getId:c=K,large:d=!1,renderItem:g,value:o,disabled:s=!1,onChange:p})=>{const m=x.useRef(null),{desktop:n}=z(N.medium),[v,V]=x.useState("start");x.useEffect(()=>{if(n)return;const e=m.current,a=r.findIndex(l=>o===l);if(a!==-1&&e instanceof HTMLDivElement){const l=e.offsetWidth;e.scrollTo({x:a*l,animated:!1})}o==null&&r[0]!=null&&p(r[0])},[n]);const E=()=>{if(n)return;const e=m.current;if(e instanceof HTMLDivElement){const a=e.scrollLeft,l=e.offsetWidth,u=X(0,r.length-1)(Math.round(a/l)),h=r[u];h!=null&&p(h),k(u).with(0,()=>V("start")).with(r.length-1,()=>V("end")).otherwise(()=>V("middle"))}},M=()=>{var a;const e=m.current;if(e instanceof HTMLDivElement){const l=e.scrollLeft,u=e.offsetWidth,h=Math.round(l/u),w=Math.max(0,h-1);e.style.scrollSnapType="none",(a=m.current)==null||a.scrollTo({x:w*u,animated:!0}),C(e).onResolve(()=>{e.style.scrollSnapType=null})}},q=()=>{var a;const e=m.current;if(e instanceof HTMLDivElement){const l=e.scrollLeft,u=e.offsetWidth,h=Math.round(l/u),w=Math.min(r.length-1,h+1);e.style.scrollSnapType="none",(a=m.current)==null||a.scrollTo({x:w*u,animated:!0}),C(e).onResolve(()=>{e.style.scrollSnapType=null})}};return t.jsxs(T,{children:[t.jsx(T,{style:i.root,children:t.jsx(U,{ref:m,horizontal:!n,onScroll:E,scrollEventThrottle:200,style:i.scrollSnap,contentContainerStyle:[i.container,!n&&i.mobileContainer,!n&&{width:`${r.length*100}%`}],children:r.map((e,a)=>t.jsx(H,{disabled:s,style:[i.item,s&&Z.disabled,n&&i.itemAnimation,n&&{animationDelay:`${200+100*a}ms`},d&&i.itemLarge,!n&&i.itemSmallViewport,!n&&{width:`${100/r.length}%`}],onPress:()=>p(e),children:({hovered:l})=>t.jsx($,{hovered:l,selected:o!=null&&c(e)===c(o),flexGrow:1,children:t.jsxs(T,{style:i.tileContents,children:[t.jsx(T,{style:i.tileRenderedContents,children:g(e)}),n&&t.jsxs(t.Fragment,{children:[t.jsx(_,{height:24}),t.jsx(G,{value:o!=null&&c(e)===c(o)})]})]})})},String(a)))})}),!n&&t.jsx(L,{icon:"chevron-left-filled",mode:"secondary",forceBackground:!0,onPress:M,disabled:v==="start"||s,style:i.leftButton,ariaLabel:j("common.previous")}),!n&&t.jsx(L,{icon:"chevron-right-filled",mode:"secondary",forceBackground:!0,onPress:q,disabled:v==="end"||s,style:i.rightButton,ariaLabel:j("common.next")})]})};S.__docgenInfo={description:"",methods:[],displayName:"ChoicePicker",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},large:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},renderItem:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: T) => ReactNode",signature:{arguments:[{type:{name:"T"},name:"value"}],return:{name:"ReactNode"}}},description:""},value:{required:!1,tsType:{name:"T"},description:""},getId:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => unknown",signature:{arguments:[{type:{name:"T"},name:"item"}],return:{name:"unknown"}}},description:"",defaultValue:{value:"<T,>(x: T) => x",computed:!1}},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: T) => void",signature:{arguments:[{type:{name:"T"},name:"value"}],return:{name:"void"}}},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const B=W.create({part:{padding:I[32]}}),ye={title:"Forms/ChoicePicker",component:S},y=()=>{const r=["Virtual","VirtualAndPhysical","SingleUseVirtual"],[c,d]=x.useState(),[g,o]=x.useState();return t.jsxs(Y,{title:"Choice Picker",children:[t.jsx(b,{title:"Default",style:B.part,children:t.jsx(S,{items:r,value:c,onChange:d,renderItem:s=>k(s).with("Virtual",()=>t.jsx(f,{icon:"phone-regular",color:"mediumSladeBlue",children:"Virtual"})).with("VirtualAndPhysical",()=>t.jsx(f,{icon:"payment-regular",color:"shakespear",children:"Virtual & physical"})).with("SingleUseVirtual",()=>t.jsx(f,{icon:"phone-regular",color:"darkPink",children:"Single use"})).exhaustive()})}),t.jsx(b,{title:"Large",style:B.part,children:t.jsx(S,{items:r,value:g,large:!0,onChange:o,renderItem:s=>k(s).with("Virtual",()=>t.jsx(f,{icon:"phone-regular",color:"mediumSladeBlue",children:"Virtual"})).with("VirtualAndPhysical",()=>t.jsx(f,{icon:"payment-regular",color:"shakespear",children:"Virtual & physical"})).with("SingleUseVirtual",()=>t.jsx(f,{icon:"phone-regular",color:"darkPink",children:"Single use"})).exhaustive()})})]})};y.__docgenInfo={description:"",methods:[],displayName:"Default"};var R,A,D;y.parameters={...y.parameters,docs:{...(R=y.parameters)==null?void 0:R.docs,source:{originalSource:`() => {
  const items: ["Virtual", "VirtualAndPhysical", "SingleUseVirtual"] = ["Virtual", "VirtualAndPhysical", "SingleUseVirtual"];
  const [value, setValue] = useState<(typeof items)[number]>();
  const [largeValue, setLargeValue] = useState<(typeof items)[number]>();
  return <StoryBlock title="Choice Picker">
      <StoryPart title="Default" style={styles.part}>
        <ChoicePicker items={items} value={value} onChange={setValue} renderItem={item => match(item).with("Virtual", () => <Tag icon="phone-regular" color="mediumSladeBlue">
                  Virtual
                </Tag>).with("VirtualAndPhysical", () => <Tag icon="payment-regular" color="shakespear">
                  Virtual & physical
                </Tag>).with("SingleUseVirtual", () => <Tag icon="phone-regular" color="darkPink">
                  Single use
                </Tag>).exhaustive()} />
      </StoryPart>

      <StoryPart title="Large" style={styles.part}>
        <ChoicePicker items={items} value={largeValue} large={true} onChange={setLargeValue} renderItem={item => match(item).with("Virtual", () => <Tag icon="phone-regular" color="mediumSladeBlue">
                  Virtual
                </Tag>).with("VirtualAndPhysical", () => <Tag icon="payment-regular" color="shakespear">
                  Virtual & physical
                </Tag>).with("SingleUseVirtual", () => <Tag icon="phone-regular" color="darkPink">
                  Single use
                </Tag>).exhaustive()} />
      </StoryPart>
    </StoryBlock>;
}`,...(D=(A=y.parameters)==null?void 0:A.docs)==null?void 0:D.source}}};const xe=["Default"];export{y as Default,xe as __namedExportsOrder,ye as default};
//# sourceMappingURL=ChoicePicker.stories-DH61w-re.js.map
