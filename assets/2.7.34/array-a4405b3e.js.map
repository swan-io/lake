{"version":3,"file":"array-a4405b3e.js","sources":["../../../packages/lake/src/utils/a11y.ts","../../../packages/lake/src/utils/array.ts"],"sourcesContent":["// Pulled from https://github.com/KittyGiraudel/focusable-selectors\nconst FOCUSABLE_SELECTOR = [\n  'a[href]:not([tabindex^=\"-\"])',\n  'area[href]:not([tabindex^=\"-\"])',\n  'input:not([type=\"hidden\"]):not([type=\"radio\"]):not([disabled]):not([tabindex^=\"-\"])',\n  'input[type=\"radio\"]:not([disabled]):not([tabindex^=\"-\"])',\n  'select:not([disabled]):not([tabindex^=\"-\"])',\n  'textarea:not([disabled]):not([tabindex^=\"-\"])',\n  'button:not([disabled]):not([tabindex^=\"-\"])',\n  'iframe:not([tabindex^=\"-\"])',\n  'audio[controls]:not([tabindex^=\"-\"])',\n  'video[controls]:not([tabindex^=\"-\"])',\n  '[contenteditable]:not([tabindex^=\"-\"])',\n  '[tabindex]:not([tabindex^=\"-\"])',\n].join(\", \");\n\nexport const getFocusableElements = (\n  rootNode: Element = document.documentElement,\n  includeRoot = true,\n): HTMLElement[] => {\n  return (\n    includeRoot && rootNode.matches(FOCUSABLE_SELECTOR) ? [rootNode as HTMLElement] : []\n  ).concat(Array.from(rootNode.querySelectorAll(FOCUSABLE_SELECTOR)));\n};\n","export const sortBy = <K extends string, T extends Record<K, unknown>>(\n  array: T[],\n  keys: K[],\n): T[] => {\n  return [...array].sort((a, b) => {\n    let index = -1;\n    while (++index < keys.length) {\n      const key = keys[index];\n      if (key == undefined) {\n        return 0;\n      }\n      if (b[key] === a[key]) {\n        continue;\n      }\n      return b[key] > a[key] ? -1 : 1;\n    }\n    return 0;\n  });\n};\n\nexport const first = <T>(array: readonly T[]): T | undefined => {\n  return array[0];\n};\n\nexport const last = <T>(array: readonly T[]): T | undefined => {\n  return array[array.length - 1];\n};\n\nexport const partition = <T>(array: T[], predicate: (value: T) => boolean): [T[], T[]] => {\n  const truthy = [];\n  const falsy = [];\n  for (const value of array) {\n    if (predicate(value)) {\n      truthy.push(value);\n    } else {\n      falsy.push(value);\n    }\n  }\n  return [truthy, falsy];\n};\n\nexport const sortedIndexOf = <T>(array: T[], value: T) => {\n  let startIndex = 0;\n  let endIndex = array.length;\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    const searchIndex = startIndex + Math.round((endIndex - startIndex) / 2);\n\n    const item = array[searchIndex];\n\n    if (searchIndex === endIndex || searchIndex === startIndex) {\n      if (item === value) {\n        return startIndex;\n      }\n      return -1;\n    }\n\n    if (item === value) {\n      return searchIndex;\n    }\n\n    if (item != null && value != null) {\n      if (item > value) {\n        endIndex = searchIndex;\n        continue;\n      }\n      if (item < value) {\n        startIndex = searchIndex;\n        continue;\n      }\n    }\n  }\n};\n\nexport const groupBy = <T, K extends string>(\n  array: T[],\n  getGroupName: (item: T) => K,\n): Partial<Record<K, T[]>> => {\n  const grouped: Partial<Record<K, T[]>> = {};\n  array.forEach(item => {\n    const groupName = getGroupName(item);\n    grouped[groupName] = [...(grouped[groupName] ?? []), item];\n  });\n  return grouped;\n};\n"],"names":["FOCUSABLE_SELECTOR","getFocusableElements","rootNode","includeRoot","first","array","last","sortedIndexOf","value","startIndex","endIndex","searchIndex","item","groupBy","getGroupName","grouped","groupName"],"mappings":"AACA,MAAMA,EAAqB,CACzB,+BACA,kCACA,sFACA,2DACA,8CACA,gDACA,8CACA,8BACA,uCACA,uCACA,yCACA,iCACF,EAAE,KAAK,IAAI,EAEEC,EAAuB,CAClCC,EAAoB,SAAS,gBAC7BC,EAAc,MAGZA,GAAeD,EAAS,QAAQF,CAAkB,EAAI,CAACE,CAAuB,EAAI,CAAC,GACnF,OAAO,MAAM,KAAKA,EAAS,iBAAiBF,CAAkB,CAAC,CAAC,ECFvDI,EAAYC,GAChBA,EAAM,CAAC,EAGHC,EAAWD,GACfA,EAAMA,EAAM,OAAS,CAAC,EAgBlBE,EAAgB,CAAIF,EAAYG,IAAa,CACxD,IAAIC,EAAa,EACbC,EAAWL,EAAM,OAGrB,OAAa,CACX,MAAMM,EAAcF,EAAa,KAAK,OAAOC,EAAWD,GAAc,CAAC,EAEjEG,EAAOP,EAAMM,CAAW,EAE1B,GAAAA,IAAgBD,GAAYC,IAAgBF,EAC9C,OAAIG,IAASJ,EACJC,EAEF,GAGT,GAAIG,IAASJ,EACJ,OAAAG,EAGL,GAAAC,GAAQ,MAAQJ,GAAS,KAAM,CACjC,GAAII,EAAOJ,EAAO,CACLE,EAAAC,EACX,QACF,CACA,GAAIC,EAAOJ,EAAO,CACHC,EAAAE,EACb,QACF,CACF,CACF,CACF,EAEaE,EAAU,CACrBR,EACAS,IAC4B,CAC5B,MAAMC,EAAmC,CAAA,EACzC,OAAAV,EAAM,QAAgBO,GAAA,CACd,MAAAI,EAAYF,EAAaF,CAAI,EAC3BG,EAAAC,CAAS,EAAI,CAAC,GAAID,EAAQC,CAAS,GAAK,CAAA,EAAKJ,CAAI,CAAA,CAC1D,EACMG,CACT"}