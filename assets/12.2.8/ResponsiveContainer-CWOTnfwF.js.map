{"version":3,"file":"ResponsiveContainer-CWOTnfwF.js","sources":["../../../packages/lake/src/components/ResponsiveContainer.tsx"],"sourcesContent":["import { ReactNode, useCallback, useLayoutEffect, useRef, useState } from \"react\";\nimport { LayoutChangeEvent, StyleSheet, View, ViewProps } from \"react-native\";\nimport { Merge } from \"type-fest\";\n\nconst styles = StyleSheet.create({\n  hidden: {\n    opacity: 0,\n  },\n});\n\nexport type Context = {\n  small: boolean;\n  large: boolean;\n};\n\ntype Props = Merge<\n  ViewProps,\n  {\n    breakpoint?: number;\n    children: (context: Context) => ReactNode;\n  }\n>;\n\nexport const ResponsiveContainer = ({ breakpoint = 1000, children, style, ...props }: Props) => {\n  const containerRef = useRef<View>(null);\n  const [small, setSmall] = useState<boolean | null>(null);\n\n  const onLayout = useCallback(\n    ({\n      nativeEvent: {\n        layout: { width },\n      },\n    }: LayoutChangeEvent) => {\n      setSmall(width < breakpoint);\n    },\n    [breakpoint],\n  );\n\n  useLayoutEffect(() => {\n    const element = containerRef.current as HTMLElement | null;\n\n    if (element != null) {\n      setSmall(element.offsetWidth < breakpoint);\n    }\n  }, [breakpoint]);\n\n  const isSmallWithDefault = small ?? false;\n\n  return (\n    <View\n      ref={containerRef}\n      onLayout={onLayout}\n      style={[style, small == null ? styles.hidden : null]}\n      {...props}\n    >\n      {children({ small: isSmallWithDefault, large: !isSmallWithDefault })}\n    </View>\n  );\n};\n"],"names":["styles","StyleSheet","ResponsiveContainer","breakpoint","children","style","props","containerRef","useRef","small","setSmall","useState","onLayout","useCallback","width","useLayoutEffect","element","isSmallWithDefault","jsx","View"],"mappings":"oGAIA,MAAMA,EAASC,EAAW,OAAO,CAC/B,OAAQ,CACN,QAAS,CAAA,CAEb,CAAC,EAeYC,EAAsB,CAAC,CAAE,WAAAC,EAAa,IAAM,SAAAC,EAAU,MAAAC,EAAO,GAAGC,KAAmB,CACxF,MAAAC,EAAeC,SAAa,IAAI,EAChC,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAyB,IAAI,EAEjDC,EAAWC,EAAA,YACf,CAAC,CACC,YAAa,CACX,OAAQ,CAAE,MAAAC,CAAM,CAAA,CAClB,IACuB,CACvBJ,EAASI,EAAQX,CAAU,CAC7B,EACA,CAACA,CAAU,CACb,EAEAY,EAAAA,gBAAgB,IAAM,CACpB,MAAMC,EAAUT,EAAa,QAEzBS,GAAW,MACJN,EAAAM,EAAQ,YAAcb,CAAU,CAC3C,EACC,CAACA,CAAU,CAAC,EAEf,MAAMc,EAAqBR,GAAS,GAGlC,OAAAS,EAAA,IAACC,EAAA,CACC,IAAKZ,EACL,SAAAK,EACA,MAAO,CAACP,EAAOI,GAAS,KAAOT,EAAO,OAAS,IAAI,EAClD,GAAGM,EAEH,WAAS,CAAE,MAAOW,EAAoB,MAAO,CAACA,CAAoB,CAAA,CAAA,CACrE,CAEJ"}