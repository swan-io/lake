{"version":3,"file":"RIB.stories-DMDfORxT.js","sources":["../../../packages/shared-business/src/components/RIB.tsx"],"sourcesContent":["import { Box } from \"@swan-io/lake/src/components/Box\";\nimport { LakeHeading } from \"@swan-io/lake/src/components/LakeHeading\";\nimport { Separator } from \"@swan-io/lake/src/components/Separator\";\nimport { Space } from \"@swan-io/lake/src/components/Space\";\nimport { SwanLogo } from \"@swan-io/lake/src/components/SwanLogo\";\nimport { WithPartnerAccentColor } from \"@swan-io/lake/src/components/WithPartnerAccentColor\";\nimport { commonStyles } from \"@swan-io/lake/src/constants/commonStyles\";\nimport {\n  colors,\n  fonts,\n  interFontStyle,\n  invariantColors,\n  radii,\n  spacings,\n} from \"@swan-io/lake/src/constants/design\";\nimport { isNotNullishOrEmpty } from \"@swan-io/lake/src/utils/nullish\";\nimport { CSSProperties } from \"react\";\nimport { StyleSheet, Text, TextStyle, View } from \"react-native\";\nimport { match } from \"ts-pattern\";\nimport { t } from \"../utils/i18n\";\n\nconst LOGO_MAX_HEIGHT = 24;\nconst LOGO_MAX_WIDTH = 150;\n\nconst getTextStyle = (type: \"serif\" | \"mono\", fontSize: number): TextStyle => ({\n  ...(type === \"mono\" ? { fontFamily: fonts.iban } : interFontStyle),\n  color: colors.gray[900],\n  fontSize,\n  lineHeight: fontSize * 1.25,\n  fontWeight: \"400\",\n});\n\nconst styles = StyleSheet.create({\n  container: {\n    borderRadius: radii[8],\n    borderColor: colors.gray[100],\n    borderWidth: 1,\n    backgroundColor: invariantColors.white,\n    width: 470,\n  },\n  half: {\n    padding: spacings[24],\n  },\n  shrink: {\n    flexShrink: 1,\n  },\n  label: {\n    ...getTextStyle(\"serif\", 10),\n  },\n  addressText: {\n    ...getTextStyle(\"serif\", 12),\n  },\n  mainText: {\n    ...getTextStyle(\"mono\", 12),\n  },\n  smallText: {\n    ...getTextStyle(\"mono\", 10),\n  },\n  partnershipText: {\n    ...getTextStyle(\"serif\", 8),\n    color: colors.gray[500],\n  },\n  partnerLabel: {\n    color: colors.partner[500],\n    fontWeight: \"500\",\n  },\n  defaultLogo: {\n    height: LOGO_MAX_HEIGHT,\n    width: (45 / 10) * LOGO_MAX_HEIGHT,\n  },\n  swanLogo: {\n    height: 6,\n    width: (45 / 10) * 6,\n  },\n});\n\ntype ItemProps = {\n  color?: \"partner\" | \"gray\";\n  kind: \"address\" | \"main\" | \"small\";\n  label: string;\n  value: string | string[];\n};\n\nconst kindStyles = {\n  address: styles.addressText,\n  main: styles.mainText,\n  small: styles.smallText,\n};\n\nconst Item = ({ color = \"gray\", kind, label, value }: ItemProps) => (\n  <View style={styles.shrink}>\n    <Text style={[styles.label, color === \"partner\" && styles.partnerLabel]}>{label}</Text>\n    <Space height={4} />\n\n    {typeof value === \"string\" ? (\n      <Text style={kindStyles[kind]}>{value}</Text>\n    ) : (\n      value.map((line, index) => (\n        <Text key={index} style={kindStyles[kind]}>\n          {line}\n        </Text>\n      ))\n    )}\n  </View>\n);\n\ntype Address = {\n  address: string;\n  city: string;\n  country: string;\n  name: string;\n  zipCode: string;\n};\n\ntype RIBv1Props = {\n  version: \"v1\";\n  accountHolderAddress: Address;\n  bank: string;\n  bankAddress: Address;\n  bic: string;\n  iban: string;\n  partnerColor: string;\n  partnerLogoUrl?: string;\n} & (\n  | {\n      accountCountry: \"FRA\";\n      agency: string;\n      bankKey: string;\n      bankNumber: string;\n    }\n  | {\n      accountCountry: \"DEU\";\n      accountNumber: string;\n    }\n  | {\n      accountCountry: \"ESP\";\n      agency: string;\n      bankNumber: string;\n      nationalCode: string;\n    }\n  | {\n      accountCountry: \"NLD\";\n      bankKey: string;\n      bankNumber: string;\n    }\n);\n\nconst logoStyle: CSSProperties = {\n  objectFit: \"contain\",\n  objectPosition: \"left\",\n};\n\nconst RIBv1 = ({\n  accountHolderAddress,\n  bank,\n  bankAddress,\n  bic,\n  iban,\n  partnerColor,\n  partnerLogoUrl,\n  ...props\n}: RIBv1Props) => (\n  <WithPartnerAccentColor color={partnerColor}>\n    <View style={styles.container}>\n      <View style={styles.half}>\n        <Box direction=\"row\" alignItems=\"center\">\n          {isNotNullishOrEmpty(partnerLogoUrl) ? (\n            <img\n              src={partnerLogoUrl}\n              style={{ ...logoStyle, height: LOGO_MAX_HEIGHT, maxWidth: LOGO_MAX_WIDTH }}\n            />\n          ) : (\n            <SwanLogo style={styles.defaultLogo} />\n          )}\n\n          <Space width={24} />\n\n          <LakeHeading\n            align=\"right\"\n            color={colors.gray[900]}\n            level={2}\n            style={commonStyles.fill}\n            variant=\"h3\"\n          >\n            {t(\"rib.bankDetails\")}\n          </LakeHeading>\n        </Box>\n\n        <Space height={24} />\n\n        <Box direction=\"row\" alignItems=\"center\">\n          <Item kind=\"main\" color=\"partner\" label={t(\"rib.iban\")} value={iban} />\n          <Space width={24} />\n          <Item kind=\"main\" color=\"partner\" label={t(\"rib.bic\")} value={bic} />\n        </Box>\n\n        <Space height={8} />\n\n        <Box direction=\"row\" alignItems=\"center\">\n          {match(props)\n            .with({ accountCountry: \"FRA\" }, ({ agency, bankKey, bankNumber }) => (\n              <>\n                <Item kind=\"small\" label={t(\"rib.bank\")} value={bank} />\n                <Space width={24} />\n                <Item kind=\"small\" label={t(\"rib.agency\")} value={agency} />\n                <Space width={24} />\n                <Item kind=\"small\" label={t(\"rib.number\")} value={bankNumber} />\n                <Space width={24} />\n                <Item kind=\"small\" label={t(\"rib.key\")} value={bankKey} />\n              </>\n            ))\n            .with({ accountCountry: \"DEU\" }, ({ accountNumber }) => (\n              <>\n                <Item kind=\"small\" label={t(\"rib.bank\")} value={bank} />\n                <Space width={24} />\n                <Item kind=\"small\" label={t(\"rib.accountNumber\")} value={accountNumber} />\n              </>\n            ))\n            .with({ accountCountry: \"ESP\" }, ({ agency, bankNumber, nationalCode }) => (\n              <>\n                <Item kind=\"small\" label={t(\"rib.bank\")} value={bank} />\n                <Space width={24} />\n                <Item kind=\"small\" label={t(\"rib.agency\")} value={agency} />\n                <Space width={24} />\n                <Item kind=\"small\" label={t(\"rib.nationalCode\")} value={nationalCode} />\n                <Space width={24} />\n                <Item kind=\"small\" label={t(\"rib.number\")} value={bankNumber} />\n              </>\n            ))\n            .with({ accountCountry: \"NLD\" }, ({ bankKey, bankNumber }) => (\n              <>\n                <Item kind=\"small\" label={t(\"rib.bank\")} value={bank} />\n                <Space width={24} />\n                <Item kind=\"small\" label={t(\"rib.number\")} value={bankNumber} />\n                <Space width={24} />\n                <Item kind=\"small\" label={t(\"rib.key\")} value={bankKey} />\n              </>\n            ))\n            .exhaustive()}\n        </Box>\n      </View>\n\n      <Separator />\n\n      <View style={styles.half}>\n        <Box direction=\"row\" alignItems=\"center\">\n          <Item\n            kind=\"address\"\n            color=\"partner\"\n            label={t(\"rib.address\")}\n            value={[\n              bankAddress.name,\n              bankAddress.address,\n              `${bankAddress.zipCode} ${bankAddress.city}`,\n              bankAddress.country,\n            ]}\n          />\n\n          <Space width={24} />\n\n          <Item\n            kind=\"address\"\n            color=\"partner\"\n            label={t(\"rib.accountHolder\")}\n            value={[\n              accountHolderAddress.name,\n              accountHolderAddress.address,\n              `${accountHolderAddress.zipCode} ${accountHolderAddress.city}`,\n              accountHolderAddress.country,\n            ]}\n          />\n        </Box>\n\n        <Space height={12} />\n\n        <Box direction=\"row\" alignItems=\"center\">\n          <Text style={styles.partnershipText}>{t(\"rib.partnership\")}</Text>\n          <Space width={4} />\n          <SwanLogo color={colors.gray[900]} style={styles.swanLogo} />\n        </Box>\n      </View>\n    </View>\n  </WithPartnerAccentColor>\n);\n\nexport type RIBProps = RIBv1Props;\n\nexport const RIB = (props: RIBProps) =>\n  match(props)\n    .with({ version: \"v1\" }, props => <RIBv1 {...props} />)\n    .exhaustive();\n"],"names":["LOGO_MAX_HEIGHT","LOGO_MAX_WIDTH","getTextStyle","type","fontSize","fonts","interFontStyle","colors","styles","StyleSheet","radii","invariantColors","spacings","kindStyles","Item","color","kind","label","value","jsxs","View","jsx","Text","Space","line","index","logoStyle","RIBv1","accountHolderAddress","bank","bankAddress","bic","iban","partnerColor","partnerLogoUrl","props","WithPartnerAccentColor","Box","isNotNullishOrEmpty","SwanLogo","LakeHeading","commonStyles","t","match","agency","bankKey","bankNumber","Fragment","accountNumber","nationalCode","Separator","RIB"],"mappings":"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"}