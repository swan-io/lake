import{N as F,s as D,z as v,b as M,j as e,V as S,w as _,S as N,k as G,$ as V}from"./Space-DwfUYIjw.js";import{L as b}from"./LakeButton-0CIdhlx-.js";import{L as H}from"./LakeRadio-yuC6jz-9.js";import{P as $}from"./Pressable-Q8uRqM2I.js";import{T as z}from"./Tile-VNYUqw1X.js";import{c as Z}from"./commonStyles-t4XfA7cz.js";import{u as X}from"./useResponsive-DqxxkJk8.js";import{c as Y}from"./math-Doq_lv8F.js";import{r as x}from"./index-CBqU2yxZ.js";import{t as B}from"./i18n-8IMOjUbi.js";import{T as m}from"./Tag-B0Vb3Vmt.js";import{S as K,a as j}from"./_StoriesComponents-DjOscnYS.js";import"./extends-CCbyfPlC.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-BtM5VmRH.js";import"./index-CRMzMpWr.js";import"./rifm-B_8IlkT7.js";import"./utc-DJvBpWoA.js";import"./array-rjEBP2Ry.js";import"./index-DNZKa5vc.js";const R=n=>{let r=n.scrollTop,u=n.scrollLeft;return F.make(f=>{let d;const a=setTimeout(()=>{const h=()=>{d=requestAnimationFrame(()=>{r!==n.scrollTop||u!==n.scrollLeft?(r=n.scrollTop,u=n.scrollLeft,h()):f()})};h()},50);return()=>{clearTimeout(a),d!=null&&cancelAnimationFrame(d)}})},l=D.create({root:{alignSelf:"stretch",alignItems:"stretch",flexGrow:1,overflow:"hidden",marginHorizontal:v[12]},scrollSnap:{scrollSnapType:"x mandatory"},container:{alignSelf:"stretch",flexDirection:"row",flexWrap:"wrap",alignItems:"stretch",justifyContent:"center"},mobileContainer:{flexWrap:"nowrap",justifyContent:"flex-start",transitionProperty:"transform",transitionDuration:"300ms",transitionTimingFunction:"ease-in-out"},item:{flexGrow:0,flexBasis:"33.333%",maxWidth:300,padding:M[12]},itemAnimation:{transform:"translateZ(0px)",animationKeyframes:{from:{opacity:0,transform:"translateZ(0px) translateX(50px)"},to:{opacity:1,transform:"translateZ(0px) translateX(0px)"}},animationDuration:"200ms",animationFillMode:"backwards",animationTimingFunction:"ease-in-out"},itemLarge:{flexBasis:"50%",maxWidth:"none"},itemSmallViewport:{width:"100%",flexBasis:"auto",maxWidth:"none",scrollSnapAlign:"center"},tileContents:{alignItems:"center",alignSelf:"stretch",flexGrow:1},tileRenderedContents:{alignItems:"center",alignSelf:"stretch",flexGrow:1},leftButton:{position:"absolute",top:"50%",left:v[24],transform:"translateY(-50%)",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderWidth:1,borderLeftWidth:0},rightButton:{position:"absolute",top:"50%",right:v[24],transform:"translateY(-50%)",borderTopRightRadius:0,borderBottomRightRadius:0,borderWidth:1,borderRightWidth:0}}),O=n=>n,T=({tile:n=!0,items:r,getId:u=O,large:f=!1,renderItem:d,value:a,disabled:h=!1,onChange:w})=>{const p=x.useRef(null),{desktop:i}=X(G.medium),[C,P]=x.useState("start");x.useEffect(()=>{if(i)return;const t=p.current,o=r.findIndex(s=>a===s);if(o!==-1&&t instanceof HTMLDivElement){const s=t.offsetWidth;t.scrollTo({x:o*s,animated:!1})}a==null&&r[0]!=null&&w(r[0])},[i]);const E=()=>{if(i)return;const t=p.current;if(t instanceof HTMLDivElement){const o=t.scrollLeft,s=t.offsetWidth,c=Y(0,r.length-1)(Math.round(o/s)),g=r[c];g!=null&&w(g),V(c).with(0,()=>P("start")).with(r.length-1,()=>P("end")).otherwise(()=>P("middle"))}},q=()=>{var o;const t=p.current;if(t instanceof HTMLDivElement){const s=t.scrollLeft,c=t.offsetWidth,g=Math.round(s/c),k=Math.max(0,g-1);t.style.scrollSnapType="none",(o=p.current)==null||o.scrollTo({x:k*c,animated:!0}),R(t).onResolve(()=>{t.style.scrollSnapType=null})}},U=()=>{var o;const t=p.current;if(t instanceof HTMLDivElement){const s=t.scrollLeft,c=t.offsetWidth,g=Math.round(s/c),k=Math.min(r.length-1,g+1);t.style.scrollSnapType="none",(o=p.current)==null||o.scrollTo({x:k*c,animated:!0}),R(t).onResolve(()=>{t.style.scrollSnapType=null})}};return e.jsxs(S,{children:[e.jsx(S,{style:l.root,children:e.jsx(_,{ref:p,horizontal:!i,onScroll:E,scrollEventThrottle:200,style:l.scrollSnap,contentContainerStyle:[l.container,!i&&l.mobileContainer,!i&&{width:`${r.length*100}%`}],children:r.map((t,o)=>e.jsx($,{disabled:h,style:[l.item,h&&Z.disabled,i&&l.itemAnimation,i&&{animationDelay:`${200+100*o}ms`},f&&l.itemLarge,!i&&l.itemSmallViewport,!i&&{width:`${100/r.length}%`}],onPress:()=>w(t),children:({hovered:s})=>{const c=e.jsxs(S,{style:l.tileContents,children:[e.jsx(S,{style:l.tileRenderedContents,children:d(t)}),i&&e.jsxs(e.Fragment,{children:[e.jsx(N,{height:24}),e.jsx(H,{value:a!=null&&u(t)===u(a)})]})]});return n?e.jsx(z,{hovered:s,selected:a!=null&&u(t)===u(a),flexGrow:1,children:c}):c}},String(o)))})}),!i&&e.jsx(b,{icon:"chevron-left-filled",mode:"secondary",forceBackground:!0,onPress:q,disabled:C==="start"||h,style:l.leftButton,ariaLabel:B("common.previous")}),!i&&e.jsx(b,{icon:"chevron-right-filled",mode:"secondary",forceBackground:!0,onPress:U,disabled:C==="end"||h,style:l.rightButton,ariaLabel:B("common.next")})]})};T.__docgenInfo={description:"",methods:[],displayName:"ChoicePicker",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},large:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},renderItem:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: T) => ReactNode",signature:{arguments:[{type:{name:"T"},name:"value"}],return:{name:"ReactNode"}}},description:""},value:{required:!1,tsType:{name:"T"},description:""},getId:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: T) => unknown",signature:{arguments:[{type:{name:"T"},name:"item"}],return:{name:"unknown"}}},description:"",defaultValue:{value:"<T,>(x: T) => x",computed:!1}},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: T) => void",signature:{arguments:[{type:{name:"T"},name:"value"}],return:{name:"void"}}},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},tile:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};const L=D.create({part:{padding:M[32]}}),xe={title:"Forms/ChoicePicker",component:T},y=()=>{const n=["Virtual","VirtualAndPhysical","SingleUseVirtual"],[r,u]=x.useState(),[f,d]=x.useState();return e.jsxs(K,{title:"Choice Picker",children:[e.jsx(j,{title:"Default",style:L.part,children:e.jsx(T,{items:n,value:r,onChange:u,renderItem:a=>V(a).with("Virtual",()=>e.jsx(m,{icon:"phone-regular",color:"mediumSladeBlue",children:"Virtual"})).with("VirtualAndPhysical",()=>e.jsx(m,{icon:"payment-regular",color:"shakespear",children:"Virtual & physical"})).with("SingleUseVirtual",()=>e.jsx(m,{icon:"phone-regular",color:"darkPink",children:"Single use"})).exhaustive()})}),e.jsx(j,{title:"Large",style:L.part,children:e.jsx(T,{items:n,value:f,large:!0,onChange:d,renderItem:a=>V(a).with("Virtual",()=>e.jsx(m,{icon:"phone-regular",color:"mediumSladeBlue",children:"Virtual"})).with("VirtualAndPhysical",()=>e.jsx(m,{icon:"payment-regular",color:"shakespear",children:"Virtual & physical"})).with("SingleUseVirtual",()=>e.jsx(m,{icon:"phone-regular",color:"darkPink",children:"Single use"})).exhaustive()})}),e.jsx(j,{title:"Without tile",style:L.part,children:e.jsx(T,{tile:!1,items:n,value:f,onChange:d,renderItem:a=>V(a).with("Virtual",()=>e.jsx(m,{icon:"phone-regular",color:"mediumSladeBlue",children:"Virtual"})).with("VirtualAndPhysical",()=>e.jsx(m,{icon:"payment-regular",color:"shakespear",children:"Virtual & physical"})).with("SingleUseVirtual",()=>e.jsx(m,{icon:"phone-regular",color:"darkPink",children:"Single use"})).exhaustive()})})]})};y.__docgenInfo={description:"",methods:[],displayName:"Default"};var A,W,I;y.parameters={...y.parameters,docs:{...(A=y.parameters)==null?void 0:A.docs,source:{originalSource:`() => {
  const items: ["Virtual", "VirtualAndPhysical", "SingleUseVirtual"] = ["Virtual", "VirtualAndPhysical", "SingleUseVirtual"];
  const [value, setValue] = useState<(typeof items)[number]>();
  const [largeValue, setLargeValue] = useState<(typeof items)[number]>();
  return <StoryBlock title="Choice Picker">
      <StoryPart title="Default" style={styles.part}>
        <ChoicePicker items={items} value={value} onChange={setValue} renderItem={item => match(item).with("Virtual", () => <Tag icon="phone-regular" color="mediumSladeBlue">
                  Virtual
                </Tag>).with("VirtualAndPhysical", () => <Tag icon="payment-regular" color="shakespear">
                  Virtual & physical
                </Tag>).with("SingleUseVirtual", () => <Tag icon="phone-regular" color="darkPink">
                  Single use
                </Tag>).exhaustive()} />
      </StoryPart>

      <StoryPart title="Large" style={styles.part}>
        <ChoicePicker items={items} value={largeValue} large={true} onChange={setLargeValue} renderItem={item => match(item).with("Virtual", () => <Tag icon="phone-regular" color="mediumSladeBlue">
                  Virtual
                </Tag>).with("VirtualAndPhysical", () => <Tag icon="payment-regular" color="shakespear">
                  Virtual & physical
                </Tag>).with("SingleUseVirtual", () => <Tag icon="phone-regular" color="darkPink">
                  Single use
                </Tag>).exhaustive()} />
      </StoryPart>

      <StoryPart title="Without tile" style={styles.part}>
        <ChoicePicker tile={false} items={items} value={largeValue} onChange={setLargeValue} renderItem={item => match(item).with("Virtual", () => <Tag icon="phone-regular" color="mediumSladeBlue">
                  Virtual
                </Tag>).with("VirtualAndPhysical", () => <Tag icon="payment-regular" color="shakespear">
                  Virtual & physical
                </Tag>).with("SingleUseVirtual", () => <Tag icon="phone-regular" color="darkPink">
                  Single use
                </Tag>).exhaustive()} />
      </StoryPart>
    </StoryBlock>;
}`,...(I=(W=y.parameters)==null?void 0:W.docs)==null?void 0:I.source}}};const Te=["Default"];export{y as Default,Te as __namedExportsOrder,xe as default};
//# sourceMappingURL=ChoicePicker.stories-dPGNk_uS.js.map
