{"version":3,"file":"Link-BMgTjqRE.js","sources":["../../../packages/lake/src/components/Link.tsx"],"sourcesContent":["import { useLinkProps } from \"@swan-io/chicane\";\nimport { forwardRef, memo } from \"react\";\nimport { HrefAttrs, PressableStateCallbackType, Text, TextProps } from \"react-native\";\nimport { Except } from \"type-fest\";\nimport { isNotNullish } from \"../utils/nullish\";\nimport { PressableText, PressableTextProps } from \"./Pressable\";\n\nexport type LinkProps = Except<\n  PressableTextProps,\n  \"hrefAttrs\" | \"style\" | \"onPress\" | \"children\"\n> & {\n  to: string;\n  replace?: boolean;\n  disabled?: boolean;\n  download?: boolean;\n  target?: NonNullable<HrefAttrs>[\"target\"];\n  style?:\n    | TextProps[\"style\"]\n    | ((state: PressableStateCallbackType & { active: boolean }) => TextProps[\"style\"]);\n  ariaCurrentValue?: \"page\" | \"location\";\n  onPress?: (e: React.MouseEvent<HTMLAnchorElement>) => void;\n  children?:\n    | TextProps[\"children\"]\n    | ((state: PressableStateCallbackType & { active: boolean }) => TextProps[\"children\"]);\n};\n\nexport const Link = memo(\n  forwardRef<Text, LinkProps>(\n    (\n      {\n        role = \"link\",\n        children,\n        disabled = false,\n        onPress,\n        replace = false,\n        download = false,\n        style,\n        target,\n        to,\n        ariaCurrentValue = \"page\",\n        tabIndex,\n        ...props\n      },\n      forwardedRef,\n    ) => {\n      const { active, onClick } = useLinkProps({ href: to, replace, target });\n\n      return (\n        <PressableText\n          {...props}\n          role={role}\n          disabled={disabled}\n          aria-disabled={disabled}\n          tabIndex={isNotNullish(tabIndex) ? tabIndex : disabled ? -1 : 0}\n          aria-current={active ? ariaCurrentValue : undefined}\n          href={!disabled ? to : undefined}\n          onPress={(event: unknown) => {\n            const e = event as React.MouseEvent<HTMLAnchorElement>;\n            if (disabled) {\n              e.preventDefault();\n            } else {\n              onPress?.(e);\n              onClick(e);\n            }\n          }}\n          ref={forwardedRef}\n          style={typeof style === \"function\" ? state => style({ ...state, active }) : style}\n          hrefAttrs={{\n            rel: target && target !== \"self\" ? \"noopener noreferrer\" : undefined,\n            download,\n            target,\n          }}\n        >\n          {typeof children === \"function\" ? state => children({ ...state, active }) : children}\n        </PressableText>\n      );\n    },\n  ),\n);\n\nLink.displayName = \"Link\";\n"],"names":["Link","memo","forwardRef","role","children","disabled","onPress","replace","download","style","target","to","ariaCurrentValue","tabIndex","props","forwardedRef","active","onClick","useLinkProps","jsx","PressableText","isNotNullish","event","e","state"],"mappings":"2KA0BA,MAAAA,EAAAC,EAAA,KACAC,EAAA,WACA,CACA,CACA,KAAAC,EAAA,OACA,SAAAC,EACA,SAAAC,EAAA,GACA,QAAAC,EACA,QAAAC,EAAA,GACA,SAAAC,EAAA,GACA,MAAAC,EACA,OAAAC,EACA,GAAAC,EACA,iBAAAC,EAAA,OACA,SAAAC,EACA,GAAAC,GAEAC,IACA,CACA,KAAA,CAAA,OAAAC,EAAA,QAAAC,CAAA,EAAAC,EAAA,CAAA,KAAAP,EAAA,QAAAJ,EAAA,OAAAG,CAAA,CAAA,EAGA,OAAAS,EAAA,IAAAC,EAAA,CACA,GAAAN,EACA,KAAAX,EACA,SAAAE,EACA,gBAAAA,EACA,SAAAgB,EAAAR,CAAA,EAAAA,EAAAR,EAAA,GAAA,EACA,eAAAW,EAAAJ,EAAA,OACA,KAAAP,EAAA,OAAAM,EACA,QAAAW,GAAA,CACA,MAAAC,EAAAD,EACAjB,EACAkB,EAAA,eAAA,GAEAjB,GAAA,MAAAA,EAAAiB,GACAN,EAAAM,CAAA,EAEA,EACA,IAAAR,EACA,MAAA,OAAAN,GAAA,WAAAe,GAAAf,EAAA,CAAA,GAAAe,EAAA,OAAAR,CAAA,CAAA,EAAAP,EACA,UAAA,CACA,IAAAC,GAAAA,IAAA,OAAA,sBAAA,OACA,SAAAF,EACA,OAAAE,CACA,EAEA,SAAA,OAAAN,GAAA,WAAAoB,GAAApB,EAAA,CAAA,GAAAoB,EAAA,OAAAR,CAAA,CAAA,EAAAZ,CAAA,CAAA,CAGA,CACA,CACA,EAEAJ,EAAA,YAAA"}