import{a2 as Te,a5 as Ke,a6 as Ye,a7 as je,a8 as Be,a9 as qe,aa as Ue,ab as Xe,ac as We,a0 as Je,ad as Qe,ae as Ze,af as et,ag as tt,a1 as nt,ah as rt,p as st,s as me,ai as at,aj as ot,u as it,E as lt,j as ut,$ as ct,V as dt,T as Et}from"./ScrollView-CouMEPyK.js";import{r as f}from"./index-uCp2LrAq.js";import{g as ht}from"./_commonjsHelpers-BosuxZz1.js";var W={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(e){e!==null&&(this._currentlyFocusedNode=e,document.activeElement!==e&&Te.focus(e))},blurTextInput(e){e!==null&&(this._currentlyFocusedNode=null,document.activeElement===e&&Te.blur(e))}},ft=(e,d)=>{var S=e.selectionEnd,E=e.selectionStart,T=d.start,c=d.end;return T!==E||c!==S},ge=(e,d)=>{if(ft(e,d)){var S=d.start,E=d.end;try{e.setSelectionRange(S,E||S)}catch{}}},vt=Object.assign({},Ke,Ye,je,Be,qe,Ue,Xe,We,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0}),St=e=>at(e,vt);function Rt(e){return e.isComposing||e.keyCode===229}var ie=null,Ee=f.forwardRef((e,d)=>{var S=e.autoCapitalize,E=S===void 0?"sentences":S,T=e.autoComplete,c=e.autoCompleteType,p=e.autoCorrect,P=p===void 0?!0:p,g=e.blurOnSubmit,R=e.caretHidden,b=e.clearTextOnFocus,O=e.dir,I=e.editable,K=e.enterKeyHint,D=e.inputMode,N=e.keyboardType,A=e.multiline,m=A===void 0?!1:A,Y=e.numberOfLines,M=e.onBlur,V=e.onChange,w=e.onChangeText,H=e.onContentSizeChange,F=e.onFocus,$=e.onKeyPress,o=e.onLayout,r=e.onMoveShouldSetResponder,u=e.onMoveShouldSetResponderCapture,l=e.onResponderEnd,t=e.onResponderGrant,s=e.onResponderMove,a=e.onResponderReject,i=e.onResponderRelease,_=e.onResponderStart,x=e.onResponderTerminate,L=e.onResponderTerminationRequest,G=e.onScrollShouldSetResponder,j=e.onScrollShouldSetResponderCapture,U=e.onSelectionChange,Z=e.onSelectionChangeShouldSetResponder,ee=e.onSelectionChangeShouldSetResponderCapture,te=e.onStartShouldSetResponder,ne=e.onStartShouldSetResponderCapture,B=e.onSubmitEditing,y=e.placeholderTextColor,fe=e.readOnly,ye=fe===void 0?!1:fe,De=e.returnKeyType,ve=e.rows,Se=e.secureTextEntry,J=Se===void 0?!1:Se,re=e.selection,Ce=e.selectTextOnFocus,be=e.showSoftInputOnFocus,Re=e.spellCheck,C,Q;if(D!=null)Q=D,D==="email"?C="email":D==="tel"?C="tel":D==="search"?C="search":D==="url"?C="url":C="text";else if(N!=null)switch(N){case"email-address":C="email";break;case"number-pad":case"numeric":Q="numeric";break;case"decimal-pad":Q="decimal";break;case"phone-pad":C="tel";break;case"search":case"web-search":C="search";break;case"url":C="url";break;default:C="text"}J&&(C="password");var q=f.useRef({height:null,width:null}),z=f.useRef(null),se=f.useRef(null),_e=f.useRef(!1);f.useEffect(()=>{z.current&&se.current&&ge(z.current,se.current),_e.current=J},[J]);var ae=f.useCallback(n=>{if(m&&H&&n!=null){var v=n.scrollHeight,k=n.scrollWidth;(v!==q.current.height||k!==q.current.width)&&(q.current.height=v,q.current.width=k,H({nativeEvent:{contentSize:{height:q.current.height,width:q.current.width}}}))}},[m,H]),Oe=f.useMemo(()=>n=>{n!=null&&(n.clear=function(){n!=null&&(n.value="")},n.isFocused=function(){return n!=null&&W.currentlyFocusedField()===n},ae(n))},[ae]);function Ne(n){W._currentlyFocusedNode=null,M&&(n.nativeEvent.text=n.target.value,M(n))}function Ae(n){var v=n.target,k=v.value;n.nativeEvent.text=k,ae(v),V&&V(n),w&&w(k)}function xe(n){var v=n.target;F&&(n.nativeEvent.text=v.value,F(n)),v!=null&&(W._currentlyFocusedNode=v,b&&(v.value=""),Ce&&(ie!=null&&clearTimeout(ie),ie=setTimeout(()=>{v!=null&&v.select()},0)))}function Le(n){var v=n.target;n.stopPropagation();var k=!m,oe=g??k,X=n.nativeEvent,Pe=Rt(X);$&&$(n),n.key==="Enter"&&!n.shiftKey&&!Pe&&!n.isDefaultPrevented()&&((g||!m)&&B&&(n.preventDefault(),X.text=n.target.value,B(n)),oe&&v!=null&&setTimeout(()=>v.blur(),0))}function Ie(n){try{var v=n.target,k=v.selectionStart,oe=v.selectionEnd,X={start:k,end:oe};U&&(n.nativeEvent.selection=X,n.nativeEvent.text=n.target.value,U(n)),_e.current===J&&(se.current=X)}catch{}}Je(()=>{var n=z.current;n!=null&&re!=null&&ge(n,re),document.activeElement===n&&(W._currentlyFocusedNode=n)},[z,re]);var ke=m?"textarea":"input";Qe(z,o),Ze(z,{onMoveShouldSetResponder:r,onMoveShouldSetResponderCapture:u,onResponderEnd:l,onResponderGrant:t,onResponderMove:s,onResponderReject:a,onResponderRelease:i,onResponderStart:_,onResponderTerminate:x,onResponderTerminationRequest:L,onScrollShouldSetResponder:G,onScrollShouldSetResponderCapture:j,onSelectionChangeShouldSetResponder:Z,onSelectionChangeShouldSetResponderCapture:ee,onStartShouldSetResponder:te,onStartShouldSetResponderCapture:ne});var Me=et(),we=Me.direction,h=St(e);h.autoCapitalize=E,h.autoComplete=T||c||"on",h.autoCorrect=P?"on":"off",h.dir=O!==void 0?O:"auto",h.enterKeyHint=K||De,h.inputMode=Q,h.onBlur=Ne,h.onChange=Ae,h.onFocus=xe,h.onKeyDown=Le,h.onSelect=Ie,h.readOnly=ye===!0||I===!1,h.rows=m?ve??Y:1,h.spellCheck=Re??P,h.style=[{"--placeholderTextColor":y},le.textinput$raw,le.placeholder,e.style,R&&le.caretHidden],h.type=m?void 0:C,h.virtualkeyboardpolicy=be===!1?"manual":"auto";var He=tt(h),Fe=nt(z,He,Oe,d);h.ref=Fe;var Ge=e.lang!=null?rt(e.lang):null,Ve=e.dir||Ge,$e=Ve||we,ze=st(ke,h,{writingDirection:$e});return ze});Ee.displayName="TextInput";Ee.State=W;var le=me.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});const ue=e=>{const[d,S]=f.useState(!1);return[d||e,S]};var ce={exports:{}},de={exports:{}};(function(e,d){d.__esModule=!0,d.default=void 0;var S="DELAY",E="ERROR",T="LONG_PRESS_DETECTED",c="NOT_RESPONDER",p="RESPONDER_ACTIVE_LONG_PRESS_START",P="RESPONDER_ACTIVE_PRESS_START",g="RESPONDER_INACTIVE_PRESS_START",R="RESPONDER_GRANT",b="RESPONDER_RELEASE",O="RESPONDER_TERMINATED",I=Object.freeze({NOT_RESPONDER:{DELAY:E,RESPONDER_GRANT:g,RESPONDER_RELEASE:E,RESPONDER_TERMINATED:E,LONG_PRESS_DETECTED:E},RESPONDER_INACTIVE_PRESS_START:{DELAY:P,RESPONDER_GRANT:E,RESPONDER_RELEASE:c,RESPONDER_TERMINATED:c,LONG_PRESS_DETECTED:E},RESPONDER_ACTIVE_PRESS_START:{DELAY:E,RESPONDER_GRANT:E,RESPONDER_RELEASE:c,RESPONDER_TERMINATED:c,LONG_PRESS_DETECTED:p},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:E,RESPONDER_GRANT:E,RESPONDER_RELEASE:c,RESPONDER_TERMINATED:c,LONG_PRESS_DETECTED:p},ERROR:{DELAY:c,RESPONDER_GRANT:g,RESPONDER_RELEASE:c,RESPONDER_TERMINATED:c,LONG_PRESS_DETECTED:c}}),K=o=>o.getAttribute("role"),D=o=>o.tagName.toLowerCase(),N=o=>o===P||o===p,A=o=>K(o)==="button",m=o=>o===g||o===P||o===p,Y=o=>o===O||o===b,M=o=>{var r=o.key,u=o.target,l=r===" "||r==="Spacebar",t=D(u)==="button"||A(u);return r==="Enter"||l&&t},V=450,w=50;class H{constructor(r){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=c,this._responderElement=null,this.configure(r)}configure(r){this._config=r}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return this._eventHandlers==null&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var r=(t,s)=>{t.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=c,this._isPointerTouch=t.nativeEvent.type==="touchstart",this._receiveSignal(R,t);var a=F(this._config.delayPressStart,0,w);s!==!1&&a>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(S,t)},a):this._receiveSignal(S,t);var i=F(this._config.delayLongPress,10,V);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(t)},i+a)},u=t=>{this._receiveSignal(b,t)},l=t=>{var s=this._config.onPress,a=t.target;if(this._touchState!==c&&M(t)){u(t),document.removeEventListener("keyup",l);var i=a.getAttribute("role"),_=D(a),x=i==="link"||_==="a"||_==="button"||_==="input"||_==="select"||_==="textarea",L=this._responderElement===a;s!=null&&!x&&L&&s(t),this._responderElement=null}};return{onStartShouldSetResponder:t=>{var s=this._config.disabled;return s&&A(t.currentTarget)&&t.stopPropagation(),s==null?!0:!s},onKeyDown:t=>{var s=this._config.disabled,a=t.key,i=t.target;if(!s&&M(t)){this._touchState===c&&(r(t,!1),this._responderElement=i,document.addEventListener("keyup",l));var _=a===" "||a==="Spacebar",x=K(i),L=x==="button"||x==="menuitem";_&&L&&D(i)!=="button"&&t.preventDefault(),t.stopPropagation()}},onResponderGrant:t=>r(t),onResponderMove:t=>{this._config.onPressMove!=null&&this._config.onPressMove(t);var s=$(t);if(this._touchActivatePosition!=null){var a=this._touchActivatePosition.pageX-s.pageX,i=this._touchActivatePosition.pageY-s.pageY;Math.hypot(a,i)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:t=>u(t),onResponderTerminate:t=>{t.nativeEvent.type==="selectionchange"&&(this._selectionTerminated=!0),this._receiveSignal(O,t)},onResponderTerminationRequest:t=>{var s=this._config,a=s.cancelable,i=s.disabled,_=s.onLongPress;return!i&&_!=null&&this._isPointerTouch&&t.nativeEvent.type==="contextmenu"?!1:a??!0},onClick:t=>{var s=this._config,a=s.disabled,i=s.onPress;a?A(t.currentTarget)&&t.stopPropagation():(t.stopPropagation(),this._longPressDispatched||this._selectionTerminated?t.preventDefault():i!=null&&t.altKey===!1&&i(t))},onContextMenu:t=>{var s=this._config,a=s.disabled,i=s.onLongPress;a?A(t.currentTarget)&&t.stopPropagation():i!=null&&this._isPointerTouch&&!t.defaultPrevented&&(t.preventDefault(),t.stopPropagation())}}}_receiveSignal(r,u){var l=this._touchState,t=null;I[l]!=null&&(t=I[l][r]),!(this._touchState===c&&r===b)&&(t==null||t===E?console.error("PressResponder: Invalid signal "+r+" for state "+l+" on responder"):l!==t&&(this._performTransitionSideEffects(l,t,r,u),this._touchState=t))}_performTransitionSideEffects(r,u,l,t){if(Y(l)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),m(r)&&l===T){var s=this._config.onLongPress;s!=null&&t.nativeEvent.key==null&&(s(t),this._longPressDispatched=!0)}var a=N(r),i=N(u);if(!a&&i?this._activate(t):a&&!i&&this._deactivate(t),m(r)&&l===b){var _=this._config,x=_.onLongPress,L=_.onPress;if(L!=null){var G=x!=null&&r===p;G||!i&&!a&&(this._activate(t),this._deactivate(t))}}this._cancelPressDelayTimeout()}_activate(r){var u=this._config,l=u.onPressChange,t=u.onPressStart,s=$(r);this._touchActivatePosition={pageX:s.pageX,pageY:s.pageY},t!=null&&t(r),l!=null&&l(!0)}_deactivate(r){var u=this._config,l=u.onPressChange,t=u.onPressEnd;function s(){t!=null&&t(r),l!=null&&l(!1)}var a=F(this._config.delayPressEnd);a>0?this._pressOutDelayTimeout=setTimeout(()=>{s()},a):s()}_handleLongPress(r){(this._touchState===P||this._touchState===p)&&this._receiveSignal(T,r)}_cancelLongPressDelayTimeout(){this._longPressDelayTimeout!=null&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){this._pressDelayTimeout!=null&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){this._pressOutDelayTimeout!=null&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}d.default=H;function F(o,r,u){return r===void 0&&(r=0),u===void 0&&(u=0),Math.max(r,o??u)}function $(o){var r=o.nativeEvent,u=r.changedTouches,l=r.touches;return l!=null&&l.length>0?l[0]:u!=null&&u.length>0?u[0]:o.nativeEvent}e.exports=d.default})(de,de.exports);var _t=de.exports;(function(e,d){var S=ot.default;d.__esModule=!0,d.default=c;var E=S(_t),T=f;function c(p,P){var g=(0,T.useRef)(null);g.current==null&&(g.current=new E.default(P));var R=g.current;return(0,T.useEffect)(()=>{R.configure(P)},[P,R]),(0,T.useEffect)(()=>()=>{R.reset()},[R]),(0,T.useDebugValue)(P),R.getEventHandlers()}e.exports=d.default})(ce,ce.exports);var Pt=ce.exports;const Tt=ht(Pt),gt=Tt,pe=me.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{cursor:"not-allowed"}}),he=(e,d={})=>{const{applyPressStyle:S=!0}=d;return f.forwardRef((E,T)=>{const{children:c,delayLongPress:p,delayPressIn:P,delayPressOut:g,disabled:R=!1,onBlur:b,onContextMenu:O,onFocus:I,onHoverIn:K,onHoverOut:D,onKeyDown:N,onLongPress:A,onPress:m,onPressIn:Y,onPressMove:M,onPressOut:V,style:w,tabIndex:H,testOnly_hovered:F,testOnly_pressed:$,...o}=E,[r,u]=ue(F===!0),[l,t]=ue(!1),[s,a]=ue($===!0),i=f.useRef(null),_=it(T,i),x=f.useMemo(()=>({delayLongPress:p,delayPressStart:P,delayPressEnd:g,disabled:R,onLongPress:A,onPress:m,onPressChange:a,onPressStart:Y,onPressMove:M,onPressEnd:V}),[p,P,g,R,A,m,Y,M,V,a]),L=gt(i,x),{onContextMenu:G,onKeyDown:j}=L;lt(i,{disabled:R,onHoverChange:u,onHoverStart:K,onHoverEnd:D});const U={hovered:r,focused:l,pressed:s},Z=f.useCallback(y=>{y.nativeEvent.target===i.current&&(t(!1),b==null||b(y))},[i,t,b]),ee=f.useCallback(y=>{y.nativeEvent.target===i.current&&(t(!0),I==null||I(y))},[i,t,I]),te=f.useCallback(y=>{G==null||G(y),O==null||O(y)},[O,G]),ne=f.useCallback(y=>{j==null||j(y),N==null||N(y)},[N,j]);let B;return H!==void 0?B=H:B=R?-1:0,ut.jsx(e,{...o,...L,"aria-disabled":R,onBlur:Z,onContextmenu:te,onFocus:ee,onKeyDown:ne,ref:_,style:[ct({disabled:R,applyPressStyle:S}).with({disabled:!1,applyPressStyle:!0},()=>pe.active).with({disabled:!0},()=>pe.disabled).otherwise(()=>null),typeof w=="function"?w(U):w],tabIndex:B,children:typeof c=="function"?c(U):c})})},bt=f.memo(he(dt,{applyPressStyle:!0})),pt=f.memo(he(Et,{applyPressStyle:!0})),mt=f.memo(he(Ee,{applyPressStyle:!1}));pt.displayName="PressableText";mt.displayName="PressableTextInput";export{bt as P,Ee as T,pt as a,W as b};
//# sourceMappingURL=Pressable-XeZGT766.js.map
