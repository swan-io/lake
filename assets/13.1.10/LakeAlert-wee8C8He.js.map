{"version":3,"file":"LakeAlert-wee8C8He.js","sources":["../../../packages/lake/src/components/LakeAlert.tsx"],"sourcesContent":["import { ReactNode } from \"react\";\nimport { StyleProp, StyleSheet, View, ViewStyle } from \"react-native\";\nimport { match } from \"ts-pattern\";\nimport { commonStyles } from \"../constants/commonStyles\";\nimport { breakpoints, colors, ColorVariants, shadows } from \"../constants/design\";\nimport { useResponsive } from \"../hooks/useResponsive\";\nimport { isNotNullish, isNotNullishOrEmpty } from \"../utils/nullish\";\nimport { Box } from \"./Box\";\nimport { Icon, IconName } from \"./Icon\";\nimport { LakeText } from \"./LakeText\";\nimport { Space } from \"./Space\";\nimport { Tag } from \"./Tag\";\n\nconst styles = StyleSheet.create({\n  base: {\n    paddingVertical: 20,\n    paddingHorizontal: 24,\n    borderRadius: 4,\n    borderWidth: 0.5,\n    borderLeftWidth: 4,\n    boxShadow: shadows.tile,\n  },\n  anchored: {\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 0,\n    borderLeftWidth: 0.5,\n    marginHorizontal: -1,\n    marginBottom: -1,\n    boxShadow: \"none\",\n  },\n  content: {\n    marginLeft: 40,\n  },\n\n  callToAction: {\n    marginTop: -12,\n    marginBottom: -12,\n    marginRight: -12,\n    flexShrink: 0,\n  },\n});\n\ntype AlertVariant = \"info\" | \"warning\" | \"error\" | \"success\" | \"neutral\";\n\nconst alertIcon: Record<AlertVariant, IconName | undefined> = {\n  info: \"info-regular\",\n  warning: \"warning-regular\",\n  error: \"dismiss-circle-regular\",\n  success: \"checkmark-circle-regular\",\n  neutral: undefined,\n};\n\nconst alertColor: Record<AlertVariant, string> = {\n  info: colors.shakespear[700],\n  warning: colors.warning[700],\n  error: colors.negative[700],\n  success: colors.positive[700],\n  neutral: colors.gray[700],\n};\n\nconst alertBackground: Record<AlertVariant, string> = {\n  info: colors.shakespear[0],\n  warning: colors.warning[0],\n  error: colors.negative[0],\n  success: colors.positive[0],\n  neutral: colors.gray[0],\n};\n\nconst alertBorder: Record<AlertVariant, string> = {\n  info: colors.shakespear[200],\n  warning: colors.warning[200],\n  error: colors.negative[200],\n  success: colors.positive[200],\n  neutral: colors.gray[200],\n};\n\nconst alertLeftBorder: Record<AlertVariant, string> = {\n  info: colors.shakespear[500],\n  warning: colors.warning[500],\n  error: colors.negative[500],\n  success: colors.positive[500],\n  neutral: colors.gray[500],\n};\n\ntype Props = {\n  anchored?: boolean;\n  variant: AlertVariant;\n  children?: ReactNode;\n  callToAction?: ReactNode;\n  title: ReactNode;\n  subtitle?: string;\n  style?: StyleProp<ViewStyle>;\n  tag?: string;\n};\n\nconst isText = (node: ReactNode): node is string | number =>\n  typeof node === \"string\" || typeof node === \"number\";\n\nexport const LakeAlert = ({\n  anchored = false,\n  variant,\n  title,\n  subtitle,\n  children,\n  style,\n  callToAction,\n  tag,\n}: Props) => {\n  const color = alertColor[variant];\n  const icon = alertIcon[variant];\n  const { desktop } = useResponsive(breakpoints.medium);\n\n  const translateColorTag = () =>\n    match(variant)\n      .returnType<ColorVariants>()\n      .with(\"error\", () => \"negative\")\n      .with(\"info\", () => \"shakespear\")\n      .with(\"neutral\", () => \"gray\")\n      .with(\"success\", () => \"positive\")\n      .with(\"warning\", () => \"warning\")\n      .exhaustive();\n\n  return (\n    <View\n      style={[\n        styles.base,\n        { backgroundColor: alertBackground[variant], borderColor: alertBorder[variant] },\n        anchored ? styles.anchored : { borderLeftColor: alertLeftBorder[variant] },\n        style,\n      ]}\n    >\n      <Box direction=\"row\" alignItems=\"center\">\n        {icon != null ? (\n          <>\n            <Icon name={icon} color={color} size={20} />\n            <Space width={20} />\n          </>\n        ) : null}\n\n        <View style={commonStyles.fill}>\n          <Box direction=\"row\" justifyContent=\"spaceBetween\">\n            <LakeText color={color} variant={icon != null ? \"regular\" : \"medium\"}>\n              {title}\n            </LakeText>\n\n            {tag && <Tag color={translateColorTag()}>{tag}</Tag>}\n          </Box>\n          {isNotNullishOrEmpty(subtitle) && <LakeText color={color}>{subtitle}</LakeText>}\n        </View>\n\n        {isNotNullish(callToAction) && <View style={styles.callToAction}>{callToAction}</View>}\n      </Box>\n\n      {isNotNullish(children) && (\n        <View style={desktop && icon != null && styles.content}>\n          <Space height={12} />\n\n          {isText(children) ? <LakeText>{children}</LakeText> : children}\n        </View>\n      )}\n    </View>\n  );\n};\n"],"names":["styles","StyleSheet","shadows","alertIcon","alertColor","colors","alertBackground","alertBorder","alertLeftBorder","isText","node","LakeAlert","anchored","variant","title","subtitle","children","style","callToAction","tag","color","icon","desktop","useResponsive","breakpoints","translateColorTag","match","jsxs","View","Box","Fragment","jsx","Icon","Space","commonStyles","LakeText","Tag","isNotNullishOrEmpty","isNotNullish"],"mappings":"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"}