{"version":3,"file":"ScrollView.stories-1ba60ccf.js","sources":["../../../packages/lake/src/components/LakeScrollView.tsx"],"sourcesContent":["import { ReactNode, useCallback, useState } from \"react\";\nimport {\n  NativeScrollEvent,\n  NativeSyntheticEvent,\n  ScrollView,\n  StyleSheet,\n  View,\n  ViewProps,\n} from \"react-native\";\nimport { backgroundColor } from \"../constants/design\";\n\nconst HORIZONTAL_SAFE_AREA = 20;\n\nconst styles = StyleSheet.create({\n  root: {\n    height: 1,\n    flexGrow: 1,\n  },\n  container: {\n    height: 1,\n    flexGrow: 1,\n  },\n  topGradient: {\n    height: 30,\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    top: 0,\n    backgroundImage: `linear-gradient(to bottom, ${backgroundColor.default}, ${backgroundColor.defaultTransparent})`,\n    opacity: 0,\n    transition: \"200ms ease-in-out opacity\",\n    pointerEvents: \"none\",\n  },\n  visibleTopGradient: {\n    opacity: 1,\n  },\n});\n\ntype Props = {\n  children: ReactNode;\n  style?: ViewProps[\"style\"];\n  contentContainerStyle?: ViewProps[\"style\"];\n  // TODO: Refactor to remove this by default\n  horizontalSafeArea?: number;\n};\n\nexport const LakeScrollView = ({\n  children,\n  horizontalSafeArea = HORIZONTAL_SAFE_AREA,\n  style,\n  contentContainerStyle,\n}: Props) => {\n  const [isScrolled, setIsScrolled] = useState(false);\n\n  const onScroll = useCallback((event: NativeSyntheticEvent<NativeScrollEvent>) => {\n    setIsScrolled(event.nativeEvent.contentOffset.y > 0);\n  }, []);\n\n  return (\n    <View style={styles.root}>\n      <ScrollView\n        onScroll={onScroll}\n        scrollEventThrottle={16}\n        style={[styles.container, { marginHorizontal: -horizontalSafeArea }, style]}\n        contentContainerStyle={[{ paddingHorizontal: horizontalSafeArea }, contentContainerStyle]}\n      >\n        {children}\n      </ScrollView>\n\n      <View style={[styles.topGradient, isScrolled && styles.visibleTopGradient]} />\n    </View>\n  );\n};\n"],"names":["HORIZONTAL_SAFE_AREA","styles","StyleSheet","backgroundColor","LakeScrollView","children","horizontalSafeArea","style","contentContainerStyle","isScrolled","setIsScrolled","useState","onScroll","useCallback","event","jsxs","View","jsx","ScrollView"],"mappings":"2NAWA,MAAAA,EAAA,GAEAC,EAAAC,EAAA,OAAA,CAAiC,KAAA,CACzB,OAAA,EACI,SAAA,CACE,EACZ,UAAA,CACW,OAAA,EACD,SAAA,CACE,EACZ,YAAA,CACa,OAAA,GACH,SAAA,WACE,KAAA,EACJ,MAAA,EACC,IAAA,EACF,gBAAA,8BAAAC,EAAA,YAAAA,EAAA,sBACsF,QAAA,EAClF,WAAA,4BACG,cAAA,MACG,EACjB,mBAAA,CACoB,QAAA,CACT,CAEb,CAAA,EAUOC,EAAA,CAAA,CAAwB,SAAAC,EAC7B,mBAAAC,EAAAN,EACqB,MAAAO,EACrB,sBAAAC,CAEF,IAAA,CACE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EAEAC,EAAAC,cAAAC,GAAA,CACEJ,EAAAI,EAAA,YAAA,cAAA,EAAA,CAAA,CAAmD,EAAA,CAAA,CAAA,EAGrD,OAAAC,EAAAC,EAAA,CAAA,MAAAf,EAAA,KAAA,SAAA,CAEIgB,EAAAC,EAAC,CAAA,SAAAN,EACC,oBAAA,GACqB,MAAA,CAAAX,EAAA,UAAA,CAAA,iBAAA,CAAAK,CAAA,EAAAC,CAAA,EACqD,sBAAA,CAAA,CAAA,kBAAAD,CAAA,EAAAE,CAAA,EACc,SAAAH,CAEvF,CAAA,EACHY,EAAAD,EAAA,CAAA,MAAA,CAAAf,EAAA,YAAAQ,GAAAR,EAAA,kBAAA,EAAA,CAE4E,CAAA,CAAA,CAGlF;;;;;;;;;;;;;;;;;;;;;;;;"}