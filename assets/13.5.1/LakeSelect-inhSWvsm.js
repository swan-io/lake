import{j as e,V as H,c as a,q as K,B as V,I as C,S as P,f as i,L as y,a0 as ne,l as ie,s as oe,o as N,d as o,r as x,t as $}from"./ScrollView-BgLPe5gl.js";import{r as u}from"./iframe-ngjqEMqC.js";import{c as D}from"./commonStyles-BBEkV6IC.js";import{u as de}from"./useDisclosure-UsMSNxwM.js";import{u as ce,P as O}from"./Pressable-BDDPqJMq.js";import{g as ue}from"./FocusTrap-CyCE4a0N.js";import{F as _}from"./Fill-CQCjw36B.js";import{P as me,F as pe}from"./Popover-XqoUOrmP.js";import{S as fe}from"./Separator-B7i4NH44.js";const t=oe.create({normal:{backgroundColor:a.gray.contrast,borderColor:a.gray[100],borderRadius:x[6],borderWidth:1,justifyContent:"center",minWidth:100,paddingHorizontal:o[16],height:40},borderless:{justifyContent:"center",height:40,paddingHorizontal:o[16],borderRadius:x[6],transitionProperty:"background-color",transitionDuration:"150ms"},small:{paddingVertical:5},shadowed:{position:"absolute",opacity:0,left:0,top:0,width:"100%",height:"100%",borderRadius:x[6],boxShadow:N.tile,transitionDuration:"150ms",transitionProperty:"opacity"},hovered:{opacity:1},selectPlaceholder:$.placeholder,selectSmallPlaceholder:$.smallPlaceholder,selected:{color:a.gray[800]},inputDisabled:{backgroundColor:a.gray[50],borderColor:a.gray[50],cursor:"not-allowed"},listContent:{paddingVertical:12},item:{display:"flex",paddingHorizontal:o[24],paddingVertical:o[8],flexDirection:"row",alignItems:"center"},itemHighlighted:{backgroundColor:a.gray[50]},itemFocused:{boxShadow:`inset 0 0 0 1px ${a.gray[500]}`,borderRadius:x[4],outlineStyle:"none"},itemDisabled:{opacity:.5},selectListTitle:{paddingHorizontal:o[24],paddingVertical:o[12]},inputBorderlessDisabled:{backgroundColor:K.transparent},itemText:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},errorText:{paddingTop:o[4]},focusedInput:{borderColor:a.gray[500],boxShadow:N.tile,outlineStyle:"none"},focusedWithoutShadow:{boxShadow:"none"},errorContainer:{borderColor:a.negative[500]}}),ye=({ref:M,title:E,items:d,valueStyle:U,size:I,color:G="current",disabled:g=!1,mode:m="normal",placeholder:J,readOnly:v=!1,id:Q,matchReferenceWidth:X=!0,value:h,error:w,hideErrors:Y=!1,icon:F,onValueChange:b,disabledItems:Z=[],renderItem:L,PopoverFooter:T,style:ee})=>{const W=u.useRef(null),z=u.useRef(null),j=u.useRef(void 0),S=u.useRef(void 0),A=u.useRef(Array(d.length)),re=ce(W,M),[c,{close:R,open:te}]=de(!1),ae=i(h),k=I==="small",q=d.find(r=>r.value===h),B=u.useCallback(r=>{if(r.nativeEvent.key.length===1){r.nativeEvent.stopPropagation();const l=`${S.current??""}${r.nativeEvent.key.toLowerCase()}`;S.current=l;const s=d.findIndex(p=>p.name.toLowerCase().startsWith(l)),n=d[s];n!=null&&(c?z.current?.element!=null&&A.current[s]?.focus():b(n.value))}j.current!=null&&window.clearTimeout(j.current),j.current=window.setTimeout(()=>{S.current=void 0},300)},[d,b,c]),le=q?.name??h;return e.jsxs(H,{style:D.fill,children:[e.jsx(O,{id:Q,ref:re,"aria-haspopup":"listbox",role:"button","aria-expanded":c,disabled:v||g,style:({focused:r,hovered:l,pressed:s})=>[m==="normal"?t.normal:t.borderless,I==="small"&&t.small,(g||v)&&t.inputDisabled,(c||r)&&t.focusedInput,m==="borderless"&&[{backgroundColor:s?a.gray[200]:l?a.gray[100]:K.transparent},t.focusedWithoutShadow],m!=="borderless"&&w!=null&&t.errorContainer,(g||v)&&m==="borderless"&&t.inputBorderlessDisabled,ee],onPress:te,onKeyDown:B,"aria-errormessage":w,children:({hovered:r})=>e.jsxs(e.Fragment,{children:[m==="normal"&&e.jsx(H,{style:[t.shadowed,r&&t.hovered]}),e.jsxs(V,{direction:"row",justifyContent:"spaceBetween",alignItems:"center",children:[e.jsxs(V,{direction:"row",alignItems:"center",style:D.fill,children:[F&&e.jsxs(e.Fragment,{children:[e.jsx(C,{color:a[G].primary,name:F,size:k?16:18}),e.jsx(P,{width:8})]}),ae?e.jsxs(V,{direction:"row",alignItems:"center",style:D.fill,children:[i(q?.icon)&&e.jsxs(e.Fragment,{children:[q?.icon,e.jsx(P,{width:12})]}),e.jsx(y,{color:a.gray[900],variant:k?"smallRegular":"regular",style:[t.itemText,U],children:le})]}):e.jsx(y,{style:[t.itemText,t.selectPlaceholder,k&&t.selectSmallPlaceholder],children:J??" "})]}),e.jsx(_,{minWidth:8}),!g&&e.jsx(C,{color:a.gray[900],name:c?"chevron-up-filled":"chevron-down-filled",size:16})]})]})}),!Y&&e.jsx(y,{variant:"smallRegular",color:a.negative[500],style:t.errorText,children:w??" "}),e.jsxs(me,{role:"listbox",matchReferenceMinWidth:X,onDismiss:R,referenceRef:W,returnFocus:!0,visible:c,children:[i(E)&&e.jsxs(e.Fragment,{children:[e.jsx(y,{variant:"semibold",color:a.gray[900],style:t.selectListTitle,children:E}),e.jsx(fe,{})]}),e.jsx(pe,{role:"list",data:d,ref:z,contentContainerStyle:t.listContent,onKeyDown:r=>{const{key:l}=r.nativeEvent;if((l==="ArrowDown"||l==="ArrowUp")&&(r.preventDefault(),i(r.currentTarget))){const s=ue(r.currentTarget),n=s.indexOf(r.target),p=l==="ArrowDown"?n+1:n-1;s[p]?.focus()}},keyExtractor:(r,l)=>`select-item-${l}`,renderItem:({item:r,index:l})=>{const s=h===r.value,n=Z.find(({value:f})=>f===r.value),p=L!=null?L(r,s):e.jsxs(e.Fragment,{children:[i(r.icon)&&e.jsxs(e.Fragment,{children:[r.icon,e.jsx(P,{width:12})]}),e.jsx(y,{color:a.gray[900],numberOfLines:1,style:[t.itemText,s&&t.selected],children:r.name})]});return e.jsx(ne,{placement:"right",content:n?.message,disabled:ie(n?.message),children:e.jsxs(O,{ref:f=>{A.current[l]=f},onKeyDown:B,disabled:i(n),style:({hovered:f,focused:se})=>[t.item,(f||s)&&t.itemHighlighted,se&&t.itemFocused,i(n)&&t.itemDisabled],role:"option","aria-selected":!0,onPress:()=>{b(r.value),R()},children:[p,e.jsx(_,{minWidth:12}),s&&e.jsx(C,{color:a.positive[500],name:"checkmark-filled",size:14})]})})}}),typeof T=="function"?T({close:R}):T]})]})};ye.__docgenInfo={description:"",methods:[],displayName:"LakeSelect",props:{ref:{required:!1,tsType:{name:"Ref",elements:[{name:"View"}],raw:"Ref<View>"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},items:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},matchReferenceWidth:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},mode:{required:!1,tsType:{name:"union",raw:'"normal" | "borderless"',elements:[{name:"literal",value:'"normal"'},{name:"literal",value:'"borderless"'}]},description:"",defaultValue:{value:'"normal"',computed:!1}},title:{required:!1,tsType:{name:"string"},description:""},valueStyle:{required:!1,tsType:{name:"StyleProp",elements:[{name:"TextStyle"}],raw:"StyleProp<TextStyle>"},description:""},PopoverFooter:{required:!1,tsType:{name:"union",raw:"ReactElement | ((helpers: { close: () => void }) => ReactElement)",elements:[{name:"ReactElement"},{name:"unknown"}]},description:""},size:{required:!1,tsType:{name:"union",raw:'"small" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"large"'}]},description:""},icon:{required:!1,tsType:{name:"unknown"},description:""},color:{required:!1,tsType:{name:"union",raw:"keyof typeof colors",elements:[{name:"literal",value:"gray"},{name:"literal",value:"live"},{name:"literal",value:"sandbox"},{name:"literal",value:"positive"},{name:"literal",value:"warning"},{name:"literal",value:"negative"},{name:"literal",value:"current"},{name:"literal",value:"partner"},{name:"literal",value:"swan"},{name:"literal",value:"shakespear"},{name:"literal",value:"darkPink"},{name:"literal",value:"sunglow"},{name:"literal",value:"mediumSladeBlue"}]},description:"",defaultValue:{value:'"current"',computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},value:{required:!1,tsType:{name:"V"},description:""},onValueChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: V) => void",signature:{arguments:[{type:{name:"V"},name:"value"}],return:{name:"void"}}},description:""},disabledItems:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: V; message?: string }",signature:{properties:[{key:"value",value:{name:"V",required:!0}},{key:"message",value:{name:"string",required:!1}}]}}],raw:"{ value: V; message?: string }[]"},description:"",defaultValue:{value:"[]",computed:!1}},renderItem:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: T, isSelected: boolean) => ReactElement",signature:{arguments:[{type:{name:"T"},name:"item"},{type:{name:"boolean"},name:"isSelected"}],return:{name:"ReactElement"}}},description:""},hideErrors:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},id:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},style:{required:!1,tsType:{name:"StyleProp",elements:[{name:"ViewStyle"}],raw:"StyleProp<ViewStyle>"},description:""}}};export{ye as L};
//# sourceMappingURL=LakeSelect-inhSWvsm.js.map
