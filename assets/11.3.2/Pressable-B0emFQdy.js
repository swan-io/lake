import{j as oe}from"./index-DNTRjB4V.js";import{r as T,a as X}from"./index-t2oEqn7n.js";import{ah as Z,ai as ee,s as ue,y as le,z as Ee,V as ce,T as _e}from"./ScrollView-DZFasRfs.js";import{g as te}from"./_commonjsHelpers-C932wzq6.js";const F=S=>{const[E,P]=T.useState(!1);return[E||S,P]};var Y={exports:{}},U={exports:{}},K;function fe(){return K||(K=1,function(S,E){var P=Z().default;E.__esModule=!0,E.default=c,P(X());function c(){for(var d=arguments.length,i=new Array(d),_=0;_<d;_++)i[_]=arguments[_];return function(f){i.forEach(o=>{if(o!=null){if(typeof o=="function"){o(f);return}if(typeof o=="object"){o.current=f;return}console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(o))}})}}S.exports=E.default}(U,U.exports)),U.exports}var W;function Re(){return W||(W=1,function(S,E){var P=ee().default,c=Z().default;E.__esModule=!0,E.default=_;var d=c(X()),i=P(fe());function _(){for(var R=arguments.length,f=new Array(R),o=0;o<R;o++)f[o]=arguments[o];return d.useMemo(()=>(0,i.default)(...f),[...f])}S.exports=E.default}(Y,Y.exports)),Y.exports}var de=Re();const he=te(de),Pe=he;var k={exports:{}},$={exports:{}},B;function Se(){return B||(B=1,function(S,E){E.__esModule=!0,E.default=void 0;var P="DELAY",c="ERROR",d="LONG_PRESS_DETECTED",i="NOT_RESPONDER",_="RESPONDER_ACTIVE_LONG_PRESS_START",R="RESPONDER_ACTIVE_PRESS_START",f="RESPONDER_INACTIVE_PRESS_START",o="RESPONDER_GRANT",g="RESPONDER_RELEASE",m="RESPONDER_TERMINATED",N=Object.freeze({NOT_RESPONDER:{DELAY:c,RESPONDER_GRANT:f,RESPONDER_RELEASE:c,RESPONDER_TERMINATED:c,LONG_PRESS_DETECTED:c},RESPONDER_INACTIVE_PRESS_START:{DELAY:R,RESPONDER_GRANT:c,RESPONDER_RELEASE:i,RESPONDER_TERMINATED:i,LONG_PRESS_DETECTED:c},RESPONDER_ACTIVE_PRESS_START:{DELAY:c,RESPONDER_GRANT:c,RESPONDER_RELEASE:i,RESPONDER_TERMINATED:i,LONG_PRESS_DETECTED:_},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:c,RESPONDER_GRANT:c,RESPONDER_RELEASE:i,RESPONDER_TERMINATED:i,LONG_PRESS_DETECTED:_},ERROR:{DELAY:i,RESPONDER_GRANT:f,RESPONDER_RELEASE:i,RESPONDER_TERMINATED:i,LONG_PRESS_DETECTED:i}}),I=n=>n.getAttribute("role"),L=n=>n.tagName.toLowerCase(),y=n=>n===R||n===_,O=n=>I(n)==="button",b=n=>n===f||n===R||n===_,H=n=>n===m||n===g,x=n=>{var t=n.key,l=n.target,u=t===" "||t==="Spacebar",e=L(l)==="button"||O(l);return t==="Enter"||u&&e},G=450,C=50;class q{constructor(t){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=i,this._responderElement=null,this.configure(t)}configure(t){this._config=t}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return this._eventHandlers==null&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var t=(e,s)=>{e.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=i,this._isPointerTouch=e.nativeEvent.type==="touchstart",this._receiveSignal(o,e);var r=M(this._config.delayPressStart,0,C);s!==!1&&r>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(P,e)},r):this._receiveSignal(P,e);var a=M(this._config.delayLongPress,10,G);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(e)},a+r)},l=e=>{this._receiveSignal(g,e)},u=e=>{var s=this._config.onPress,r=e.target;if(this._touchState!==i&&x(e)){l(e),document.removeEventListener("keyup",u);var a=r.getAttribute("role"),h=L(r),p=a==="link"||h==="a"||h==="button"||h==="input"||h==="select"||h==="textarea",D=this._responderElement===r;s!=null&&!p&&D&&s(e),this._responderElement=null}};return{onStartShouldSetResponder:e=>{var s=this._config.disabled;return s&&O(e.currentTarget)&&e.stopPropagation(),s==null?!0:!s},onKeyDown:e=>{var s=this._config.disabled,r=e.key,a=e.target;if(!s&&x(e)){this._touchState===i&&(t(e,!1),this._responderElement=a,document.addEventListener("keyup",u));var h=r===" "||r==="Spacebar",p=I(a),D=p==="button"||p==="menuitem";h&&D&&L(a)!=="button"&&e.preventDefault(),e.stopPropagation()}},onResponderGrant:e=>t(e),onResponderMove:e=>{this._config.onPressMove!=null&&this._config.onPressMove(e);var s=V(e);if(this._touchActivatePosition!=null){var r=this._touchActivatePosition.pageX-s.pageX,a=this._touchActivatePosition.pageY-s.pageY;Math.hypot(r,a)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:e=>l(e),onResponderTerminate:e=>{e.nativeEvent.type==="selectionchange"&&(this._selectionTerminated=!0),this._receiveSignal(m,e)},onResponderTerminationRequest:e=>{var s=this._config,r=s.cancelable,a=s.disabled,h=s.onLongPress;return!a&&h!=null&&this._isPointerTouch&&e.nativeEvent.type==="contextmenu"?!1:r??!0},onClick:e=>{var s=this._config,r=s.disabled,a=s.onPress;r?O(e.currentTarget)&&e.stopPropagation():(e.stopPropagation(),this._longPressDispatched||this._selectionTerminated?e.preventDefault():a!=null&&e.altKey===!1&&a(e))},onContextMenu:e=>{var s=this._config,r=s.disabled,a=s.onLongPress;r?O(e.currentTarget)&&e.stopPropagation():a!=null&&this._isPointerTouch&&!e.defaultPrevented&&(e.preventDefault(),e.stopPropagation())}}}_receiveSignal(t,l){var u=this._touchState,e=null;N[u]!=null&&(e=N[u][t]),!(this._touchState===i&&t===g)&&(e==null||e===c?console.error("PressResponder: Invalid signal "+t+" for state "+u+" on responder"):u!==e&&(this._performTransitionSideEffects(u,e,t,l),this._touchState=e))}_performTransitionSideEffects(t,l,u,e){if(H(u)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),b(t)&&u===d){var s=this._config.onLongPress;s!=null&&e.nativeEvent.key==null&&(s(e),this._longPressDispatched=!0)}var r=y(t),a=y(l);if(!r&&a?this._activate(e):r&&!a&&this._deactivate(e),b(t)&&u===g){var h=this._config,p=h.onLongPress,D=h.onPress;if(D!=null){var A=p!=null&&t===_;A||!a&&!r&&(this._activate(e),this._deactivate(e))}}this._cancelPressDelayTimeout()}_activate(t){var l=this._config,u=l.onPressChange,e=l.onPressStart,s=V(t);this._touchActivatePosition={pageX:s.pageX,pageY:s.pageY},e!=null&&e(t),u!=null&&u(!0)}_deactivate(t){var l=this._config,u=l.onPressChange,e=l.onPressEnd;function s(){e!=null&&e(t),u!=null&&u(!1)}var r=M(this._config.delayPressEnd);r>0?this._pressOutDelayTimeout=setTimeout(()=>{s()},r):s()}_handleLongPress(t){(this._touchState===R||this._touchState===_)&&this._receiveSignal(d,t)}_cancelLongPressDelayTimeout(){this._longPressDelayTimeout!=null&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){this._pressDelayTimeout!=null&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){this._pressOutDelayTimeout!=null&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}E.default=q;function M(n,t,l){return t===void 0&&(t=0),l===void 0&&(l=0),Math.max(t,n??l)}function V(n){var t=n.nativeEvent,l=t.changedTouches,u=t.touches;return u!=null&&u.length>0?u[0]:l!=null&&l.length>0?l[0]:n.nativeEvent}S.exports=E.default}($,$.exports)),$.exports}var J;function ve(){return J||(J=1,function(S,E){var P=ee().default;E.__esModule=!0,E.default=i;var c=P(Se()),d=X();function i(_,R){var f=(0,d.useRef)(null);f.current==null&&(f.current=new c.default(R));var o=f.current;return(0,d.useEffect)(()=>{o.configure(R)},[R,o]),(0,d.useEffect)(()=>()=>{o.reset()},[o]),(0,d.useDebugValue)(R),o.getEventHandlers()}S.exports=E.default}(k,k.exports)),k.exports}var Te=ve();const ge=te(Te),pe=ge,Q=ue.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{cursor:"not-allowed"}}),se=(S,E={})=>{const{applyPressStyle:P=!0}=E;return T.forwardRef((c,d)=>{const{children:i,delayLongPress:_,delayPressIn:R,delayPressOut:f,disabled:o=!1,onBlur:g,onContextMenu:m,onFocus:N,onHoverIn:I,onHoverOut:L,onKeyDown:y,onLongPress:O,onPress:b,onPressIn:H,onPressMove:x,onPressOut:G,style:C,tabIndex:q,testOnly_hovered:M,testOnly_pressed:V,...n}=c,[t,l]=F(M===!0),[u,e]=F(!1),[s,r]=F(V===!0),a=T.useRef(null),h=Pe(d,a),p=T.useMemo(()=>({delayLongPress:_,delayPressStart:R,delayPressEnd:f,disabled:o,onLongPress:O,onPress:b,onPressChange:r,onPressStart:H,onPressMove:x,onPressEnd:G}),[_,R,f,o,O,b,H,x,G,r]),D=pe(a,p),{onContextMenu:A,onKeyDown:w}=D;le(a,{disabled:o,onHoverChange:l,onHoverStart:I,onHoverEnd:L});const z={hovered:t,focused:u,pressed:s},re=T.useCallback(v=>{v.nativeEvent.target===a.current&&(e(!1),g==null||g(v))},[a,e,g]),ne=T.useCallback(v=>{v.nativeEvent.target===a.current&&(e(!0),N==null||N(v))},[a,e,N]),ae=T.useCallback(v=>{A==null||A(v),m==null||m(v)},[m,A]),ie=T.useCallback(v=>{w==null||w(v),y==null||y(v)},[y,w]);let j;return q!==void 0?j=q:j=o?-1:0,oe.jsx(S,{...n,...D,"aria-disabled":o,onBlur:re,onContextmenu:ae,onFocus:ne,onKeyDown:ie,ref:h,style:[Ee({disabled:o,applyPressStyle:P}).with({disabled:!1,applyPressStyle:!0},()=>Q.active).with({disabled:!0},()=>Q.disabled).otherwise(()=>null),typeof C=="function"?C(z):C],tabIndex:j,children:typeof i=="function"?i(z):i})})},Ae=T.memo(se(ce,{applyPressStyle:!0})),De=T.memo(se(_e,{applyPressStyle:!0}));De.displayName="PressableText";export{Ae as P,De as a,Pe as u};
//# sourceMappingURL=Pressable-B0emFQdy.js.map
