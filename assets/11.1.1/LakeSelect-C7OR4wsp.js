import{j as e}from"./jsx-runtime-BlAj40OV.js";import{r as u}from"./index-Cs7sjTYM.js";import{c as R}from"./commonStyles-t4XfA7cz.js";import{s as le,c as t,r as x,d,k as A,t as B,g as O,V as H,B as q,I as C,S as P,i as c,L as g,n as ne,o as oe}from"./ScrollView-DAMcnhPN.js";import{u as ie}from"./useDisclosure-DLkMFUa4.js";import{u as de,P as N}from"./Pressable-8N6ahZPW.js";import{g as ce}from"./FocusTrap-HMOsJfWh.js";import{F as $}from"./Fill-l8vhgJyC.js";import{P as ue,F as me}from"./Popover-CfCnBjuZ.js";import{S as pe}from"./Separator-qitoqTAJ.js";const a=le.create({normal:{backgroundColor:t.gray.contrast,borderColor:t.gray[100],borderRadius:x[6],borderWidth:1,justifyContent:"center",minWidth:100,paddingHorizontal:d[16],height:40},borderless:{justifyContent:"center",height:40,paddingHorizontal:d[16],borderRadius:x[6],transitionProperty:"background-color",transitionDuration:"150ms"},small:{paddingVertical:5},shadowed:{position:"absolute",opacity:0,left:0,top:0,width:"100%",height:"100%",borderRadius:x[6],boxShadow:A.tile,transitionDuration:"150ms",transitionProperty:"opacity"},hovered:{opacity:1},selectPlaceholder:B.placeholder,selectSmallPlaceholder:B.smallPlaceholder,selected:{color:t.gray[800]},inputDisabled:{backgroundColor:t.gray[50],borderColor:t.gray[50],cursor:"not-allowed"},listContent:{paddingVertical:12},item:{display:"flex",paddingHorizontal:d[24],paddingVertical:d[8],flexDirection:"row",alignItems:"center"},itemHighlighted:{backgroundColor:t.gray[50]},itemFocused:{boxShadow:`inset 0 0 0 1px ${t.gray[500]}`,borderRadius:x[4],outlineStyle:"none"},itemDisabled:{opacity:.5},selectListTitle:{paddingHorizontal:d[24],paddingVertical:d[12]},inputBorderlessDisabled:{backgroundColor:O.transparent},itemText:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},errorText:{paddingTop:d[4]},focusedInput:{borderColor:t.gray[500],boxShadow:A.tile,outlineStyle:"none"},focusedWithoutShadow:{boxShadow:"none"},errorContainer:{borderColor:t.negative[500]}}),fe=({title:V,items:m,valueStyle:_,size:D,color:K="current",disabled:h=!1,mode:y="normal",placeholder:M,readOnly:w=!1,id:U,matchReferenceWidth:G=!0,value:v,error:b,hideErrors:J=!1,icon:I,onValueChange:T,disabledItems:Q=[],PopoverFooter:X,style:Y},Z)=>{const F=u.useRef(null),L=u.useRef(null),j=u.useRef(void 0),S=u.useRef(void 0),E=u.useRef(Array(m.length)),ee=de(F,Z),[p,{close:W,open:re}]=ie(!1),ae=c(v),k=D==="small",i=m.find(r=>r.value===v),z=u.useCallback(r=>{var l,n;if(r.nativeEvent.key.length===1){r.nativeEvent.stopPropagation();const s=`${S.current??""}${r.nativeEvent.key.toLowerCase()}`;S.current=s;const o=m.findIndex(se=>se.name.toLowerCase().startsWith(s)),f=m[o];f!=null&&(p?((l=L.current)==null?void 0:l.element)!=null&&((n=E.current[o])==null||n.focus()):T(f.value))}j.current!=null&&window.clearTimeout(j.current),j.current=window.setTimeout(()=>{S.current=void 0},300)},[m,T,p]),te=(i==null?void 0:i.name)??v;return e.jsxs(H,{style:R.fill,children:[e.jsx(N,{id:U,ref:ee,"aria-haspopup":"listbox",role:"button","aria-expanded":p,disabled:w||h,style:({focused:r,hovered:l,pressed:n})=>[y==="normal"?a.normal:a.borderless,D==="small"&&a.small,(h||w)&&a.inputDisabled,(p||r)&&a.focusedInput,y==="borderless"&&[{backgroundColor:n?t.gray[200]:l?t.gray[100]:O.transparent},a.focusedWithoutShadow],y!=="borderless"&&b!=null&&a.errorContainer,(h||w)&&y==="borderless"&&a.inputBorderlessDisabled,Y],onPress:re,onKeyDown:z,"aria-errormessage":b,children:({hovered:r})=>e.jsxs(e.Fragment,{children:[y==="normal"&&e.jsx(H,{style:[a.shadowed,r&&a.hovered]}),e.jsxs(q,{direction:"row",justifyContent:"spaceBetween",alignItems:"center",children:[e.jsxs(q,{direction:"row",alignItems:"center",style:R.fill,children:[I&&e.jsxs(e.Fragment,{children:[e.jsx(C,{color:t[K].primary,name:I,size:k?16:18}),e.jsx(P,{width:8})]}),ae?e.jsxs(q,{direction:"row",alignItems:"center",style:R.fill,children:[c(i==null?void 0:i.icon)&&e.jsxs(e.Fragment,{children:[i==null?void 0:i.icon,e.jsx(P,{width:12})]}),e.jsx(g,{color:t.gray[900],variant:k?"smallRegular":"regular",style:[a.itemText,_],children:te})]}):e.jsx(g,{style:[a.itemText,a.selectPlaceholder,k&&a.selectSmallPlaceholder],children:M??" "})]}),e.jsx($,{minWidth:8}),!h&&e.jsx(C,{color:t.gray[900],name:p?"chevron-up-filled":"chevron-down-filled",size:16})]})]})}),!J&&e.jsx(g,{variant:"smallRegular",color:t.negative[500],style:a.errorText,children:b??" "}),e.jsxs(ue,{role:"listbox",matchReferenceMinWidth:G,onDismiss:W,referenceRef:F,returnFocus:!0,visible:p,children:[c(V)&&e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"semibold",color:t.gray[900],style:a.selectListTitle,children:V}),e.jsx(pe,{})]}),e.jsx(me,{role:"list",data:m,ref:L,contentContainerStyle:a.listContent,onKeyDown:r=>{var n;const{key:l}=r.nativeEvent;if((l==="ArrowDown"||l==="ArrowUp")&&(r.preventDefault(),c(r.currentTarget))){const s=ce(r.currentTarget),o=s.indexOf(r.target),f=l==="ArrowDown"?o+1:o-1;(n=s[f])==null||n.focus()}},keyExtractor:(r,l)=>`select-item-${l}`,renderItem:({item:r,index:l})=>{const n=v===r.value,s=Q.find(({value:o})=>o===r.value);return e.jsx(ne,{placement:"right",content:s==null?void 0:s.message,disabled:oe(s==null?void 0:s.message),children:e.jsxs(N,{ref:o=>E.current[l]=o,onKeyDown:z,disabled:c(s),style:({hovered:o,focused:f})=>[a.item,(o||n)&&a.itemHighlighted,f&&a.itemFocused,c(s)&&a.itemDisabled],role:"option","aria-selected":!0,onPress:()=>{T(r.value),W()},children:[c(r.icon)&&e.jsxs(e.Fragment,{children:[r.icon,e.jsx(P,{width:12})]}),e.jsx(g,{color:t.gray[900],numberOfLines:1,style:[a.itemText,n&&a.selected],children:r.name}),e.jsx($,{minWidth:12}),n&&e.jsx(C,{color:t.positive[500],name:"checkmark-filled",size:14})]})})}}),X]})]})},ye=u.forwardRef(fe);ye.__docgenInfo={description:"",methods:[],displayName:"LakeSelect",props:{placeholder:{required:!1,tsType:{name:"string"},description:""},items:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  name: string;
  value: V;
  icon?: ReactNode;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"value",value:{name:"V",required:!0}},{key:"icon",value:{name:"ReactNode",required:!1}}]}}],raw:"Item<V>[]"},description:""},matchReferenceWidth:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},mode:{required:!1,tsType:{name:"union",raw:'"normal" | "borderless"',elements:[{name:"literal",value:'"normal"'},{name:"literal",value:'"borderless"'}]},description:"",defaultValue:{value:'"normal"',computed:!1}},title:{required:!1,tsType:{name:"string"},description:""},valueStyle:{required:!1,tsType:{name:"StyleProp",elements:[{name:"TextStyle"}],raw:"StyleProp<TextStyle>"},description:""},PopoverFooter:{required:!1,tsType:{name:"ReactElement"},description:""},size:{required:!1,tsType:{name:"union",raw:'"small" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"large"'}]},description:""},icon:{required:!1,tsType:{name:"unknown"},description:""},color:{required:!1,tsType:{name:"union",raw:"keyof typeof colors",elements:[{name:"literal",value:"gray"},{name:"literal",value:"live"},{name:"literal",value:"sandbox"},{name:"literal",value:"positive"},{name:"literal",value:"warning"},{name:"literal",value:"negative"},{name:"literal",value:"current"},{name:"literal",value:"partner"},{name:"literal",value:"swan"},{name:"literal",value:"shakespear"},{name:"literal",value:"darkPink"},{name:"literal",value:"sunglow"},{name:"literal",value:"mediumSladeBlue"}]},description:"",defaultValue:{value:'"current"',computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},value:{required:!1,tsType:{name:"V"},description:""},onValueChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: V) => void",signature:{arguments:[{type:{name:"V"},name:"value"}],return:{name:"void"}}},description:""},disabledItems:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: V; message?: string }",signature:{properties:[{key:"value",value:{name:"V",required:!0}},{key:"message",value:{name:"string",required:!1}}]}}],raw:"{ value: V; message?: string }[]"},description:"",defaultValue:{value:"[]",computed:!1}},hideErrors:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},id:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},style:{required:!1,tsType:{name:"StyleProp",elements:[{name:"ViewStyle"}],raw:"StyleProp<ViewStyle>"},description:""}}};export{ye as L};
//# sourceMappingURL=LakeSelect-C7OR4wsp.js.map
