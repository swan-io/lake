{"version":3,"file":"LakeCheckbox-QbmVF2fV.js","sources":["../../../packages/lake/src/components/LakeCheckbox.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport { StyleSheet, View } from \"react-native\";\nimport { ColorVariants, colors } from \"../constants/design\";\nimport { LakeText } from \"./LakeText\";\nimport { Pressable } from \"./Pressable\";\nimport { Space } from \"./Space\";\nimport { Animate, Path, Svg } from \"./Svg\";\n\nconst SIZE = 16;\nconst RADIUS = 4;\n\nconst styles = StyleSheet.create({\n  container: {\n    width: SIZE,\n    height: SIZE,\n    borderRadius: RADIUS,\n    borderWidth: 1,\n    borderColor: colors.gray[500],\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  mixed: {\n    width: SIZE - 8,\n    height: 2,\n  },\n  labelled: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  disabled: {\n    opacity: 0.5,\n  },\n});\n\nexport type CheckboxProps = {\n  value: boolean | \"mixed\";\n  color?: ColorVariants;\n  disabled?: boolean;\n  isError?: boolean;\n};\n\nexport const LakeCheckbox = ({\n  value,\n  color = \"current\",\n  disabled = false,\n  isError = false,\n}: CheckboxProps) => {\n  const isFirstRender = useRef(true);\n  const [shouldAnimate, setShouldAnimate] = useState(false);\n\n  useEffect(() => {\n    if (!isFirstRender.current) {\n      setShouldAnimate(true);\n    }\n    isFirstRender.current = false;\n  }, [value]);\n\n  return (\n    <View\n      role=\"none\"\n      style={[\n        styles.container,\n        disabled && styles.disabled,\n        value !== false && {\n          backgroundColor: colors[color].primary,\n          borderColor: colors[color].primary,\n        },\n        isError && { borderColor: colors.negative[500] },\n      ]}\n    >\n      {value === true && (\n        <Svg viewBox=\"0 0 16 16\">\n          <Path\n            d=\"m3.5 7.5 2.8 3.4 5.6-6.7\"\n            stroke={colors[color].contrast}\n            strokeWidth={1.5}\n            fill=\"none\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeDasharray=\"20\"\n            strokeDashoffset={shouldAnimate ? \"20\" : \"0\"}\n          >\n            {shouldAnimate && (\n              <Animate\n                attributeName=\"stroke-dashoffset\"\n                values=\"20;0\"\n                dur=\"150ms\"\n                begin=\"150ms\"\n                fill=\"freeze\"\n              />\n            )}\n          </Path>\n        </Svg>\n      )}\n\n      {value === \"mixed\" && (\n        <View style={[styles.mixed, { backgroundColor: colors[color].contrast }]} />\n      )}\n    </View>\n  );\n};\n\nexport type LabelledCheckboxProps = CheckboxProps & {\n  onValueChange: (value: boolean) => void;\n  label: string;\n  disabled?: boolean;\n  isError?: boolean;\n};\n\nexport const LakeLabelledCheckbox = ({\n  value,\n  color,\n  label,\n  onValueChange,\n  disabled = false,\n  isError = false,\n}: LabelledCheckboxProps) => {\n  return (\n    <Pressable\n      role=\"checkbox\"\n      aria-checked={value}\n      style={styles.labelled}\n      onPress={() => onValueChange(value === true ? false : true)}\n      disabled={disabled}\n    >\n      <LakeCheckbox value={value} color={color} disabled={disabled} isError={isError} />\n      <Space width={8} />\n\n      <LakeText color={colors.gray[900]} userSelect=\"none\">\n        {label}\n      </LakeText>\n    </Pressable>\n  );\n};\n"],"names":["SIZE","RADIUS","styles","StyleSheet","colors","LakeCheckbox","value","color","disabled","isError","isFirstRender","useRef","shouldAnimate","setShouldAnimate","useState","useEffect","jsxs","View","jsx","Svg","Path","Animate","LakeLabelledCheckbox","label","onValueChange","Pressable","Space","LakeText"],"mappings":"yLAQA,MAAMA,EAAO,GACPC,EAAS,EAETC,EAASC,EAAW,OAAO,CAC/B,UAAW,CACT,MAAOH,EACP,OAAQA,EACR,aAAcC,EACd,YAAa,EACb,YAAaG,EAAO,KAAK,GAAG,EAC5B,WAAY,SACZ,eAAgB,QAClB,EACA,MAAO,CACL,MAAOJ,EAAO,EACd,OAAQ,CACV,EACA,SAAU,CACR,cAAe,MACf,WAAY,QACd,EACA,SAAU,CACR,QAAS,EACX,CACF,CAAC,EASYK,EAAe,CAAC,CAC3B,MAAAC,EACA,MAAAC,EAAQ,UACR,SAAAC,EAAW,GACX,QAAAC,EAAU,EACZ,IAAqB,CACb,MAAAC,EAAgBC,SAAO,EAAI,EAC3B,CAACC,EAAeC,CAAgB,EAAIC,WAAS,EAAK,EAExDC,OAAAA,EAAAA,UAAU,IAAM,CACTL,EAAc,SACjBG,EAAiB,EAAI,EAEvBH,EAAc,QAAU,EAAA,EACvB,CAACJ,CAAK,CAAC,EAGRU,EAAA,KAACC,EAAA,CACC,KAAK,OACL,MAAO,CACLf,EAAO,UACPM,GAAYN,EAAO,SACnBI,IAAU,IAAS,CACjB,gBAAiBF,EAAOG,CAAK,EAAE,QAC/B,YAAaH,EAAOG,CAAK,EAAE,OAC7B,EACAE,GAAW,CAAE,YAAaL,EAAO,SAAS,GAAG,CAAE,CACjD,EAEC,SAAA,CAAAE,IAAU,IACTY,MAACC,EAAI,CAAA,QAAQ,YACX,SAAAD,EAAA,IAACE,EAAA,CACC,EAAE,2BACF,OAAQhB,EAAOG,CAAK,EAAE,SACtB,YAAa,IACb,KAAK,OACL,cAAc,QACd,eAAe,QACf,gBAAgB,KAChB,iBAAkBK,EAAgB,KAAO,IAExC,SACCA,GAAAM,EAAA,IAACG,EAAA,CACC,cAAc,oBACd,OAAO,OACP,IAAI,QACJ,MAAM,QACN,KAAK,QAAA,CACP,CAAA,CAAA,EAGN,EAGDf,IAAU,SACRY,EAAA,IAAAD,EAAA,CAAK,MAAO,CAACf,EAAO,MAAO,CAAE,gBAAiBE,EAAOG,CAAK,EAAE,QAAA,CAAU,CAAG,CAAA,CAAA,CAAA,CAAA,CAIlF,EASae,EAAuB,CAAC,CACnC,MAAAhB,EACA,MAAAC,EACA,MAAAgB,EACA,cAAAC,EACA,SAAAhB,EAAW,GACX,QAAAC,EAAU,EACZ,IAEIO,EAAA,KAACS,EAAA,CACC,KAAK,WACL,eAAcnB,EACd,MAAOJ,EAAO,SACd,QAAS,IAAMsB,EAAclB,IAAU,EAAmB,EAC1D,SAAAE,EAEA,SAAA,CAAAU,EAAA,IAACb,EAAa,CAAA,MAAAC,EAAc,MAAAC,EAAc,SAAAC,EAAoB,QAAAC,EAAkB,EAChFS,EAAAA,IAACQ,EAAM,CAAA,MAAO,CAAG,CAAA,EAEjBR,EAAAA,IAACS,GAAS,MAAOvB,EAAO,KAAK,GAAG,EAAG,WAAW,OAC3C,SACHmB,CAAA,CAAA,CAAA,CAAA,CAAA"}