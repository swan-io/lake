{"version":3,"file":"SupportingDocumentCollection.stories-H9agSFne.js","sources":["../../../packages/lake/src/components/Form.tsx","../../../node_modules/@swan-io/request/dist/Request.mjs","../../../packages/shared-business/src/components/SupportingDocumentCollection.tsx"],"sourcesContent":["import { forwardRef, memo, ReactNode } from \"react\";\nimport { unstable_createElement as createElement, View, ViewProps } from \"react-native\";\nimport { Except } from \"type-fest\";\nimport { commonStyles } from \"../constants/commonStyles\";\n\ntype Props = Except<ViewProps, \"role\"> & {\n  children?: ReactNode;\n  onReset?: (event: React.FormEvent<HTMLElement>) => void;\n  onSubmit?: (event: React.FormEvent<HTMLElement>) => void;\n};\n\nexport const Form = memo(\n  forwardRef<View, Props>(({ style, onReset, onSubmit, ...props }, forwardedRef) =>\n    createElement(\"form\", {\n      ...props,\n      ref: forwardedRef,\n      onReset: (event: React.FormEvent<HTMLElement>) => {\n        event.preventDefault();\n        onReset?.(event);\n      },\n      onSubmit: (event: React.FormEvent<HTMLElement>) => {\n        event.preventDefault();\n        onSubmit?.(event);\n      },\n      style: [commonStyles.view, style],\n    }),\n  ),\n);\n\nForm.displayName = \"Form\";\n","import{Result as t,Future as e,Dict as r,Option as n}from\"@swan-io/boxed\";function o(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(o=function(){return!!t})()}function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function c(t){var e=\"function\"==typeof Map?new Map:void 0;return c=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf(\"[native code]\")}catch(e){return\"function\"==typeof t}}(t))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,r){if(o())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var u=new(t.bind.apply(t,n));return r&&s(u,r.prototype),u}(t,arguments,i(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,t)},c(t)}var a=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e}(/*#__PURE__*/c(Error)),p=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e}(/*#__PURE__*/c(Error)),f=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e}(/*#__PURE__*/c(Error)),l=function(e){return e.ok?t.Ok(e):t.Error(new f(\"Received HTTP status \"+e.status))},d=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e}(/*#__PURE__*/c(Error)),v=function(t){return t.response.toResult(new d)},y={make:function(o){var u=o.url,i=o.method,s=void 0===i?\"GET\":i,c=o.responseType,f=o.body,l=o.headers,d=o.withCredentials,v=void 0!==d&&d,y=o.onLoadStart,h=o.onProgress,E=o.timeout;return e.make(function(e){var o=new XMLHttpRequest;o.withCredentials=v,o.open(s,u,!0),null!=c&&(o.responseType=c),null!=E&&(o.timeout=E),null!=l&&r.entries(l).forEach(function(t){return o.setRequestHeader(t[0],t[1])});var i=function(){m(),e(t.Error(new a))},d=function(){m(),e(t.Error(new p))},b=function(){m();var r=o.status,u=n.fromNullable(o.response);e(t.Ok({status:r,ok:r>=200&&r<300,response:u,xhr:o}))},m=function(){o.removeEventListener(\"error\",i),o.removeEventListener(\"load\",b),o.removeEventListener(\"timeout\",d),null!=y&&o.removeEventListener(\"loadstart\",y),null!=h&&o.removeEventListener(\"progress\",h)};return o.addEventListener(\"error\",i),o.addEventListener(\"load\",b),o.addEventListener(\"timeout\",d),null!=y&&o.addEventListener(\"loadstart\",y),null!=h&&o.addEventListener(\"progress\",h),o.send(f),function(){m(),o.abort()}})}};export{y as Request,l as badStatusToError,v as emptyToError};\n//# sourceMappingURL=Request.mjs.map\n","import { Array, Future, Option, Result } from \"@swan-io/boxed\";\nimport { Form } from \"@swan-io/lake/src/components/Form\";\nimport { LakeButton, LakeButtonGroup } from \"@swan-io/lake/src/components/LakeButton\";\nimport { LakeLabel } from \"@swan-io/lake/src/components/LakeLabel\";\nimport { LakeText } from \"@swan-io/lake/src/components/LakeText\";\nimport { LakeTooltip } from \"@swan-io/lake/src/components/LakeTooltip\";\nimport { Space } from \"@swan-io/lake/src/components/Space\";\nimport { isNotNullishOrEmpty } from \"@swan-io/lake/src/utils/nullish\";\nimport { Request, badStatusToError } from \"@swan-io/request\";\nimport {\n  ForwardedRef,\n  Fragment,\n  Ref,\n  forwardRef,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport { match } from \"ts-pattern\";\nimport { UploadOutputWithId } from \"../hooks/useFilesUploader\";\nimport { SwanFile } from \"../utils/SwanFile\";\nimport { isTranslationKey, locale, t } from \"../utils/i18n\";\nimport { FilesUploader } from \"./FilesUploader\";\nimport { LakeModal } from \"./LakeModal\";\n\nconst ACCEPTED_FORMATS = [\"application/pdf\", \"image/png\", \"image/jpeg\"];\n\nexport type Document<Purpose extends string> = {\n  purpose: Purpose;\n  file: SwanFile;\n};\n\ntype UploadInput<Purpose extends string> = { fileName: string; purpose: Purpose };\nexport type UploadOutput = { url: string; fields: { key: string; value: string }[] };\n\ntype SupportingDocumentCollectionStatus =\n  | \"WaitingForDocument\"\n  | \"PendingReview\"\n  | \"Approved\"\n  | \"Canceled\"\n  | \"Rejected\";\n\ntype Props<Purpose extends string> = {\n  status: SupportingDocumentCollectionStatus;\n  generateUpload: (\n    input: UploadInput<Purpose>,\n  ) => Future<Result<UploadOutputWithId<UploadOutput>, unknown>>;\n  documents: Document<Purpose>[];\n  requiredDocumentPurposes: Purpose[];\n  onChange?: (documents: Document<Purpose>[]) => void;\n  onRemoveFile?: (file: SwanFile) => Future<Result<unknown, unknown>>;\n  templateLanguage?: string;\n};\n\nconst styles = StyleSheet.create({\n  button: {\n    opacity: 1,\n  },\n  buttonWithDefaultCursor: {\n    opacity: 1,\n    cursor: \"default\",\n  },\n});\n\ntype HelpProps =\n  | {\n      type: \"tooltip\";\n      text: string;\n      width?: number;\n    }\n  | {\n      type: \"button\";\n      label: string;\n      onPress: () => void;\n    };\n\nconst Help = (props: HelpProps) => {\n  return match(props)\n    .with({ type: \"tooltip\" }, ({ text, width }) => (\n      <LakeTooltip content={text} width={width} togglableOnFocus={true} placement=\"right\">\n        <LakeButton\n          mode=\"tertiary\"\n          size=\"small\"\n          color=\"gray\"\n          icon=\"question-circle-regular\"\n          disabled={true}\n          style={[styles.button, styles.buttonWithDefaultCursor]}\n          ariaLabel={t(\"supportingDocuments.help.whatIsThis\")}\n        />\n      </LakeTooltip>\n    ))\n    .with({ type: \"button\" }, ({ label, onPress }) => (\n      <LakeButton\n        mode=\"tertiary\"\n        size=\"small\"\n        color=\"gray\"\n        icon=\"question-circle-regular\"\n        onPress={onPress}\n        style={styles.button}\n        ariaLabel={t(\"supportingDocuments.help.whatIsThis\")}\n      >\n        {label}\n      </LakeButton>\n    ))\n    .exhaustive();\n};\n\nexport const getSupportingDocumentPurposeLabel = (purpose: string) => {\n  const key = `supportingDocuments.purpose.${purpose}`;\n  if (isTranslationKey(key)) {\n    return t(key);\n  } else {\n    return purpose;\n  }\n};\n\nexport const getSupportingDocumentPurposeDescriptionLabel = (purpose: string) => {\n  const key = `supportingDocuments.purpose.${purpose}.description`;\n  if (isTranslationKey(key)) {\n    return t(key);\n  } else {\n    return \"\";\n  }\n};\n\nexport type SupportingDocumentCollectionRef = {\n  areAllRequiredDocumentsFilled: () => boolean;\n};\n\nexport const SupportingDocumentCollectionWithRef = <Purpose extends string>(\n  {\n    documents,\n    generateUpload,\n    requiredDocumentPurposes,\n    templateLanguage = locale.language,\n    status,\n    onRemoveFile,\n  }: Props<Purpose>,\n  ref: Ref<SupportingDocumentCollectionRef>,\n) => {\n  const [showPowerOfAttorneyModal, setShowPowerOfAttorneyModal] = useState(false);\n  const [showSwornStatementModal, setShowSwornStatementModal] = useState(false);\n\n  const orderedDocumentPurposes = useMemo(() => {\n    // Get all purposes to display: the required ones and the ones that have at least a document\n    const allPurposes = new Set(requiredDocumentPurposes);\n    documents.forEach(document => allPurposes.add(document.purpose));\n\n    const documentsByPurpose = new Map(\n      [...allPurposes].map(purpose => {\n        const purposeDocuments = documents.filter(document => document.purpose === purpose);\n        return [purpose, purposeDocuments];\n      }),\n    );\n\n    // Map purposes to their priorities (lower priority comes first)\n    // We precompute it to avoid running on each `sort` callback call\n    const allRequiredPurposes = new Set(requiredDocumentPurposes);\n    // Indices:\n    // -> 0: documents aren't empty and all validated\n    // -> 1: purpose is required\n    // -> 2: purpose isn't required\n    const priorityByPurpose = new Map(\n      [...allPurposes].map(purpose => {\n        const purposeDocuments = documentsByPurpose.get(purpose) ?? [];\n        const areAllPurposeDocumentsValidated =\n          purposeDocuments.length > 0 &&\n          purposeDocuments.every(document => document.file.statusInfo.status === \"Validated\");\n\n        const priority = areAllPurposeDocumentsValidated\n          ? 0\n          : allRequiredPurposes.has(purpose)\n            ? 1\n            : 2;\n\n        return [purpose, priority];\n      }),\n    );\n\n    return [...allPurposes]\n      .sort((purposeA, purposeB) => {\n        const purposeAPriority = priorityByPurpose.get(purposeA) ?? 2;\n        const purposeBPriority = priorityByPurpose.get(purposeB) ?? 2;\n\n        return purposeBPriority > purposeAPriority ? -1 : 1;\n      })\n      .map(purpose => {\n        const documents = documentsByPurpose.get(purpose) ?? [];\n        return {\n          purpose,\n          files: documents.map(item => item.file),\n          isRequired: allRequiredPurposes.has(purpose),\n          areAllDocumentsValidated: priorityByPurpose.get(purpose) === 0,\n        };\n      });\n  }, [requiredDocumentPurposes, documents]);\n\n  const filesByRequiredPurpose = useRef(\n    new Map(\n      Array.filterMap(orderedDocumentPurposes, ({ isRequired, purpose, files }) =>\n        isRequired ? Option.Some([purpose, files]) : Option.None(),\n      ),\n    ),\n  );\n\n  useImperativeHandle(ref, () => ({\n    areAllRequiredDocumentsFilled: () => {\n      const filesByPurposes = [...filesByRequiredPurpose.current.values()];\n      return filesByPurposes.every(files => files.length > 0);\n    },\n  }));\n\n  return (\n    <Form>\n      {orderedDocumentPurposes.map(({ purpose, files, areAllDocumentsValidated, isRequired }) => {\n        return (\n          <Fragment key={purpose}>\n            <LakeLabel\n              label={getSupportingDocumentPurposeLabel(purpose)}\n              help={match(purpose as string)\n                .with(\"PowerOfAttorney\", () => (\n                  <Help\n                    type=\"button\"\n                    label={t(\"supportingDocuments.help.whatIsThis\")}\n                    onPress={() => setShowPowerOfAttorneyModal(true)}\n                  />\n                ))\n                .with(\"SwornStatement\", () => (\n                  <Help\n                    type=\"button\"\n                    label={t(\"supportingDocuments.help.whatIsThis\")}\n                    onPress={() => setShowSwornStatementModal(true)}\n                  />\n                ))\n                .otherwise(() => {\n                  const label = getSupportingDocumentPurposeDescriptionLabel(purpose);\n                  return isNotNullishOrEmpty(label) ? <Help type=\"tooltip\" text={label} /> : null;\n                })}\n              render={() => (\n                <FilesUploader\n                  // Only allow uploading is the Supporting Document Collection awaits for docs\n                  // and that the specific purpose isn't already fully validated\n                  canUpload={status === \"WaitingForDocument\" && !areAllDocumentsValidated}\n                  accept={ACCEPTED_FORMATS}\n                  maxSize={20_000_000}\n                  icon=\"document-regular\"\n                  initialFiles={files}\n                  generateUpload={generateUpload}\n                  getUploadConfig={file => ({ fileName: file.name, purpose })}\n                  uploadFile={({ upload, file, onLoadStart, onProgress }) => {\n                    const body = new FormData();\n                    upload.fields.forEach(({ key, value }) => body.append(key, value));\n                    body.append(\"file\", file);\n                    return Request.make({\n                      url: upload.url,\n                      method: \"POST\",\n                      onLoadStart,\n                      onProgress,\n                      body,\n                    }).mapOkToResult(badStatusToError);\n                  }}\n                  formatAndSizeDescription={t(\"supportingDocuments.documentTypes\", {\n                    maxSizeMB: 20_000_000 / 1_000_000,\n                  })}\n                  onRemoveFile={onRemoveFile}\n                  onChange={files => {\n                    if (isRequired) {\n                      filesByRequiredPurpose.current.set(purpose, files);\n                    }\n                  }}\n                />\n              )}\n            />\n\n            <Space height={24} />\n          </Fragment>\n        );\n      })}\n\n      {requiredDocumentPurposes.length === 0 ? (\n        <>\n          <Space height={24} />\n          <LakeText>{t(\"supportingDocuments.noRequiredDocuments\")}</LakeText>\n          <Space height={24} />\n        </>\n      ) : null}\n\n      <LakeModal\n        visible={showPowerOfAttorneyModal}\n        title={t(\"supportingDocuments.powerOfAttorneyModal.title\")}\n        icon=\"document-regular\"\n        onPressClose={() => setShowPowerOfAttorneyModal(false)}\n      >\n        <LakeText>{t(\"supportingDocuments.powerOfAttorneyModal.description\")}</LakeText>\n        <Space height={16} />\n\n        <LakeButtonGroup paddingBottom={0}>\n          <LakeButton\n            grow={true}\n            color=\"current\"\n            onPress={() =>\n              window.open(\n                `/power-of-attorney-template/${match(templateLanguage)\n                  .with(\"fr\", () => \"fr\")\n                  .with(\"de\", () => \"de\")\n                  .with(\"es\", () => \"es\")\n                  .otherwise(() => \"en\")}.pdf`,\n              )\n            }\n          >\n            {t(\"supportingDocuments.downloadTemplate\")}\n          </LakeButton>\n        </LakeButtonGroup>\n      </LakeModal>\n\n      <LakeModal\n        visible={showSwornStatementModal}\n        title={t(\"supportingDocuments.purpose.SwornStatement\")}\n        icon=\"document-regular\"\n        onPressClose={() => setShowSwornStatementModal(false)}\n      >\n        <LakeText>{t(\"supportingDocuments.purpose.SwornStatement.description\")}</LakeText>\n        <Space height={16} />\n\n        <LakeButtonGroup paddingBottom={0}>\n          <LakeButton\n            grow={true}\n            color=\"current\"\n            onPress={() => window.open(\"/sworn-statement-template/es.pdf\")}\n          >\n            {t(\"supportingDocuments.downloadTemplate\")}\n          </LakeButton>\n        </LakeButtonGroup>\n      </LakeModal>\n    </Form>\n  );\n};\n\nexport const SupportingDocumentCollection = forwardRef(SupportingDocumentCollectionWithRef) as <\n  I extends string,\n>(\n  props: Props<I> & { ref?: ForwardedRef<SupportingDocumentCollectionRef> },\n) => ReturnType<typeof SupportingDocumentCollectionWithRef>;\n"],"names":["Form","memo","forwardRef","style","onReset","onSubmit","props","forwardedRef","createElement","event","commonStyles","o","t","u","e","s","i","c","r","n","a","p","f","l","y","d","h","E","m","b","ACCEPTED_FORMATS","styles","StyleSheet","Help","match","text","width","jsx","LakeTooltip","LakeButton","label","onPress","getSupportingDocumentPurposeLabel","purpose","key","isTranslationKey","getSupportingDocumentPurposeDescriptionLabel","SupportingDocumentCollectionWithRef","documents","generateUpload","requiredDocumentPurposes","templateLanguage","locale","status","onRemoveFile","ref","showPowerOfAttorneyModal","setShowPowerOfAttorneyModal","useState","showSwornStatementModal","setShowSwornStatementModal","orderedDocumentPurposes","useMemo","allPurposes","document","documentsByPurpose","purposeDocuments","allRequiredPurposes","priorityByPurpose","priority","purposeA","purposeB","purposeAPriority","documents2","item","filesByRequiredPurpose","useRef","Array","isRequired","files","Option","useImperativeHandle","jsxs","areAllDocumentsValidated","Fragment2","LakeLabel","isNotNullishOrEmpty","FilesUploader","file","upload","onLoadStart","onProgress","body","value","Request","badStatusToError","files2","Space","Fragment","LakeText","LakeModal","LakeButtonGroup","SupportingDocumentCollection"],"mappings":"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","x_google_ignoreList":[1]}