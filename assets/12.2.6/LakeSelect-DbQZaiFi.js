import{j as e}from"./jsx-runtime-BjG_zV1W.js";import{r as f}from"./index-D9D9kDko.js";import{c as R}from"./commonStyles-BBEkV6IC.js";import{V as A,s as le,c as t,g as O,B as q,I as V,S as C,i as d,L as g,n as ne,o as oe,l as B,h as c,r as x,t as H}from"./ScrollView-CRqCiH49.js";import{u as ie}from"./useDisclosure-XMIqX_nt.js";import{u as de,P as N}from"./Pressable-D0TQHTzC.js";import{g as ce}from"./FocusTrap-D6KQDOaF.js";import{F as $}from"./Fill-BBor_6oY.js";import{P as ue,F as me}from"./Popover-ZWIzSjhP.js";import{S as pe}from"./Separator-Bkm-h-Cw.js";const a=le.create({normal:{backgroundColor:t.gray.contrast,borderColor:t.gray[100],borderRadius:x[6],borderWidth:1,justifyContent:"center",minWidth:100,paddingHorizontal:c[16],height:40},borderless:{justifyContent:"center",height:40,paddingHorizontal:c[16],borderRadius:x[6],transitionProperty:"background-color",transitionDuration:"150ms"},small:{paddingVertical:5},shadowed:{position:"absolute",opacity:0,left:0,top:0,width:"100%",height:"100%",borderRadius:x[6],boxShadow:B.tile,transitionDuration:"150ms",transitionProperty:"opacity"},hovered:{opacity:1},selectPlaceholder:H.placeholder,selectSmallPlaceholder:H.smallPlaceholder,selected:{color:t.gray[800]},inputDisabled:{backgroundColor:t.gray[50],borderColor:t.gray[50],cursor:"not-allowed"},listContent:{paddingVertical:12},item:{display:"flex",paddingHorizontal:c[24],paddingVertical:c[8],flexDirection:"row",alignItems:"center"},itemHighlighted:{backgroundColor:t.gray[50]},itemFocused:{boxShadow:`inset 0 0 0 1px ${t.gray[500]}`,borderRadius:x[4],outlineStyle:"none"},itemDisabled:{opacity:.5},selectListTitle:{paddingHorizontal:c[24],paddingVertical:c[12]},inputBorderlessDisabled:{backgroundColor:O.transparent},itemText:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},errorText:{paddingTop:c[4]},focusedInput:{borderColor:t.gray[500],boxShadow:B.tile,outlineStyle:"none"},focusedWithoutShadow:{boxShadow:"none"},errorContainer:{borderColor:t.negative[500]}}),fe=({ref:_,title:P,items:u,valueStyle:K,size:D,color:M="current",disabled:h=!1,mode:y="normal",placeholder:U,readOnly:w=!1,id:G,matchReferenceWidth:J=!0,value:v,error:b,hideErrors:Q=!1,icon:I,onValueChange:T,disabledItems:X=[],PopoverFooter:Y,style:Z})=>{const F=f.useRef(null),E=f.useRef(null),j=f.useRef(void 0),S=f.useRef(void 0),L=f.useRef(Array(u.length)),ee=de(F,_),[m,{close:W,open:re}]=ie(!1),ae=d(v),k=D==="small",i=u.find(r=>r.value===v),z=f.useCallback(r=>{var l,n;if(r.nativeEvent.key.length===1){r.nativeEvent.stopPropagation();const s=`${S.current??""}${r.nativeEvent.key.toLowerCase()}`;S.current=s;const o=u.findIndex(se=>se.name.toLowerCase().startsWith(s)),p=u[o];p!=null&&(m?((l=E.current)==null?void 0:l.element)!=null&&((n=L.current[o])==null||n.focus()):T(p.value))}j.current!=null&&window.clearTimeout(j.current),j.current=window.setTimeout(()=>{S.current=void 0},300)},[u,T,m]),te=(i==null?void 0:i.name)??v;return e.jsxs(A,{style:R.fill,children:[e.jsx(N,{id:G,ref:ee,"aria-haspopup":"listbox",role:"button","aria-expanded":m,disabled:w||h,style:({focused:r,hovered:l,pressed:n})=>[y==="normal"?a.normal:a.borderless,D==="small"&&a.small,(h||w)&&a.inputDisabled,(m||r)&&a.focusedInput,y==="borderless"&&[{backgroundColor:n?t.gray[200]:l?t.gray[100]:O.transparent},a.focusedWithoutShadow],y!=="borderless"&&b!=null&&a.errorContainer,(h||w)&&y==="borderless"&&a.inputBorderlessDisabled,Z],onPress:re,onKeyDown:z,"aria-errormessage":b,children:({hovered:r})=>e.jsxs(e.Fragment,{children:[y==="normal"&&e.jsx(A,{style:[a.shadowed,r&&a.hovered]}),e.jsxs(q,{direction:"row",justifyContent:"spaceBetween",alignItems:"center",children:[e.jsxs(q,{direction:"row",alignItems:"center",style:R.fill,children:[I&&e.jsxs(e.Fragment,{children:[e.jsx(V,{color:t[M].primary,name:I,size:k?16:18}),e.jsx(C,{width:8})]}),ae?e.jsxs(q,{direction:"row",alignItems:"center",style:R.fill,children:[d(i==null?void 0:i.icon)&&e.jsxs(e.Fragment,{children:[i==null?void 0:i.icon,e.jsx(C,{width:12})]}),e.jsx(g,{color:t.gray[900],variant:k?"smallRegular":"regular",style:[a.itemText,K],children:te})]}):e.jsx(g,{style:[a.itemText,a.selectPlaceholder,k&&a.selectSmallPlaceholder],children:U??" "})]}),e.jsx($,{minWidth:8}),!h&&e.jsx(V,{color:t.gray[900],name:m?"chevron-up-filled":"chevron-down-filled",size:16})]})]})}),!Q&&e.jsx(g,{variant:"smallRegular",color:t.negative[500],style:a.errorText,children:b??" "}),e.jsxs(ue,{role:"listbox",matchReferenceMinWidth:J,onDismiss:W,referenceRef:F,returnFocus:!0,visible:m,children:[d(P)&&e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"semibold",color:t.gray[900],style:a.selectListTitle,children:P}),e.jsx(pe,{})]}),e.jsx(me,{role:"list",data:u,ref:E,contentContainerStyle:a.listContent,onKeyDown:r=>{var n;const{key:l}=r.nativeEvent;if((l==="ArrowDown"||l==="ArrowUp")&&(r.preventDefault(),d(r.currentTarget))){const s=ce(r.currentTarget),o=s.indexOf(r.target),p=l==="ArrowDown"?o+1:o-1;(n=s[p])==null||n.focus()}},keyExtractor:(r,l)=>`select-item-${l}`,renderItem:({item:r,index:l})=>{const n=v===r.value,s=X.find(({value:o})=>o===r.value);return e.jsx(ne,{placement:"right",content:s==null?void 0:s.message,disabled:oe(s==null?void 0:s.message),children:e.jsxs(N,{ref:o=>{L.current[l]=o},onKeyDown:z,disabled:d(s),style:({hovered:o,focused:p})=>[a.item,(o||n)&&a.itemHighlighted,p&&a.itemFocused,d(s)&&a.itemDisabled],role:"option","aria-selected":!0,onPress:()=>{T(r.value),W()},children:[d(r.icon)&&e.jsxs(e.Fragment,{children:[r.icon,e.jsx(C,{width:12})]}),e.jsx(g,{color:t.gray[900],numberOfLines:1,style:[a.itemText,n&&a.selected],children:r.name}),e.jsx($,{minWidth:12}),n&&e.jsx(V,{color:t.positive[500],name:"checkmark-filled",size:14})]})})}}),Y]})]})};fe.__docgenInfo={description:"",methods:[],displayName:"LakeSelect",props:{ref:{required:!1,tsType:{name:"Ref",elements:[{name:"View"}],raw:"Ref<View>"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},items:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  name: string;
  value: V;
  icon?: ReactNode;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"value",value:{name:"V",required:!0}},{key:"icon",value:{name:"ReactNode",required:!1}}]}}],raw:"Item<V>[]"},description:""},matchReferenceWidth:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},mode:{required:!1,tsType:{name:"union",raw:'"normal" | "borderless"',elements:[{name:"literal",value:'"normal"'},{name:"literal",value:'"borderless"'}]},description:"",defaultValue:{value:'"normal"',computed:!1}},title:{required:!1,tsType:{name:"string"},description:""},valueStyle:{required:!1,tsType:{name:"StyleProp",elements:[{name:"TextStyle"}],raw:"StyleProp<TextStyle>"},description:""},PopoverFooter:{required:!1,tsType:{name:"ReactElement"},description:""},size:{required:!1,tsType:{name:"union",raw:'"small" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"large"'}]},description:""},icon:{required:!1,tsType:{name:"unknown"},description:""},color:{required:!1,tsType:{name:"union",raw:"keyof typeof colors",elements:[{name:"literal",value:"gray"},{name:"literal",value:"live"},{name:"literal",value:"sandbox"},{name:"literal",value:"positive"},{name:"literal",value:"warning"},{name:"literal",value:"negative"},{name:"literal",value:"current"},{name:"literal",value:"partner"},{name:"literal",value:"swan"},{name:"literal",value:"shakespear"},{name:"literal",value:"darkPink"},{name:"literal",value:"sunglow"},{name:"literal",value:"mediumSladeBlue"}]},description:"",defaultValue:{value:'"current"',computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},value:{required:!1,tsType:{name:"V"},description:""},onValueChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: V) => void",signature:{arguments:[{type:{name:"V"},name:"value"}],return:{name:"void"}}},description:""},disabledItems:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: V; message?: string }",signature:{properties:[{key:"value",value:{name:"V",required:!0}},{key:"message",value:{name:"string",required:!1}}]}}],raw:"{ value: V; message?: string }[]"},description:"",defaultValue:{value:"[]",computed:!1}},hideErrors:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},id:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},style:{required:!1,tsType:{name:"StyleProp",elements:[{name:"ViewStyle"}],raw:"StyleProp<ViewStyle>"},description:""}}};export{fe as L};
//# sourceMappingURL=LakeSelect-DbQZaiFi.js.map
