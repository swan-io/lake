{"version":3,"file":"PlainListView.stories-BOHUq_7y.js","sources":["../../../packages/lake/src/components/PlainListView.tsx"],"sourcesContent":["import {\n  cloneElement,\n  Fragment,\n  ReactElement,\n  ReactNode,\n  RefObject,\n  useCallback,\n  useEffect,\n  useId,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { PressableStateCallbackType, ScrollView, StyleSheet, View, ViewStyle } from \"react-native\";\nimport { commonStyles } from \"../constants/commonStyles\";\nimport { backgroundColor, breakpoints, colors, spacings } from \"../constants/design\";\nimport { useHover } from \"../hooks/useHover\";\nimport { isNotNullish, isNullish } from \"../utils/nullish\";\nimport {\n  ColumnCellConfig,\n  ColumnTitleConfig,\n  LinkConfig,\n  PlainListViewPlaceholder,\n} from \"./FixedListView\";\nimport { LakeHeading } from \"./LakeHeading\";\nimport { ResponsiveContainer } from \"./ResponsiveContainer\";\n\nexport type ColumnConfig<T, ExtraInfo> = {\n  id: string;\n  width: number | \"grow\";\n  title: string;\n  renderTitle: (props: ColumnTitleConfig<ExtraInfo>) => ReactNode;\n  renderCell: (props: ColumnCellConfig<T, ExtraInfo>) => ReactNode;\n};\n\nconst INHERIT = \"inherit\";\n\ntype Props<T, ExtraInfo> = {\n  data: T[];\n  keyExtractor: (item: T, index: number) => string;\n  highlightedRowId?: string;\n  headerHeight: number;\n  rowHeight: number;\n  groupHeaderHeight: number;\n  extraInfo: ExtraInfo;\n  columns: ColumnConfig<T, ExtraInfo>[];\n  smallColumns?: ColumnConfig<T, ExtraInfo>[];\n  onEndReached?: () => void;\n  onEndReachedThresholdPx?: number;\n  headerStyle?: ViewStyle | null | undefined;\n  rowStyle?: (item: T, large: boolean) => ViewStyle | null | undefined;\n  getRowLink?: (\n    config: LinkConfig<T, ExtraInfo>,\n  ) => ReactElement<{ children: (state: PressableStateCallbackType) => React.ReactNode }>;\n  renderEmptyList?: () => ReactNode;\n  groupBy?: (item: T) => string;\n  onActiveRowChange?: (element: HTMLElement) => void;\n  activeRowId?: string;\n  loading?: {\n    isLoading: boolean;\n    count: number;\n  };\n  breakpoint?: number;\n  withoutScroll?: boolean;\n  stickyOffset?: number;\n  headerBackgroundColor?: string;\n};\n\nconst styles = StyleSheet.create({\n  root: {\n    height: 1,\n    alignSelf: \"stretch\",\n    flexGrow: 1,\n    backgroundColor: backgroundColor.default,\n  },\n  contentContainer: {\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    flexGrow: 1,\n  },\n  segment: {\n    flexDirection: \"row\",\n    alignItems: \"stretch\",\n    overflow: \"hidden\",\n    paddingHorizontal: spacings[8],\n  },\n  segmentLarge: {\n    paddingHorizontal: spacings[24],\n  },\n  row: {\n    boxShadow: `inset 0 -1px ${colors.gray[100]}`,\n  },\n  activeRow: {\n    backgroundColor: backgroundColor.accented,\n  },\n  hoveredRow: {\n    backgroundColor: backgroundColor.accented,\n  },\n  segmentHeaderCell: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  header: {\n    position: \"sticky\",\n    top: 0,\n    flexDirection: \"row\",\n    alignItems: \"stretch\",\n    zIndex: 2,\n  },\n  stickyHeader: {\n    position: \"sticky\",\n    backgroundColor: backgroundColor.default90Transparency,\n    backdropFilter: \"blur(4px)\",\n    zIndex: 10,\n    paddingHorizontal: spacings[24],\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  stickyHeaderLarge: {\n    paddingHorizontal: spacings[40],\n  },\n  loadingPlaceholder: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    top: 0,\n  },\n  rowLink: {\n    color: INHERIT,\n    textDecorationLine: \"none\",\n  },\n  emptyListContainer: {\n    ...commonStyles.fill,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: spacings[48],\n    backgroundColor: backgroundColor.default,\n  },\n  scrollTracker: {\n    pointerEvents: \"none\",\n    position: \"absolute\",\n    left: 0,\n    bottom: 0,\n    right: 0,\n  },\n});\n\nconst ONE = 1;\nconst ZERO = 0;\n\nconst Row = <T, ExtraInfo>({\n  id,\n  item,\n  index,\n  rowHeight,\n  columns,\n  extraInfo,\n  isActive,\n  isHovered,\n  large,\n  style,\n  onMouseEnter,\n  onMouseLeave,\n}: {\n  id: string;\n  item: T;\n  index: number;\n  rowHeight: number;\n  columns: ColumnConfig<T, ExtraInfo>[];\n  extraInfo: ExtraInfo;\n  isActive: boolean;\n  isHovered: boolean;\n  large: boolean;\n  style?: (item: T, large: boolean) => ViewStyle | null | undefined;\n  onMouseEnter: (id: string) => void;\n  onMouseLeave: () => void;\n}) => {\n  const containerRef = useRef(null);\n\n  useHover(containerRef, {\n    onHoverStart: () => onMouseEnter(id),\n    onHoverEnd: () => onMouseLeave(),\n  });\n\n  return (\n    <View\n      ref={containerRef}\n      style={[\n        styles.segment,\n        large && styles.segmentLarge,\n        styles.row,\n        style?.(item, large),\n        isActive && styles.activeRow,\n        isHovered && styles.hoveredRow,\n        { minHeight: rowHeight },\n      ]}\n    >\n      {columns.map(({ width, id: columnId, renderCell }) => (\n        <View\n          style={[\n            styles.segmentHeaderCell,\n            {\n              width: typeof width === \"number\" ? width : ONE,\n              flexGrow: width === \"grow\" ? ONE : ZERO,\n            },\n          ]}\n          id={columnId}\n          key={columnId}\n        >\n          {renderCell({ columnId, item, index, extraInfo, isHovered })}\n        </View>\n      ))}\n    </View>\n  );\n};\n\nexport const PlainListView = <T, ExtraInfo>({\n  data: originalData,\n  keyExtractor,\n  rowHeight,\n  groupHeaderHeight,\n  headerHeight,\n  columns,\n  smallColumns = columns,\n  extraInfo,\n  onEndReached,\n  onEndReachedThresholdPx = 200,\n  headerStyle,\n  rowStyle,\n  getRowLink,\n  activeRowId,\n  renderEmptyList,\n  onActiveRowChange,\n  groupBy,\n  loading,\n  breakpoint = breakpoints.large,\n  withoutScroll = false,\n  stickyOffset = 0,\n  headerBackgroundColor = backgroundColor.default,\n}: Props<T, ExtraInfo>) => {\n  const viewId = useId();\n  const scrollTrackerRef = useRef<View>(null);\n\n  const groups: Map<string | null, T[]> = useMemo(() => {\n    if (groupBy == null) {\n      return new Map<null, T[]>([[null, originalData]]);\n    }\n    const map = new Map<string, T[]>();\n    originalData.forEach(item => {\n      const key = groupBy(item);\n      map.set(key, [...(map.get(key) ?? []), item]);\n    });\n    return map;\n  }, [groupBy, originalData]);\n\n  const totalHeight = rowHeight * originalData.length + groups.size * groupHeaderHeight;\n\n  const isLoading = isNotNullish(loading) && loading.isLoading;\n  const isEmpty = originalData.length === 0;\n\n  const [hoveredRow, setHoveredRow] = useState<string | undefined>(undefined);\n\n  const removeHoveredRow = useCallback(() => {\n    setHoveredRow(undefined);\n  }, []);\n\n  useEffect(() => {\n    const scrollTracker = scrollTrackerRef.current;\n    if (scrollTracker != null) {\n      const scrollTrackerElement = scrollTracker as unknown as HTMLElement;\n      const intersectionObserver = new IntersectionObserver(entries => {\n        entries.forEach(entry => {\n          if (entry.isIntersecting) {\n            if (isNotNullish(onEndReached)) {\n              onEndReached();\n            }\n          }\n        });\n      });\n      intersectionObserver.observe(scrollTrackerElement);\n      return () => intersectionObserver.unobserve(scrollTrackerElement);\n    }\n  }, [onEndReached]);\n\n  const createRowWrapper = useCallback(\n    ({\n      item,\n      absoluteIndex,\n      extraInfo,\n    }: {\n      item: T;\n      absoluteIndex: number;\n      extraInfo: ExtraInfo;\n    }): ReactElement<{\n      children: ReactNode;\n      ref: RefObject<View> | null;\n      style?: ViewStyle;\n    }> => {\n      const customLinkElement = getRowLink?.({ item, index: absoluteIndex, extraInfo });\n      return isNullish(customLinkElement) ? <View /> : customLinkElement;\n    },\n    [getRowLink],\n  );\n\n  const activeItemRef = useRef<View>(null);\n\n  useEffect(() => {\n    const ref = activeItemRef.current;\n    if (activeRowId != null && ref != null) {\n      const element = ref as unknown as HTMLElement;\n      element.scrollIntoView({ behavior: \"smooth\", block: \"nearest\" });\n      onActiveRowChange?.(element);\n    }\n  }, [activeRowId, onActiveRowChange]);\n\n  const listWrapper = useMemo(\n    () =>\n      withoutScroll ? (\n        <View style={styles.contentContainer} />\n      ) : (\n        <ScrollView\n          scrollEventThrottle={32}\n          contentContainerStyle={[\n            styles.contentContainer,\n            {\n              minHeight: totalHeight + (isLoading ? loading.count * rowHeight : 0),\n            },\n          ]}\n        />\n      ),\n    [isLoading, loading?.count, rowHeight, totalHeight, withoutScroll],\n  );\n\n  return (\n    <ResponsiveContainer\n      style={withoutScroll ? (isEmpty ? commonStyles.fill : undefined) : styles.root}\n      breakpoint={breakpoint}\n    >\n      {({ large }) => {\n        const displayColumns = large ? columns : smallColumns;\n        return (\n          <>\n            {cloneElement(listWrapper, {\n              children: (\n                <>\n                  {!isEmpty && large ? (\n                    <View\n                      style={[\n                        styles.segment,\n                        styles.segmentLarge,\n                        styles.header,\n                        headerStyle,\n                        { backgroundColor: headerBackgroundColor },\n                      ]}\n                    >\n                      {displayColumns.map(({ id, width, title, renderTitle }) => {\n                        const columnId = `${viewId}_${id}`;\n\n                        return (\n                          <View\n                            style={[\n                              styles.segmentHeaderCell,\n                              {\n                                width: typeof width === \"number\" ? width : ONE,\n                                flexGrow: width === \"grow\" ? ONE : ZERO,\n                                height: headerHeight,\n                              },\n                            ]}\n                            id={columnId}\n                            key={columnId}\n                          >\n                            {renderTitle({ title, extraInfo, id })}\n                          </View>\n                        );\n                      })}\n                    </View>\n                  ) : null}\n\n                  <View>\n                    {Array.from(groups.entries()).map(([groupName, items]) => {\n                      return (\n                        <Fragment key={groupName}>\n                          {groupName != null ? (\n                            <View\n                              style={[\n                                styles.stickyHeader,\n                                large && styles.stickyHeaderLarge,\n                                {\n                                  height: groupHeaderHeight,\n                                  top: stickyOffset + (large ? headerHeight : 0),\n                                },\n                              ]}\n                            >\n                              <LakeHeading level={3} variant=\"h3\">\n                                {groupName}\n                              </LakeHeading>\n                            </View>\n                          ) : null}\n\n                          {items.map((item, index) => {\n                            const key = keyExtractor(item, index);\n                            const isActive = activeRowId === key;\n                            const isHovered = isNotNullish(getRowLink) && hoveredRow === key;\n\n                            const wrapper = createRowWrapper({\n                              item,\n                              absoluteIndex: index,\n                              extraInfo,\n                            });\n\n                            return cloneElement(wrapper, {\n                              style: { ...styles.rowLink, ...wrapper.props.style },\n                              key: index,\n                              ref: isActive ? activeItemRef : null,\n                              children: (\n                                <Row\n                                  id={key}\n                                  rowHeight={rowHeight}\n                                  columns={displayColumns}\n                                  item={item}\n                                  index={index}\n                                  extraInfo={extraInfo}\n                                  isActive={isActive}\n                                  isHovered={isHovered}\n                                  large={large}\n                                  style={rowStyle}\n                                  onMouseEnter={setHoveredRow}\n                                  onMouseLeave={removeHoveredRow}\n                                />\n                              ),\n                            });\n                          })}\n                        </Fragment>\n                      );\n                    })}\n                  </View>\n\n                  <View>\n                    <View aria-busy={isLoading} style={styles.loadingPlaceholder}>\n                      {isLoading ? (\n                        <PlainListViewPlaceholder\n                          count={loading.count}\n                          rowHeight={rowHeight}\n                          rowVerticalSpacing={0}\n                          paddingHorizontal={0}\n                        />\n                      ) : null}\n                    </View>\n                  </View>\n\n                  {isEmpty && isNotNullish(renderEmptyList) && !isLoading ? (\n                    <View style={styles.emptyListContainer}>{renderEmptyList()}</View>\n                  ) : null}\n\n                  <View\n                    style={[styles.scrollTracker, { height: onEndReachedThresholdPx }]}\n                    ref={scrollTrackerRef}\n                  />\n                </>\n              ),\n            })}\n          </>\n        );\n      }}\n    </ResponsiveContainer>\n  );\n};\n"],"names":["INHERIT","styles","StyleSheet","backgroundColor","spacings","colors","commonStyles","ONE","ZERO","Row","id","item","index","rowHeight","columns","extraInfo","isActive","isHovered","large","style","onMouseEnter","onMouseLeave","containerRef","useRef","useHover","jsx","View","width","columnId","renderCell","PlainListView","originalData","keyExtractor","groupHeaderHeight","headerHeight","smallColumns","onEndReached","onEndReachedThresholdPx","headerStyle","rowStyle","getRowLink","activeRowId","renderEmptyList","onActiveRowChange","groupBy","loading","breakpoint","breakpoints","withoutScroll","stickyOffset","headerBackgroundColor","viewId","useId","scrollTrackerRef","groups","useMemo","map","key","totalHeight","isLoading","isNotNullish","isEmpty","hoveredRow","setHoveredRow","useState","removeHoveredRow","useCallback","useEffect","scrollTracker","scrollTrackerElement","intersectionObserver","entries","entry","createRowWrapper","absoluteIndex","extraInfo2","customLinkElement","isNullish","activeItemRef","ref","element","listWrapper","ScrollView","ResponsiveContainer","displayColumns","Fragment","cloneElement","jsxs","title","renderTitle","groupName","items","Fragment2","LakeHeading","wrapper","PlainListViewPlaceholder"],"mappings":"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"}