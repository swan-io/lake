import{S as $,a as r,j as v,L as z,c as W,h as k,m as R,V as q,b as N}from"./Space-131d2659.js";import{r as p}from"./index-f1f749bf.js";import{S as ee,O as te,h as o}from"./Boxed-504eec90.js";import{R as re}from"./rifm.esm-58cee9fb.js";import{i as ne,n as ae}from"./function-8a8a634e.js";import{g as ie}from"./rifm-eecf3b98.js";import{B as L}from"./index.module-1db6bb3b.js";import{F as oe}from"./Fill-d3a29646.js";import{I as Y}from"./Icon-73a40682.js";import{L as se}from"./LakeCombobox-1c9abec7.js";import{L as x}from"./LakeLabel-aac4e0bb.js";import{S as G,a as J}from"./_StoriesComponents-4317655e.js";import"./extends-98964cd2.js";import"./_commonjsHelpers-042e6b4d.js";import"./Svg-2acfd8ba.js";import"./typography-6ad07e3d.js";import"./colors-298625c7.js";import"./Popover-b5bbefb8.js";import"./useResponsive-3673dcf0.js";import"./BottomPanel-fcd63f37.js";import"./commonStyles-d52fedae.js";import"./useBodyClassName-bd00433d.js";import"./math-28929e20.js";import"./FocusTrap-074e2df6.js";import"./array-ac607f66.js";import"./LoadingView-68568d8b.js";import"./index-6257b084.js";import"./Portal-73206726.js";import"./index-96c5f47c.js";import"./WithCurrentColor-109acf67.js";import"./TransitionView-0a62a35b.js";import"./index-fdb8b60f.js";import"./index-e53aaaa4.js";import"./useMergeRefs-66f03dce.js";import"./LakeTextInput-9de5dca3.js";import"./index-8ede57ec.js";import"./v4-a960c1f4.js";const V=$.create({label:{flex:1},arrowContainer:{height:40}}),le={hour:0,minute:0},ue={hour:23,minute:59},K=15,me=ie({accept:"numeric",charMap:{2:":"},maxLength:4}),_=e=>{const[t,n]=e.split(":").map(Number);return k(t)||isNaN(t)||k(n)||isNaN(n)?o.None():o.Some({hour:t,minute:n})},D=e=>{const t=R(e.start)?_(e.start):o.None(),n=R(e.end)?_(e.end):o.None();return{start:t,end:n}},de=e=>{const[t]=e.split(":");if(k(t)||(t==null?void 0:t.length)!==2)return o.None();const n=Number(t);return n<0||n>23?o.None():isNaN(n)?o.None():o.Some(n)},ce=e=>`${e.hour.toString().padStart(2,"0")}:${e.minute.toString().padStart(2,"0")}`,T=e=>e.hour*60+e.minute,pe=e=>({hour:Math.floor(e/60),minute:e%60}),M=e=>e.hour>=0&&e.hour<=23&&e.minute>=0&&e.minute<=59,ge=(e,t)=>T(e)<T(t),w=e=>e.start.isNone()||e.end.isNone()?!0:ge(e.start.value,e.end.value),fe=(e,t,n)=>{const s=T(e),l=T(t),i=[];for(let a=s;a<=l;a+=n){const d=pe(a);i.push(ce(d))}return i},m=({value:e,onChangeText:t,suggestionStart:n=le,suggestionEnd:s=ue,intervalInMinutes:l=K,nbMaxSuggestions:i,readOnly:a,disabled:d,error:b,hideErrors:g,noSuggestionLabel:S})=>{const f=de(e??""),u=p.useMemo(()=>f.match({Some:c=>[{hour:c,minute:0},{hour:c,minute:59}],None:()=>[n,s]}),[f,n,s]),E=p.useMemo(()=>fe(u[0],u[1],l).slice(0,i),[u,l,i]),X=p.useMemo(()=>ee.Done(te.Ok(E)),[E]);return r(re,{value:e??"",onChange:t,...me,children:({value:c,onChange:Z})=>r(se,{keyExtractor:ne,placeholder:"HH:MM",value:c,items:X,renderItem:P=>v(L,{direction:"row",alignItems:"center",children:[r(z,{children:P}),r(oe,{minWidth:8}),P===c&&r(Y,{name:"checkmark-filled",color:W.positive[500],size:16})]}),readOnly:a,disabled:d,error:b,hideErrors:g,emptyResultText:S,onChange:Z,onValueChange:ae,onSelectItem:t})})},I=({value:e,onChange:t,intervalInMinutes:n=K,nbMaxSuggestions:s,readOnly:l,disabled:i,error:a,startLabel:d,endLabel:b,noSuggestionLabel:g})=>{const S=u=>{t({start:u,end:e.end})},f=u=>{t({start:e.start,end:u})};return v(q,{children:[v(L,{direction:"row",alignItems:"end",children:[r(x,{label:d,style:V.label,render:()=>r(m,{value:e.start,intervalInMinutes:n,nbMaxSuggestions:s,error:a,hideErrors:!0,disabled:i,readOnly:l,noSuggestionLabel:g,onChangeText:S})}),r(N,{width:12}),r(L,{style:V.arrowContainer,justifyContent:"center",children:r(Y,{name:"arrow-right-filled",size:20})}),r(N,{width:12}),r(x,{label:b,style:V.label,render:()=>r(m,{value:e.end,intervalInMinutes:n,nbMaxSuggestions:s,error:a,hideErrors:!0,disabled:i,readOnly:l,noSuggestionLabel:g,onChangeText:f})})]}),r(N,{height:4}),r(z,{variant:"smallRegular",color:W.negative[500],children:a??" "})]})};try{_.displayName="parseTime",_.__docgenInfo={description:"",displayName:"parseTime",props:{}}}catch{}try{D.displayName="parseTimeRange",D.__docgenInfo={description:"",displayName:"parseTimeRange",props:{start:{defaultValue:null,description:"",name:"start",required:!1,type:{name:"string"}},end:{defaultValue:null,description:"",name:"end",required:!1,type:{name:"string"}}}}}catch{}try{M.displayName="validateTime",M.__docgenInfo={description:"",displayName:"validateTime",props:{hour:{defaultValue:null,description:"",name:"hour",required:!0,type:{name:"number"}},minute:{defaultValue:null,description:"",name:"minute",required:!0,type:{name:"number"}}}}}catch{}try{w.displayName="validateTimeRange",w.__docgenInfo={description:"",displayName:"validateTimeRange",props:{start:{defaultValue:null,description:"",name:"start",required:!0,type:{name:"Option<Time>"}},end:{defaultValue:null,description:"",name:"end",required:!0,type:{name:"Option<Time>"}}}}}catch{}try{m.displayName="TimePicker",m.__docgenInfo={description:"",displayName:"TimePicker",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},onChangeText:{defaultValue:null,description:"",name:"onChangeText",required:!0,type:{name:"(value: string) => void"}},suggestionStart:{defaultValue:{value:"{ hour: 0, minute: 0 }"},description:"",name:"suggestionStart",required:!1,type:{name:"Time"}},suggestionEnd:{defaultValue:{value:"{ hour: 23, minute: 59 }"},description:"",name:"suggestionEnd",required:!1,type:{name:"Time"}},intervalInMinutes:{defaultValue:{value:"15"},description:"",name:"intervalInMinutes",required:!1,type:{name:"number"}},nbMaxSuggestions:{defaultValue:null,description:"",name:"nbMaxSuggestions",required:!1,type:{name:"number"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},hideErrors:{defaultValue:null,description:"",name:"hideErrors",required:!1,type:{name:"boolean"}},noSuggestionLabel:{defaultValue:null,description:"",name:"noSuggestionLabel",required:!0,type:{name:"string"}}}}}catch{}try{I.displayName="TimeRangePicker",I.__docgenInfo={description:"",displayName:"TimeRangePicker",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"{ start?: string | undefined; end?: string | undefined; }"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: { start?: string | undefined; end?: string | undefined; }) => void"}},intervalInMinutes:{defaultValue:{value:"15"},description:"",name:"intervalInMinutes",required:!1,type:{name:"number"}},nbMaxSuggestions:{defaultValue:null,description:"",name:"nbMaxSuggestions",required:!1,type:{name:"number"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},startLabel:{defaultValue:null,description:"",name:"startLabel",required:!0,type:{name:"string"}},endLabel:{defaultValue:null,description:"",name:"endLabel",required:!0,type:{name:"string"}},noSuggestionLabel:{defaultValue:null,description:"",name:"noSuggestionLabel",required:!0,type:{name:"string"}}}}}catch{}const Q=$.create({container:{maxWidth:430}}),C=new Date;C.setDate(C.getDate()-15);const F=new Date;F.setDate(F.getDate()+15);const tt={title:"Forms/TimePicker",component:m},ye=e=>{const[t,n]=p.useState();return r(m,{...e,value:t,onChangeText:n})},he=e=>{const[t,n]=p.useState({});return r(I,{...e,value:t,onChange:n})},y=()=>r(G,{title:"TimePicker",children:r(J,{title:"Default",children:r(q,{style:Q.container,children:r(ye,{noSuggestionLabel:"No time available"})})})}),h=()=>r(G,{title:"TimeRangePicker",children:r(J,{title:"Default",children:r(q,{style:Q.container,children:r(he,{startLabel:"Start",endLabel:"End",noSuggestionLabel:"No time available",intervalInMinutes:15})})})});var O,A,B;y.parameters={...y.parameters,docs:{...(O=y.parameters)==null?void 0:O.docs,source:{originalSource:`() => {
  return <StoryBlock title="TimePicker">
      <StoryPart title="Default">
        <View style={styles.container}>
          <InteractiveTimePicker noSuggestionLabel="No time available" />
        </View>
      </StoryPart>
    </StoryBlock>;
}`,...(B=(A=y.parameters)==null?void 0:A.docs)==null?void 0:B.source}}};var H,j,U;h.parameters={...h.parameters,docs:{...(H=h.parameters)==null?void 0:H.docs,source:{originalSource:`() => {
  return <StoryBlock title="TimeRangePicker">
      <StoryPart title="Default">
        <View style={styles.container}>
          <InteractiveTimeRangePicker startLabel="Start" endLabel="End" noSuggestionLabel="No time available" intervalInMinutes={15} />
        </View>
      </StoryPart>
    </StoryBlock>;
}`,...(U=(j=h.parameters)==null?void 0:j.docs)==null?void 0:U.source}}};const rt=["Default","RangePicker"];export{y as Default,h as RangePicker,rt as __namedExportsOrder,tt as default};
//# sourceMappingURL=TimePicker.stories-196145d1.js.map
