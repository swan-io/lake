import{S as W,a as r,j as L,L as Y,c as _,h as I,m as x,V as P,b as v}from"./Space-131d2659.js";import{r as p}from"./index-f1f749bf.js";import{S as te,O as re,h as o}from"./Boxed-504eec90.js";import{R as ne}from"./rifm.esm-58cee9fb.js";import{i as ae,n as ie}from"./function-8a8a634e.js";import{g as oe}from"./rifm-eecf3b98.js";import{B as q}from"./index.module-1db6bb3b.js";import{F as se}from"./Fill-d3a29646.js";import{I as G}from"./Icon-73a40682.js";import{L as le}from"./LakeCombobox-01a44715.js";import{L as M}from"./LakeLabel-aac4e0bb.js";import{S as J,a as K}from"./_StoriesComponents-4317655e.js";import"./extends-98964cd2.js";import"./_commonjsHelpers-042e6b4d.js";import"./Svg-2acfd8ba.js";import"./typography-6ad07e3d.js";import"./colors-298625c7.js";import"./Popover-b5bbefb8.js";import"./useResponsive-3673dcf0.js";import"./BottomPanel-fcd63f37.js";import"./commonStyles-d52fedae.js";import"./useBodyClassName-bd00433d.js";import"./math-28929e20.js";import"./FocusTrap-074e2df6.js";import"./array-ac607f66.js";import"./LoadingView-68568d8b.js";import"./index-6257b084.js";import"./Portal-73206726.js";import"./index-96c5f47c.js";import"./WithCurrentColor-109acf67.js";import"./TransitionView-0a62a35b.js";import"./index-fdb8b60f.js";import"./index-e53aaaa4.js";import"./useMergeRefs-66f03dce.js";import"./LakeTextInput-9de5dca3.js";import"./index-8ede57ec.js";import"./v4-a960c1f4.js";const k=W.create({label:{flex:1},arrowContainer:{height:40}}),ue={hour:0,minute:0},me={hour:23,minute:59},Q=15,de=oe({accept:"numeric",charMap:{2:":"},maxLength:4}),T=e=>{const[t,n]=e.split(":").map(Number);return I(t)||isNaN(t)||I(n)||isNaN(n)?o.None():o.Some({hour:t,minute:n})},w=e=>{const t=x(e.start)?T(e.start):o.None(),n=x(e.end)?T(e.end):o.None();return{start:t,end:n}},ce=e=>{const[t]=e.split(":");if(I(t)||(t==null?void 0:t.length)!==2)return o.None();const n=Number(t);return n<0||n>23?o.None():isNaN(n)?o.None():o.Some(n)},pe=e=>`${e.hour.toString().padStart(2,"0")}:${e.minute.toString().padStart(2,"0")}`,b=e=>e.hour*60+e.minute,ge=e=>({hour:Math.floor(e/60),minute:e%60}),C=e=>e.hour>=0&&e.hour<=23&&e.minute>=0&&e.minute<=59,fe=(e,t)=>b(e)<b(t),F=e=>e.start.isNone()||e.end.isNone()?!0:fe(e.start.value,e.end.value),ye=(e,t,n)=>{const s=b(e),l=b(t),i=[];for(let a=s;a<=l;a+=n){const d=ge(a);i.push(pe(d))}return i},m=({value:e,onChangeText:t,suggestionStart:n=ue,suggestionEnd:s=me,intervalInMinutes:l=Q,nbMaxSuggestions:i,readOnly:a,disabled:d,error:S,hideErrors:g,noSuggestionLabel:N})=>{const f=ce(e??""),u=p.useMemo(()=>f.match({Some:c=>[{hour:c,minute:0},{hour:c,minute:59}],None:()=>[n,s]}),[f,n,s]),R=p.useMemo(()=>ye(u[0],u[1],l).slice(0,i),[u,l,i]),Z=p.useMemo(()=>te.Done(re.Ok(R)),[R]);return r(ne,{value:e??"",onChange:t,...de,children:({value:c,onChange:ee})=>r(le,{keyExtractor:ae,placeholder:"HH:MM",value:c,items:Z,itemHeight:40,nbItemsDisplayed:4.5,renderItem:D=>{const V=D===c;return L(q,{direction:"row",alignItems:"center",children:[r(Y,{color:V?_.gray[700]:_.gray[900],variant:V?"smallRegular":"medium",children:D}),r(se,{minWidth:8}),V&&r(G,{name:"checkmark-filled",color:_.positive[500],size:16})]})},readOnly:a,disabled:d,error:S,hideErrors:g,emptyResultText:N,onChange:ee,onValueChange:ie,onSelectItem:t})})},E=({value:e,onChange:t,intervalInMinutes:n=Q,nbMaxSuggestions:s,readOnly:l,disabled:i,error:a,startLabel:d,endLabel:S,noSuggestionLabel:g})=>{const N=u=>{t({start:u,end:e.end})},f=u=>{t({start:e.start,end:u})};return L(P,{children:[L(q,{direction:"row",alignItems:"end",children:[r(M,{label:d,style:k.label,render:()=>r(m,{value:e.start,intervalInMinutes:n,nbMaxSuggestions:s,error:a,hideErrors:!0,disabled:i,readOnly:l,noSuggestionLabel:g,onChangeText:N})}),r(v,{width:12}),r(q,{style:k.arrowContainer,justifyContent:"center",children:r(G,{name:"arrow-right-filled",size:20})}),r(v,{width:12}),r(M,{label:S,style:k.label,render:()=>r(m,{value:e.end,intervalInMinutes:n,nbMaxSuggestions:s,error:a,hideErrors:!0,disabled:i,readOnly:l,noSuggestionLabel:g,onChangeText:f})})]}),r(v,{height:4}),r(Y,{variant:"smallRegular",color:_.negative[500],children:a??" "})]})};try{T.displayName="parseTime",T.__docgenInfo={description:"",displayName:"parseTime",props:{}}}catch{}try{w.displayName="parseTimeRange",w.__docgenInfo={description:"",displayName:"parseTimeRange",props:{start:{defaultValue:null,description:"",name:"start",required:!1,type:{name:"string"}},end:{defaultValue:null,description:"",name:"end",required:!1,type:{name:"string"}}}}}catch{}try{C.displayName="validateTime",C.__docgenInfo={description:"",displayName:"validateTime",props:{hour:{defaultValue:null,description:"",name:"hour",required:!0,type:{name:"number"}},minute:{defaultValue:null,description:"",name:"minute",required:!0,type:{name:"number"}}}}}catch{}try{F.displayName="validateTimeRange",F.__docgenInfo={description:"",displayName:"validateTimeRange",props:{start:{defaultValue:null,description:"",name:"start",required:!0,type:{name:"Option<Time>"}},end:{defaultValue:null,description:"",name:"end",required:!0,type:{name:"Option<Time>"}}}}}catch{}try{m.displayName="TimePicker",m.__docgenInfo={description:"",displayName:"TimePicker",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},onChangeText:{defaultValue:null,description:"",name:"onChangeText",required:!0,type:{name:"(value: string) => void"}},suggestionStart:{defaultValue:{value:"{ hour: 0, minute: 0 }"},description:"",name:"suggestionStart",required:!1,type:{name:"Time"}},suggestionEnd:{defaultValue:{value:"{ hour: 23, minute: 59 }"},description:"",name:"suggestionEnd",required:!1,type:{name:"Time"}},intervalInMinutes:{defaultValue:{value:"15"},description:"",name:"intervalInMinutes",required:!1,type:{name:"number"}},nbMaxSuggestions:{defaultValue:null,description:"",name:"nbMaxSuggestions",required:!1,type:{name:"number"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},hideErrors:{defaultValue:null,description:"",name:"hideErrors",required:!1,type:{name:"boolean"}},noSuggestionLabel:{defaultValue:null,description:"",name:"noSuggestionLabel",required:!0,type:{name:"string"}}}}}catch{}try{E.displayName="TimeRangePicker",E.__docgenInfo={description:"",displayName:"TimeRangePicker",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"{ start?: string | undefined; end?: string | undefined; }"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: { start?: string | undefined; end?: string | undefined; }) => void"}},intervalInMinutes:{defaultValue:{value:"15"},description:"",name:"intervalInMinutes",required:!1,type:{name:"number"}},nbMaxSuggestions:{defaultValue:null,description:"",name:"nbMaxSuggestions",required:!1,type:{name:"number"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},startLabel:{defaultValue:null,description:"",name:"startLabel",required:!0,type:{name:"string"}},endLabel:{defaultValue:null,description:"",name:"endLabel",required:!0,type:{name:"string"}},noSuggestionLabel:{defaultValue:null,description:"",name:"noSuggestionLabel",required:!0,type:{name:"string"}}}}}catch{}const X=W.create({container:{maxWidth:430}}),O=new Date;O.setDate(O.getDate()-15);const A=new Date;A.setDate(A.getDate()+15);const rt={title:"Forms/TimePicker",component:m},he=e=>{const[t,n]=p.useState();return r(m,{...e,value:t,onChangeText:n})},_e=e=>{const[t,n]=p.useState({});return r(E,{...e,value:t,onChange:n})},y=()=>r(J,{title:"TimePicker",children:r(K,{title:"Default",children:r(P,{style:X.container,children:r(he,{noSuggestionLabel:"No time available"})})})}),h=()=>r(J,{title:"TimeRangePicker",children:r(K,{title:"Default",children:r(P,{style:X.container,children:r(_e,{startLabel:"Start",endLabel:"End",noSuggestionLabel:"No time available",intervalInMinutes:15})})})});var B,H,j;y.parameters={...y.parameters,docs:{...(B=y.parameters)==null?void 0:B.docs,source:{originalSource:`() => {
  return <StoryBlock title="TimePicker">
      <StoryPart title="Default">
        <View style={styles.container}>
          <InteractiveTimePicker noSuggestionLabel="No time available" />
        </View>
      </StoryPart>
    </StoryBlock>;
}`,...(j=(H=y.parameters)==null?void 0:H.docs)==null?void 0:j.source}}};var U,$,z;h.parameters={...h.parameters,docs:{...(U=h.parameters)==null?void 0:U.docs,source:{originalSource:`() => {
  return <StoryBlock title="TimeRangePicker">
      <StoryPart title="Default">
        <View style={styles.container}>
          <InteractiveTimeRangePicker startLabel="Start" endLabel="End" noSuggestionLabel="No time available" intervalInMinutes={15} />
        </View>
      </StoryPart>
    </StoryBlock>;
}`,...(z=($=h.parameters)==null?void 0:$.docs)==null?void 0:z.source}}};const nt=["Default","RangePicker"];export{y as Default,h as RangePicker,nt as __namedExportsOrder,rt as default};
//# sourceMappingURL=TimePicker.stories-5ff1b350.js.map
