{"version":3,"file":"TaxIdentificationNumberInput.stories-DTGmDyl4.js","sources":["../../../packages/shared-business/src/utils/templateTranslations.ts","../../../packages/shared-business/src/components/TaxIdentificationNumberInput.tsx"],"sourcesContent":["import { match } from \"ts-pattern\";\nimport { t } from \"./i18n\";\n\nexport type AccountCountry = \"DEU\" | \"ESP\" | \"FRA\" | \"NLD\" | \"ITA\";\n\nexport const getIndividualTaxNumberPlaceholder = (accountCountry: AccountCountry) =>\n  match(accountCountry)\n    .with(\n      \"DEU\",\n      () => `${t(\"common.form.taxIdentificationNumber.placeholder\")} (Steueridentifikationsnummer)`,\n    )\n    .with(\n      \"ESP\",\n      () =>\n        `${t(\"common.form.taxIdentificationNumber.placeholder\")} (Número de Identificación Fiscal)`,\n    )\n    .with(\"ITA\", () => `${t(\"common.form.taxIdentificationNumber.placeholder\")} (Codice fiscale)`)\n    .otherwise(() => t(\"common.form.taxIdentificationNumber.placeholder\"));\n\nexport const getCompanyTaxNumberPlaceholder = (accountCountry: AccountCountry) =>\n  match(accountCountry)\n    .with(\"DEU\", () => `${t(\"common.form.taxIdentificationNumber.placeholder\")} (Steuer-Nummer)`)\n    .with(\n      \"ESP\",\n      () =>\n        `${t(\"common.form.taxIdentificationNumber.placeholder\")} (Número de Identificación Fiscal)`,\n    )\n    .with(\"ITA\", () => `${t(\"common.form.taxIdentificationNumber.placeholder\")} (Codice fiscale)`)\n    .otherwise(() => t(\"common.form.taxIdentificationNumber.placeholder\"));\n\nexport const getTaxNumberTooltip = (accountCountry: AccountCountry) =>\n  match(accountCountry)\n    .with(\"DEU\", () => t(\"common.form.taxIdentificationNumber.tooltip.deu\"))\n    .with(\"ESP\", () => \"Número de Identificación Fiscal\") // no need to translate\n    .with(\"ITA\", () => t(\"common.form.taxIdentificationNumber.tooltip.ita\"))\n    .otherwise(() => undefined);\n\nexport const getCompanyTaxNumberHelp = (accountCountry: AccountCountry) =>\n  match(accountCountry)\n    .with(\"DEU\", () => t(\"common.form.help.nbDigits\", { nbDigits: \"10-11\" }))\n    .with(\"ESP\", () => t(\"common.form.help.nbCharacters\", { nbCharacters: \"9\" }))\n    .with(\"ITA\", () => t(\"common.form.help.nbCharacters\", { nbCharacters: \"16\" }))\n    .otherwise(() => \"\");\n\nexport const getIndividualTaxNumberHelp = (accountCountry: AccountCountry) =>\n  match(accountCountry)\n    .with(\"DEU\", () => t(\"common.form.help.nbDigits\", { nbDigits: \"11\" }))\n    .with(\"ESP\", () => t(\"common.form.help.nbCharacters\", { nbCharacters: \"9\" }))\n    .with(\"ITA\", () => t(\"common.form.help.nbCharacters\", { nbCharacters: \"16\" }))\n    .otherwise(() => \"\");\n","import { Icon } from \"@swan-io/lake/src/components/Icon\";\nimport { LakeLabel } from \"@swan-io/lake/src/components/LakeLabel\";\nimport { LakeTextInput } from \"@swan-io/lake/src/components/LakeTextInput\";\nimport { LakeTooltip } from \"@swan-io/lake/src/components/LakeTooltip\";\nimport { colors } from \"@swan-io/lake/src/constants/design\";\nimport { forwardRef } from \"react\";\nimport { TextInput } from \"react-native\";\nimport { t } from \"../utils/i18n\";\nimport {\n  AccountCountry,\n  getCompanyTaxNumberHelp,\n  getCompanyTaxNumberPlaceholder,\n  getIndividualTaxNumberHelp,\n  getIndividualTaxNumberPlaceholder,\n  getTaxNumberTooltip,\n} from \"../utils/templateTranslations\";\n\ntype Props = {\n  value: string;\n  error: string | undefined;\n  valid: boolean;\n  disabled?: boolean;\n  onChange: (value: string) => void;\n  onBlur?: () => void;\n  accountCountry: AccountCountry;\n  isCompany: boolean;\n  required?: boolean;\n  label?: string;\n};\n\nexport const TaxIdentificationNumberInput = forwardRef<TextInput | null, Props>(\n  (\n    {\n      value,\n      error,\n      valid,\n      disabled,\n      onChange,\n      onBlur,\n      accountCountry,\n      isCompany,\n      required,\n      label = t(\"taxIdentificationNumber.label\"),\n    }: Props,\n    ref,\n  ) => {\n    const tooltipContents = getTaxNumberTooltip(accountCountry);\n    return (\n      <LakeLabel\n        label={label}\n        optionalLabel={required === true ? undefined : t(\"common.optional\")}\n        help={\n          tooltipContents != null ? (\n            <LakeTooltip\n              content={tooltipContents}\n              placement=\"right\"\n              width={accountCountry === \"DEU\" ? 800 : undefined}\n            >\n              <Icon name=\"question-circle-regular\" size={16} color={colors.gray[600]} />\n            </LakeTooltip>\n          ) : null\n        }\n        render={id => (\n          <LakeTextInput\n            id={id}\n            ref={ref}\n            placeholder={\n              isCompany\n                ? getCompanyTaxNumberPlaceholder(accountCountry)\n                : getIndividualTaxNumberPlaceholder(accountCountry)\n            }\n            help={\n              isCompany\n                ? getCompanyTaxNumberHelp(accountCountry)\n                : getIndividualTaxNumberHelp(accountCountry)\n            }\n            value={value}\n            error={error}\n            valid={valid}\n            disabled={disabled}\n            onChangeText={onChange}\n            onBlur={onBlur}\n          />\n        )}\n      />\n    );\n  },\n);\n"],"names":["getIndividualTaxNumberPlaceholder","accountCountry","match","t","getCompanyTaxNumberPlaceholder","getTaxNumberTooltip","getCompanyTaxNumberHelp","getIndividualTaxNumberHelp","TaxIdentificationNumberInput","forwardRef","value","error","valid","disabled","onChange","onBlur","isCompany","required","label","ref","tooltipContents","jsx","LakeLabel","LakeTooltip","Icon","colors","id","LakeTextInput"],"mappings":"2iCAKO,MAAMA,EAAqCC,GAChDC,EAAMD,CAAc,EACjB,KACC,MACA,IAAM,GAAGE,EAAE,iDAAiD,CAAC,gCAC/D,EACC,KACC,MACA,IACE,GAAGA,EAAE,iDAAiD,CAAC,oCAC3D,EACC,KAAK,MAAO,IAAM,GAAGA,EAAE,iDAAiD,CAAC,mBAAmB,EAC5F,UAAU,IAAMA,EAAE,iDAAiD,CAAC,EAE5DC,EAAkCH,GAC7CC,EAAMD,CAAc,EACjB,KAAK,MAAO,IAAM,GAAGE,EAAE,iDAAiD,CAAC,kBAAkB,EAC3F,KACC,MACA,IACE,GAAGA,EAAE,iDAAiD,CAAC,oCAC3D,EACC,KAAK,MAAO,IAAM,GAAGA,EAAE,iDAAiD,CAAC,mBAAmB,EAC5F,UAAU,IAAMA,EAAE,iDAAiD,CAAC,EAE5DE,EAAuBJ,GAClCC,EAAMD,CAAc,EACjB,KAAK,MAAO,IAAME,EAAE,iDAAiD,CAAC,EACtE,KAAK,MAAO,IAAM,iCAAiC,EACnD,KAAK,MAAO,IAAMA,EAAE,iDAAiD,CAAC,EACtE,UAAU,IAAM,EAAS,EAEjBG,EAA2BL,GACtCC,EAAMD,CAAc,EACjB,KAAK,MAAO,IAAME,EAAE,4BAA6B,CAAE,SAAU,OAAA,CAAS,CAAC,EACvE,KAAK,MAAO,IAAMA,EAAE,gCAAiC,CAAE,aAAc,GAAA,CAAK,CAAC,EAC3E,KAAK,MAAO,IAAMA,EAAE,gCAAiC,CAAE,aAAc,IAAM,CAAA,CAAC,EAC5E,UAAU,IAAM,EAAE,EAEVI,EAA8BN,GACzCC,EAAMD,CAAc,EACjB,KAAK,MAAO,IAAME,EAAE,4BAA6B,CAAE,SAAU,IAAM,CAAA,CAAC,EACpE,KAAK,MAAO,IAAMA,EAAE,gCAAiC,CAAE,aAAc,GAAK,CAAA,CAAC,EAC3E,KAAK,MAAO,IAAMA,EAAE,gCAAiC,CAAE,aAAc,IAAK,CAAC,CAAC,EAC5E,UAAU,IAAM,EAAE,ECnBvBK,EAAAC,EAAA,WACA,CACA,CACA,MAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,SAAAC,EACA,OAAAC,EACA,eAAAd,EACA,UAAAe,EACA,SAAAC,EACA,MAAAC,EAAAf,EAAA,+BAAA,GAEAgB,IACA,CACA,MAAAC,EAAAf,EAAAJ,CAAA,EAEA,OAAAoB,EAAA,IAAAC,EAAA,CACA,MAAAJ,EACA,cAAAD,IAAA,GAAA,OAAAd,EAAA,iBAAA,EACA,KACAiB,GAAA,KACAC,EAAA,IAAAE,EAAA,CACA,QAAAH,EACA,UAAA,QACA,MAAAnB,IAAA,MAAA,IAAA,OAEA,SAAAoB,EAAAA,IAAAG,EAAA,CAAA,KAAA,0BAAA,KAAA,GAAA,MAAAC,EAAA,KAAA,GAAA,CAAA,CAAA,CAAA,CAAA,EAEA,KAEA,OACAC,GAAAL,EAAA,IAAAM,EAAA,CACA,GAAAD,EACA,IAAAP,EACA,YACAH,EACAZ,EAAAH,CAAA,EACAD,EAAAC,CAAA,EAEA,KACAe,EACAV,EAAAL,CAAA,EACAM,EAAAN,CAAA,EAEA,MAAAS,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,aAAAC,EACA,OAAAC,CAAA,CACA,CAAA,CAAA,CAIA,CACA;;;;;;;;;;;;;;;;;"}