{"version":3,"file":"Popover-DOZ38EWH.js","sources":["../../../node_modules/react-native-web/dist/exports/Platform/index.js","../../../node_modules/react-native-web/dist/vendor/react-native/deepDiffer/index.js","../../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelperLoose.js","../../../node_modules/react-native-web/dist/exports/RefreshControl/index.js","../../../node_modules/react-native-web/dist/exports/InteractionManager/TaskQueue.js","../../../node_modules/react-native-web/dist/vendor/react-native/vendor/emitter/EventEmitter.js","../../../node_modules/react-native-web/dist/modules/requestIdleCallback/index.js","../../../node_modules/react-native-web/dist/exports/InteractionManager/index.js","../../../node_modules/react-native-web/dist/vendor/react-native/Batchinator/index.js","../../../node_modules/react-native-web/dist/vendor/react-native/Utilities/clamp.js","../../../node_modules/react-native-web/dist/vendor/react-native/infoLog/index.js","../../../node_modules/react-native-web/dist/vendor/react-native/VirtualizedList/CellRenderMask.js","../../../node_modules/react-native-web/dist/vendor/react-native/VirtualizedList/ChildListCollection.js","../../../node_modules/react-native-web/dist/vendor/react-native/FillRateHelper/index.js","../../../node_modules/react-native-web/dist/vendor/react-native/VirtualizedList/StateSafePureComponent.js","../../../node_modules/react-native-web/dist/vendor/react-native/ViewabilityHelper/index.js","../../../node_modules/react-native-web/dist/vendor/react-native/VirtualizedList/VirtualizedListContext.js","../../../node_modules/react-native-web/dist/vendor/react-native/VirtualizedList/VirtualizedListCellRenderer.js","../../../node_modules/react-native-web/dist/vendor/react-native/VirtualizeUtils/index.js","../../../node_modules/nullthrows/nullthrows.js","../../../node_modules/react-native-web/dist/vendor/react-native/VirtualizedList/index.js","../../../node_modules/memoize-one/dist/memoize-one.esm.js","../../../node_modules/react-native-web/dist/vendor/react-native/FlatList/index.js","../../../packages/lake/src/components/Popover.tsx"],"sourcesContent":["/**\n * Copyright (c) Nicolas Gallagher.\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nvar Platform = {\n  OS: 'web',\n  select: obj => 'web' in obj ? obj.web : obj.default,\n  get isTesting() {\n    if (process.env.NODE_ENV === 'test') {\n      return true;\n    }\n    return false;\n  }\n};\nexport default Platform;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n */\n\n'use strict';\n\n/*\n * @returns {bool} true if different, false if equal\n */\nvar deepDiffer = function deepDiffer(one, two, maxDepth) {\n  if (maxDepth === void 0) {\n    maxDepth = -1;\n  }\n  if (maxDepth === 0) {\n    return true;\n  }\n  if (one === two) {\n    // Short circuit on identical object references instead of traversing them.\n    return false;\n  }\n  if (typeof one === 'function' && typeof two === 'function') {\n    // We consider all functions equal\n    return false;\n  }\n  if (typeof one !== 'object' || one === null) {\n    // Primitives can be directly compared\n    return one !== two;\n  }\n  if (typeof two !== 'object' || two === null) {\n    // We know they are different because the previous case would have triggered\n    // otherwise.\n    return true;\n  }\n  if (one.constructor !== two.constructor) {\n    return true;\n  }\n  if (Array.isArray(one)) {\n    // We know two is also an array because the constructors are equal\n    var len = one.length;\n    if (two.length !== len) {\n      return true;\n    }\n    for (var ii = 0; ii < len; ii++) {\n      if (deepDiffer(one[ii], two[ii], maxDepth - 1)) {\n        return true;\n      }\n    }\n  } else {\n    for (var key in one) {\n      if (deepDiffer(one[key], two[key], maxDepth - 1)) {\n        return true;\n      }\n    }\n    for (var twoKey in two) {\n      // The only case we haven't checked yet is keys that are in two but aren't\n      // in one, which means they are different.\n      if (one[twoKey] === undefined && two[twoKey] !== undefined) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\nexport default deepDiffer;","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nexport { _arrayLikeToArray as default };","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nexport { _unsupportedIterableToArray as default };","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nfunction _createForOfIteratorHelperLoose(r, e) {\n  var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (t) return (t = t.call(r)).next.bind(t);\n  if (Array.isArray(r) || (t = unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) {\n    t && (r = t);\n    var o = 0;\n    return function () {\n      return o >= r.length ? {\n        done: !0\n      } : {\n        done: !1,\n        value: r[o++]\n      };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _createForOfIteratorHelperLoose as default };","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nvar _excluded = [\"colors\", \"enabled\", \"onRefresh\", \"progressBackgroundColor\", \"progressViewOffset\", \"refreshing\", \"size\", \"tintColor\", \"title\", \"titleColor\"];\n/**\n * Copyright (c) Nicolas Gallagher.\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nimport View from '../View';\nimport React from 'react';\nfunction RefreshControl(props) {\n  var colors = props.colors,\n    enabled = props.enabled,\n    onRefresh = props.onRefresh,\n    progressBackgroundColor = props.progressBackgroundColor,\n    progressViewOffset = props.progressViewOffset,\n    refreshing = props.refreshing,\n    size = props.size,\n    tintColor = props.tintColor,\n    title = props.title,\n    titleColor = props.titleColor,\n    rest = _objectWithoutPropertiesLoose(props, _excluded);\n  return /*#__PURE__*/React.createElement(View, rest);\n}\nexport default RefreshControl;","import _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\n/**\n * Copyright (c) Nicolas Gallagher.\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nimport invariant from 'fbjs/lib/invariant';\nclass TaskQueue {\n  constructor(_ref) {\n    var onMoreTasks = _ref.onMoreTasks;\n    this._onMoreTasks = onMoreTasks;\n    this._queueStack = [{\n      tasks: [],\n      popable: true\n    }];\n  }\n  enqueue(task) {\n    this._getCurrentQueue().push(task);\n  }\n  enqueueTasks(tasks) {\n    tasks.forEach(task => this.enqueue(task));\n  }\n  cancelTasks(tasksToCancel) {\n    this._queueStack = this._queueStack.map(queue => _objectSpread(_objectSpread({}, queue), {}, {\n      tasks: queue.tasks.filter(task => tasksToCancel.indexOf(task) === -1)\n    })).filter((queue, idx) => queue.tasks.length > 0 || idx === 0);\n  }\n  hasTasksToProcess() {\n    return this._getCurrentQueue().length > 0;\n  }\n\n  /**\n   * Executes the next task in the queue.\n   */\n  processNext() {\n    var queue = this._getCurrentQueue();\n    if (queue.length) {\n      var task = queue.shift();\n      try {\n        if (typeof task === 'object' && task.gen) {\n          this._genPromise(task);\n        } else if (typeof task === 'object' && task.run) {\n          task.run();\n        } else {\n          invariant(typeof task === 'function', 'Expected Function, SimpleTask, or PromiseTask, but got:\\n' + JSON.stringify(task, null, 2));\n          task();\n        }\n      } catch (e) {\n        e.message = 'TaskQueue: Error with task ' + (task.name || '') + ': ' + e.message;\n        throw e;\n      }\n    }\n  }\n  _getCurrentQueue() {\n    var stackIdx = this._queueStack.length - 1;\n    var queue = this._queueStack[stackIdx];\n    if (queue.popable && queue.tasks.length === 0 && stackIdx > 0) {\n      this._queueStack.pop();\n      return this._getCurrentQueue();\n    } else {\n      return queue.tasks;\n    }\n  }\n  _genPromise(task) {\n    var length = this._queueStack.push({\n      tasks: [],\n      popable: false\n    });\n    var stackIdx = length - 1;\n    var stackItem = this._queueStack[stackIdx];\n    task.gen().then(() => {\n      stackItem.popable = true;\n      this.hasTasksToProcess() && this._onMoreTasks();\n    }).catch(ex => {\n      setTimeout(() => {\n        ex.message = \"TaskQueue: Error resolving Promise in task \" + task.name + \": \" + ex.message;\n        throw ex;\n      }, 0);\n    });\n  }\n}\nexport default TaskQueue;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n\n/**\n * EventEmitter manages listeners and publishes events to them.\n *\n * EventEmitter accepts a single type parameter that defines the valid events\n * and associated listener argument(s).\n *\n * @example\n *\n *   const emitter = new EventEmitter<{\n *     success: [number, string],\n *     error: [Error],\n *   }>();\n *\n *   emitter.on('success', (statusCode, responseText) => {...});\n *   emitter.emit('success', 200, '...');\n *\n *   emitter.on('error', error => {...});\n *   emitter.emit('error', new Error('Resource not found'));\n *\n */\nexport default class EventEmitter {\n  constructor() {\n    this._registry = {};\n  }\n  /**\n   * Registers a listener that is called when the supplied event is emitted.\n   * Returns a subscription that has a `remove` method to undo registration.\n   */\n  addListener(eventType, listener, context) {\n    var registrations = allocate(this._registry, eventType);\n    var registration = {\n      context,\n      listener,\n      remove() {\n        registrations.delete(registration);\n      }\n    };\n    registrations.add(registration);\n    return registration;\n  }\n\n  /**\n   * Emits the supplied event. Additional arguments supplied to `emit` will be\n   * passed through to each of the registered listeners.\n   *\n   * If a listener modifies the listeners registered for the same event, those\n   * changes will not be reflected in the current invocation of `emit`.\n   */\n  emit(eventType) {\n    var registrations = this._registry[eventType];\n    if (registrations != null) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      for (var _i = 0, _arr = [...registrations]; _i < _arr.length; _i++) {\n        var registration = _arr[_i];\n        registration.listener.apply(registration.context, args);\n      }\n    }\n  }\n\n  /**\n   * Removes all registered listeners.\n   */\n  removeAllListeners(eventType) {\n    if (eventType == null) {\n      this._registry = {};\n    } else {\n      delete this._registry[eventType];\n    }\n  }\n\n  /**\n   * Returns the number of registered listeners for the supplied event.\n   */\n  listenerCount(eventType) {\n    var registrations = this._registry[eventType];\n    return registrations == null ? 0 : registrations.size;\n  }\n}\nfunction allocate(registry, eventType) {\n  var registrations = registry[eventType];\n  if (registrations == null) {\n    registrations = new Set();\n    registry[eventType] = registrations;\n  }\n  return registrations;\n}","/**\n * Copyright (c) Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nimport canUseDOM from '../canUseDom';\nvar _requestIdleCallback = function _requestIdleCallback(cb, options) {\n  return setTimeout(() => {\n    var start = Date.now();\n    cb({\n      didTimeout: false,\n      timeRemaining() {\n        return Math.max(0, 50 - (Date.now() - start));\n      }\n    });\n  }, 1);\n};\nvar _cancelIdleCallback = function _cancelIdleCallback(id) {\n  clearTimeout(id);\n};\nvar isSupported = canUseDOM && typeof window.requestIdleCallback !== 'undefined';\nvar requestIdleCallback = isSupported ? window.requestIdleCallback : _requestIdleCallback;\nvar cancelIdleCallback = isSupported ? window.cancelIdleCallback : _cancelIdleCallback;\nexport default requestIdleCallback;\nexport { cancelIdleCallback };","/**\n * Copyright (c) Nicolas Gallagher.\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nimport invariant from 'fbjs/lib/invariant';\nimport TaskQueue from './TaskQueue';\nimport EventEmitter from '../../vendor/react-native/vendor/emitter/EventEmitter';\nimport requestIdleCallback from '../../modules/requestIdleCallback';\nvar _emitter = new EventEmitter();\nvar InteractionManager = {\n  Events: {\n    interactionStart: 'interactionStart',\n    interactionComplete: 'interactionComplete'\n  },\n  /**\n   * Schedule a function to run after all interactions have completed.\n   */\n  runAfterInteractions(task) {\n    var tasks = [];\n    var promise = new Promise(resolve => {\n      _scheduleUpdate();\n      if (task) {\n        tasks.push(task);\n      }\n      tasks.push({\n        run: resolve,\n        name: 'resolve ' + (task && task.name || '?')\n      });\n      _taskQueue.enqueueTasks(tasks);\n    });\n    return {\n      then: promise.then.bind(promise),\n      done: promise.then.bind(promise),\n      cancel: () => {\n        _taskQueue.cancelTasks(tasks);\n      }\n    };\n  },\n  /**\n   * Notify manager that an interaction has started.\n   */\n  createInteractionHandle() {\n    _scheduleUpdate();\n    var handle = ++_inc;\n    _addInteractionSet.add(handle);\n    return handle;\n  },\n  /**\n   * Notify manager that an interaction has completed.\n   */\n  clearInteractionHandle(handle) {\n    invariant(!!handle, 'Must provide a handle to clear.');\n    _scheduleUpdate();\n    _addInteractionSet.delete(handle);\n    _deleteInteractionSet.add(handle);\n  },\n  addListener: _emitter.addListener.bind(_emitter),\n  /**\n   *\n   * @param deadline\n   */\n  setDeadline(deadline) {\n    _deadline = deadline;\n  }\n};\nvar _interactionSet = new Set();\nvar _addInteractionSet = new Set();\nvar _deleteInteractionSet = new Set();\nvar _taskQueue = new TaskQueue({\n  onMoreTasks: _scheduleUpdate\n});\nvar _nextUpdateHandle = 0;\nvar _inc = 0;\nvar _deadline = -1;\n\n/**\n * Schedule an asynchronous update to the interaction state.\n */\nfunction _scheduleUpdate() {\n  if (!_nextUpdateHandle) {\n    if (_deadline > 0) {\n      _nextUpdateHandle = setTimeout(_processUpdate);\n    } else {\n      _nextUpdateHandle = requestIdleCallback(_processUpdate);\n    }\n  }\n}\n\n/**\n * Notify listeners, process queue, etc\n */\nfunction _processUpdate() {\n  _nextUpdateHandle = 0;\n  var interactionCount = _interactionSet.size;\n  _addInteractionSet.forEach(handle => _interactionSet.add(handle));\n  _deleteInteractionSet.forEach(handle => _interactionSet.delete(handle));\n  var nextInteractionCount = _interactionSet.size;\n  if (interactionCount !== 0 && nextInteractionCount === 0) {\n    _emitter.emit(InteractionManager.Events.interactionComplete);\n  } else if (interactionCount === 0 && nextInteractionCount !== 0) {\n    _emitter.emit(InteractionManager.Events.interactionStart);\n  }\n  if (nextInteractionCount === 0) {\n    // It seems that we can't know the running time of the current event loop,\n    // we can only calculate the running time of the current task queue.\n    var begin = Date.now();\n    while (_taskQueue.hasTasksToProcess()) {\n      _taskQueue.processNext();\n      if (_deadline > 0 && Date.now() - begin >= _deadline) {\n        _scheduleUpdate();\n        break;\n      }\n    }\n  }\n  _addInteractionSet.clear();\n  _deleteInteractionSet.clear();\n}\nexport default InteractionManager;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n */\n\n'use strict';\n\nimport InteractionManager from '../../../exports/InteractionManager';\n\n/**\n * A simple class for batching up invocations of a low-pri callback. A timeout is set to run the\n * callback once after a delay, no matter how many times it's scheduled. Once the delay is reached,\n * InteractionManager.runAfterInteractions is used to invoke the callback after any hi-pri\n * interactions are done running.\n *\n * Make sure to cleanup with dispose().  Example:\n *\n *   class Widget extends React.Component {\n *     _batchedSave: new Batchinator(() => this._saveState, 1000);\n *     _saveSate() {\n *       // save this.state to disk\n *     }\n *     componentDidUpdate() {\n *       this._batchedSave.schedule();\n *     }\n *     componentWillUnmount() {\n *       this._batchedSave.dispose();\n *     }\n *     ...\n *   }\n */\nclass Batchinator {\n  constructor(callback, delayMS) {\n    this._delay = delayMS;\n    this._callback = callback;\n  }\n  /*\n   * Cleanup any pending tasks.\n   *\n   * By default, if there is a pending task the callback is run immediately. Set the option abort to\n   * true to not call the callback if it was pending.\n   */\n  dispose(options) {\n    if (options === void 0) {\n      options = {\n        abort: false\n      };\n    }\n    if (this._taskHandle) {\n      this._taskHandle.cancel();\n      if (!options.abort) {\n        this._callback();\n      }\n      this._taskHandle = null;\n    }\n  }\n  schedule() {\n    if (this._taskHandle) {\n      return;\n    }\n    var timeoutHandle = setTimeout(() => {\n      this._taskHandle = InteractionManager.runAfterInteractions(() => {\n        // Note that we clear the handle before invoking the callback so that if the callback calls\n        // schedule again, it will actually schedule another task.\n        this._taskHandle = null;\n        this._callback();\n      });\n    }, this._delay);\n    this._taskHandle = {\n      cancel: () => clearTimeout(timeoutHandle)\n    };\n  }\n}\nexport default Batchinator;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n */\n\n'use strict';\n\nfunction clamp(min, value, max) {\n  if (value < min) {\n    return min;\n  }\n  if (value > max) {\n    return max;\n  }\n  return value;\n}\nexport default clamp;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * \n */\n\n'use strict';\n\n/**\n * Intentional info-level logging for clear separation from ad-hoc console debug logging.\n */\nfunction infoLog() {\n  return console.log(...arguments);\n}\nexport default infoLog;","import _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n\nimport invariant from 'fbjs/lib/invariant';\nexport class CellRenderMask {\n  constructor(numCells) {\n    invariant(numCells >= 0, 'CellRenderMask must contain a non-negative number os cells');\n    this._numCells = numCells;\n    if (numCells === 0) {\n      this._regions = [];\n    } else {\n      this._regions = [{\n        first: 0,\n        last: numCells - 1,\n        isSpacer: true\n      }];\n    }\n  }\n  enumerateRegions() {\n    return this._regions;\n  }\n  addCells(cells) {\n    invariant(cells.first >= 0 && cells.first < this._numCells && cells.last >= -1 && cells.last < this._numCells && cells.last >= cells.first - 1, 'CellRenderMask.addCells called with invalid cell range');\n\n    // VirtualizedList uses inclusive ranges, where zero-count states are\n    // possible. E.g. [0, -1] for no cells, starting at 0.\n    if (cells.last < cells.first) {\n      return;\n    }\n    var _this$_findRegion = this._findRegion(cells.first),\n      firstIntersect = _this$_findRegion[0],\n      firstIntersectIdx = _this$_findRegion[1];\n    var _this$_findRegion2 = this._findRegion(cells.last),\n      lastIntersect = _this$_findRegion2[0],\n      lastIntersectIdx = _this$_findRegion2[1];\n\n    // Fast-path if the cells to add are already all present in the mask. We\n    // will otherwise need to do some mutation.\n    if (firstIntersectIdx === lastIntersectIdx && !firstIntersect.isSpacer) {\n      return;\n    }\n\n    // We need to replace the existing covered regions with 1-3 new regions\n    // depending whether we need to split spacers out of overlapping regions.\n    var newLeadRegion = [];\n    var newTailRegion = [];\n    var newMainRegion = _objectSpread(_objectSpread({}, cells), {}, {\n      isSpacer: false\n    });\n    if (firstIntersect.first < newMainRegion.first) {\n      if (firstIntersect.isSpacer) {\n        newLeadRegion.push({\n          first: firstIntersect.first,\n          last: newMainRegion.first - 1,\n          isSpacer: true\n        });\n      } else {\n        newMainRegion.first = firstIntersect.first;\n      }\n    }\n    if (lastIntersect.last > newMainRegion.last) {\n      if (lastIntersect.isSpacer) {\n        newTailRegion.push({\n          first: newMainRegion.last + 1,\n          last: lastIntersect.last,\n          isSpacer: true\n        });\n      } else {\n        newMainRegion.last = lastIntersect.last;\n      }\n    }\n    var replacementRegions = [...newLeadRegion, newMainRegion, ...newTailRegion];\n    var numRegionsToDelete = lastIntersectIdx - firstIntersectIdx + 1;\n    this._regions.splice(firstIntersectIdx, numRegionsToDelete, ...replacementRegions);\n  }\n  numCells() {\n    return this._numCells;\n  }\n  equals(other) {\n    return this._numCells === other._numCells && this._regions.length === other._regions.length && this._regions.every((region, i) => region.first === other._regions[i].first && region.last === other._regions[i].last && region.isSpacer === other._regions[i].isSpacer);\n  }\n  _findRegion(cellIdx) {\n    var firstIdx = 0;\n    var lastIdx = this._regions.length - 1;\n    while (firstIdx <= lastIdx) {\n      var middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n      var middleRegion = this._regions[middleIdx];\n      if (cellIdx >= middleRegion.first && cellIdx <= middleRegion.last) {\n        return [middleRegion, middleIdx];\n      } else if (cellIdx < middleRegion.first) {\n        lastIdx = middleIdx - 1;\n      } else if (cellIdx > middleRegion.last) {\n        firstIdx = middleIdx + 1;\n      }\n    }\n    invariant(false, \"A region was not found containing cellIdx \" + cellIdx);\n  }\n}","import _createForOfIteratorHelperLoose from \"@babel/runtime/helpers/createForOfIteratorHelperLoose\";\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n\nimport invariant from 'fbjs/lib/invariant';\nexport default class ChildListCollection {\n  constructor() {\n    this._cellKeyToChildren = new Map();\n    this._childrenToCellKey = new Map();\n  }\n  add(list, cellKey) {\n    var _this$_cellKeyToChild;\n    invariant(!this._childrenToCellKey.has(list), 'Trying to add already present child list');\n    var cellLists = (_this$_cellKeyToChild = this._cellKeyToChildren.get(cellKey)) !== null && _this$_cellKeyToChild !== void 0 ? _this$_cellKeyToChild : new Set();\n    cellLists.add(list);\n    this._cellKeyToChildren.set(cellKey, cellLists);\n    this._childrenToCellKey.set(list, cellKey);\n  }\n  remove(list) {\n    var cellKey = this._childrenToCellKey.get(list);\n    invariant(cellKey != null, 'Trying to remove non-present child list');\n    this._childrenToCellKey.delete(list);\n    var cellLists = this._cellKeyToChildren.get(cellKey);\n    invariant(cellLists, '_cellKeyToChildren should contain cellKey');\n    cellLists.delete(list);\n    if (cellLists.size === 0) {\n      this._cellKeyToChildren.delete(cellKey);\n    }\n  }\n  forEach(fn) {\n    for (var _iterator = _createForOfIteratorHelperLoose(this._cellKeyToChildren.values()), _step; !(_step = _iterator()).done;) {\n      var listSet = _step.value;\n      for (var _iterator2 = _createForOfIteratorHelperLoose(listSet), _step2; !(_step2 = _iterator2()).done;) {\n        var list = _step2.value;\n        fn(list);\n      }\n    }\n  }\n  forEachInCell(cellKey, fn) {\n    var _this$_cellKeyToChild2;\n    var listSet = (_this$_cellKeyToChild2 = this._cellKeyToChildren.get(cellKey)) !== null && _this$_cellKeyToChild2 !== void 0 ? _this$_cellKeyToChild2 : [];\n    for (var _iterator3 = _createForOfIteratorHelperLoose(listSet), _step3; !(_step3 = _iterator3()).done;) {\n      var list = _step3.value;\n      fn(list);\n    }\n  }\n  anyInCell(cellKey, fn) {\n    var _this$_cellKeyToChild3;\n    var listSet = (_this$_cellKeyToChild3 = this._cellKeyToChildren.get(cellKey)) !== null && _this$_cellKeyToChild3 !== void 0 ? _this$_cellKeyToChild3 : [];\n    for (var _iterator4 = _createForOfIteratorHelperLoose(listSet), _step4; !(_step4 = _iterator4()).done;) {\n      var list = _step4.value;\n      if (fn(list)) {\n        return true;\n      }\n    }\n    return false;\n  }\n  size() {\n    return this._childrenToCellKey.size;\n  }\n}","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n\n'use strict';\n\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nclass Info {\n  constructor() {\n    this.any_blank_count = 0;\n    this.any_blank_ms = 0;\n    this.any_blank_speed_sum = 0;\n    this.mostly_blank_count = 0;\n    this.mostly_blank_ms = 0;\n    this.pixels_blank = 0;\n    this.pixels_sampled = 0;\n    this.pixels_scrolled = 0;\n    this.total_time_spent = 0;\n    this.sample_count = 0;\n  }\n}\nvar DEBUG = false;\nvar _listeners = [];\nvar _minSampleCount = 10;\nvar _sampleRate = DEBUG ? 1 : null;\n\n/**\n * A helper class for detecting when the maximem fill rate of `VirtualizedList` is exceeded.\n * By default the sampling rate is set to zero and this will do nothing. If you want to collect\n * samples (e.g. to log them), make sure to call `FillRateHelper.setSampleRate(0.0-1.0)`.\n *\n * Listeners and sample rate are global for all `VirtualizedList`s - typical usage will combine with\n * `SceneTracker.getActiveScene` to determine the context of the events.\n */\nclass FillRateHelper {\n  static addListener(callback) {\n    if (_sampleRate === null) {\n      console.warn('Call `FillRateHelper.setSampleRate` before `addListener`.');\n    }\n    _listeners.push(callback);\n    return {\n      remove: () => {\n        _listeners = _listeners.filter(listener => callback !== listener);\n      }\n    };\n  }\n  static setSampleRate(sampleRate) {\n    _sampleRate = sampleRate;\n  }\n  static setMinSampleCount(minSampleCount) {\n    _minSampleCount = minSampleCount;\n  }\n  constructor(getFrameMetrics) {\n    this._anyBlankStartTime = null;\n    this._enabled = false;\n    this._info = new Info();\n    this._mostlyBlankStartTime = null;\n    this._samplesStartTime = null;\n    this._getFrameMetrics = getFrameMetrics;\n    this._enabled = (_sampleRate || 0) > Math.random();\n    this._resetData();\n  }\n  activate() {\n    if (this._enabled && this._samplesStartTime == null) {\n      DEBUG && console.debug('FillRateHelper: activate');\n      this._samplesStartTime = global.performance.now();\n    }\n  }\n  deactivateAndFlush() {\n    if (!this._enabled) {\n      return;\n    }\n    var start = this._samplesStartTime; // const for flow\n    if (start == null) {\n      DEBUG && console.debug('FillRateHelper: bail on deactivate with no start time');\n      return;\n    }\n    if (this._info.sample_count < _minSampleCount) {\n      // Don't bother with under-sampled events.\n      this._resetData();\n      return;\n    }\n    var total_time_spent = global.performance.now() - start;\n    var info = _objectSpread(_objectSpread({}, this._info), {}, {\n      total_time_spent\n    });\n    if (DEBUG) {\n      var derived = {\n        avg_blankness: this._info.pixels_blank / this._info.pixels_sampled,\n        avg_speed: this._info.pixels_scrolled / (total_time_spent / 1000),\n        avg_speed_when_any_blank: this._info.any_blank_speed_sum / this._info.any_blank_count,\n        any_blank_per_min: this._info.any_blank_count / (total_time_spent / 1000 / 60),\n        any_blank_time_frac: this._info.any_blank_ms / total_time_spent,\n        mostly_blank_per_min: this._info.mostly_blank_count / (total_time_spent / 1000 / 60),\n        mostly_blank_time_frac: this._info.mostly_blank_ms / total_time_spent\n      };\n      for (var key in derived) {\n        // $FlowFixMe[prop-missing]\n        derived[key] = Math.round(1000 * derived[key]) / 1000;\n      }\n      console.debug('FillRateHelper deactivateAndFlush: ', {\n        derived,\n        info\n      });\n    }\n    _listeners.forEach(listener => listener(info));\n    this._resetData();\n  }\n  computeBlankness(props, cellsAroundViewport, scrollMetrics) {\n    if (!this._enabled || props.getItemCount(props.data) === 0 || cellsAroundViewport.last < cellsAroundViewport.first || this._samplesStartTime == null) {\n      return 0;\n    }\n    var dOffset = scrollMetrics.dOffset,\n      offset = scrollMetrics.offset,\n      velocity = scrollMetrics.velocity,\n      visibleLength = scrollMetrics.visibleLength;\n\n    // Denominator metrics that we track for all events - most of the time there is no blankness and\n    // we want to capture that.\n    this._info.sample_count++;\n    this._info.pixels_sampled += Math.round(visibleLength);\n    this._info.pixels_scrolled += Math.round(Math.abs(dOffset));\n    var scrollSpeed = Math.round(Math.abs(velocity) * 1000); // px / sec\n\n    // Whether blank now or not, record the elapsed time blank if we were blank last time.\n    var now = global.performance.now();\n    if (this._anyBlankStartTime != null) {\n      this._info.any_blank_ms += now - this._anyBlankStartTime;\n    }\n    this._anyBlankStartTime = null;\n    if (this._mostlyBlankStartTime != null) {\n      this._info.mostly_blank_ms += now - this._mostlyBlankStartTime;\n    }\n    this._mostlyBlankStartTime = null;\n    var blankTop = 0;\n    var first = cellsAroundViewport.first;\n    var firstFrame = this._getFrameMetrics(first, props);\n    while (first <= cellsAroundViewport.last && (!firstFrame || !firstFrame.inLayout)) {\n      firstFrame = this._getFrameMetrics(first, props);\n      first++;\n    }\n    // Only count blankTop if we aren't rendering the first item, otherwise we will count the header\n    // as blank.\n    if (firstFrame && first > 0) {\n      blankTop = Math.min(visibleLength, Math.max(0, firstFrame.offset - offset));\n    }\n    var blankBottom = 0;\n    var last = cellsAroundViewport.last;\n    var lastFrame = this._getFrameMetrics(last, props);\n    while (last >= cellsAroundViewport.first && (!lastFrame || !lastFrame.inLayout)) {\n      lastFrame = this._getFrameMetrics(last, props);\n      last--;\n    }\n    // Only count blankBottom if we aren't rendering the last item, otherwise we will count the\n    // footer as blank.\n    if (lastFrame && last < props.getItemCount(props.data) - 1) {\n      var bottomEdge = lastFrame.offset + lastFrame.length;\n      blankBottom = Math.min(visibleLength, Math.max(0, offset + visibleLength - bottomEdge));\n    }\n    var pixels_blank = Math.round(blankTop + blankBottom);\n    var blankness = pixels_blank / visibleLength;\n    if (blankness > 0) {\n      this._anyBlankStartTime = now;\n      this._info.any_blank_speed_sum += scrollSpeed;\n      this._info.any_blank_count++;\n      this._info.pixels_blank += pixels_blank;\n      if (blankness > 0.5) {\n        this._mostlyBlankStartTime = now;\n        this._info.mostly_blank_count++;\n      }\n    } else if (scrollSpeed < 0.01 || Math.abs(dOffset) < 1) {\n      this.deactivateAndFlush();\n    }\n    return blankness;\n  }\n  enabled() {\n    return this._enabled;\n  }\n  _resetData() {\n    this._anyBlankStartTime = null;\n    this._info = new Info();\n    this._mostlyBlankStartTime = null;\n    this._samplesStartTime = null;\n  }\n}\nexport default FillRateHelper;","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n\nimport invariant from 'fbjs/lib/invariant';\nimport * as React from 'react';\n\n/**\n * `setState` is called asynchronously, and should not rely on the value of\n * `this.props` or `this.state`:\n * https://reactjs.org/docs/state-and-lifecycle.html#state-updates-may-be-asynchronous\n *\n * SafePureComponent adds runtime enforcement, to catch cases where these\n * variables are read in a state updater function, instead of the ones passed\n * in.\n */\nexport default class StateSafePureComponent extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this._inAsyncStateUpdate = false;\n    this._installSetStateHooks();\n  }\n  setState(partialState, callback) {\n    if (typeof partialState === 'function') {\n      super.setState((state, props) => {\n        this._inAsyncStateUpdate = true;\n        var ret;\n        try {\n          ret = partialState(state, props);\n        } catch (err) {\n          throw err;\n        } finally {\n          this._inAsyncStateUpdate = false;\n        }\n        return ret;\n      }, callback);\n    } else {\n      super.setState(partialState, callback);\n    }\n  }\n  _installSetStateHooks() {\n    var that = this;\n    var props = this.props,\n      state = this.state;\n    Object.defineProperty(this, 'props', {\n      get() {\n        invariant(!that._inAsyncStateUpdate, '\"this.props\" should not be accessed during state updates');\n        return props;\n      },\n      set(newProps) {\n        props = newProps;\n      }\n    });\n    Object.defineProperty(this, 'state', {\n      get() {\n        invariant(!that._inAsyncStateUpdate, '\"this.state\" should not be acceessed during state updates');\n        return state;\n      },\n      set(newState) {\n        state = newState;\n      }\n    });\n  }\n}","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n\n'use strict';\n\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport _createForOfIteratorHelperLoose from \"@babel/runtime/helpers/createForOfIteratorHelperLoose\";\nimport invariant from 'fbjs/lib/invariant';\n/**\n * A Utility class for calculating viewable items based on current metrics like scroll position and\n * layout.\n *\n * An item is said to be in a \"viewable\" state when any of the following\n * is true for longer than `minimumViewTime` milliseconds (after an interaction if `waitForInteraction`\n * is true):\n *\n * - Occupying >= `viewAreaCoveragePercentThreshold` of the view area XOR fraction of the item\n *   visible in the view area >= `itemVisiblePercentThreshold`.\n * - Entirely visible on screen\n */\nclass ViewabilityHelper {\n  constructor(config) {\n    if (config === void 0) {\n      config = {\n        viewAreaCoveragePercentThreshold: 0\n      };\n    }\n    this._hasInteracted = false;\n    this._timers = new Set();\n    this._viewableIndices = [];\n    this._viewableItems = new Map();\n    this._config = config;\n  }\n\n  /**\n   * Cleanup, e.g. on unmount. Clears any pending timers.\n   */\n  dispose() {\n    /* $FlowFixMe[incompatible-call] (>=0.63.0 site=react_native_fb) This\n     * comment suppresses an error found when Flow v0.63 was deployed. To see\n     * the error delete this comment and run Flow. */\n    this._timers.forEach(clearTimeout);\n  }\n\n  /**\n   * Determines which items are viewable based on the current metrics and config.\n   */\n  computeViewableItems(props, scrollOffset, viewportHeight, getFrameMetrics,\n  // Optional optimization to reduce the scan size\n  renderRange) {\n    var itemCount = props.getItemCount(props.data);\n    var _this$_config = this._config,\n      itemVisiblePercentThreshold = _this$_config.itemVisiblePercentThreshold,\n      viewAreaCoveragePercentThreshold = _this$_config.viewAreaCoveragePercentThreshold;\n    var viewAreaMode = viewAreaCoveragePercentThreshold != null;\n    var viewablePercentThreshold = viewAreaMode ? viewAreaCoveragePercentThreshold : itemVisiblePercentThreshold;\n    invariant(viewablePercentThreshold != null && itemVisiblePercentThreshold != null !== (viewAreaCoveragePercentThreshold != null), 'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');\n    var viewableIndices = [];\n    if (itemCount === 0) {\n      return viewableIndices;\n    }\n    var firstVisible = -1;\n    var _ref = renderRange || {\n        first: 0,\n        last: itemCount - 1\n      },\n      first = _ref.first,\n      last = _ref.last;\n    if (last >= itemCount) {\n      console.warn('Invalid render range computing viewability ' + JSON.stringify({\n        renderRange,\n        itemCount\n      }));\n      return [];\n    }\n    for (var idx = first; idx <= last; idx++) {\n      var metrics = getFrameMetrics(idx, props);\n      if (!metrics) {\n        continue;\n      }\n      var top = metrics.offset - scrollOffset;\n      var bottom = top + metrics.length;\n      if (top < viewportHeight && bottom > 0) {\n        firstVisible = idx;\n        if (_isViewable(viewAreaMode, viewablePercentThreshold, top, bottom, viewportHeight, metrics.length)) {\n          viewableIndices.push(idx);\n        }\n      } else if (firstVisible >= 0) {\n        break;\n      }\n    }\n    return viewableIndices;\n  }\n\n  /**\n   * Figures out which items are viewable and how that has changed from before and calls\n   * `onViewableItemsChanged` as appropriate.\n   */\n  onUpdate(props, scrollOffset, viewportHeight, getFrameMetrics, createViewToken, onViewableItemsChanged,\n  // Optional optimization to reduce the scan size\n  renderRange) {\n    var itemCount = props.getItemCount(props.data);\n    if (this._config.waitForInteraction && !this._hasInteracted || itemCount === 0 || !getFrameMetrics(0, props)) {\n      return;\n    }\n    var viewableIndices = [];\n    if (itemCount) {\n      viewableIndices = this.computeViewableItems(props, scrollOffset, viewportHeight, getFrameMetrics, renderRange);\n    }\n    if (this._viewableIndices.length === viewableIndices.length && this._viewableIndices.every((v, ii) => v === viewableIndices[ii])) {\n      // We might get a lot of scroll events where visibility doesn't change and we don't want to do\n      // extra work in those cases.\n      return;\n    }\n    this._viewableIndices = viewableIndices;\n    if (this._config.minimumViewTime) {\n      var handle = setTimeout(() => {\n        /* $FlowFixMe[incompatible-call] (>=0.63.0 site=react_native_fb) This\n         * comment suppresses an error found when Flow v0.63 was deployed. To\n         * see the error delete this comment and run Flow. */\n        this._timers.delete(handle);\n        this._onUpdateSync(props, viewableIndices, onViewableItemsChanged, createViewToken);\n      }, this._config.minimumViewTime);\n      /* $FlowFixMe[incompatible-call] (>=0.63.0 site=react_native_fb) This\n       * comment suppresses an error found when Flow v0.63 was deployed. To see\n       * the error delete this comment and run Flow. */\n      this._timers.add(handle);\n    } else {\n      this._onUpdateSync(props, viewableIndices, onViewableItemsChanged, createViewToken);\n    }\n  }\n\n  /**\n   * clean-up cached _viewableIndices to evaluate changed items on next update\n   */\n  resetViewableIndices() {\n    this._viewableIndices = [];\n  }\n\n  /**\n   * Records that an interaction has happened even if there has been no scroll.\n   */\n  recordInteraction() {\n    this._hasInteracted = true;\n  }\n  _onUpdateSync(props, viewableIndicesToCheck, onViewableItemsChanged, createViewToken) {\n    // Filter out indices that have gone out of view since this call was scheduled.\n    viewableIndicesToCheck = viewableIndicesToCheck.filter(ii => this._viewableIndices.includes(ii));\n    var prevItems = this._viewableItems;\n    var nextItems = new Map(viewableIndicesToCheck.map(ii => {\n      var viewable = createViewToken(ii, true, props);\n      return [viewable.key, viewable];\n    }));\n    var changed = [];\n    for (var _iterator = _createForOfIteratorHelperLoose(nextItems), _step; !(_step = _iterator()).done;) {\n      var _step$value = _step.value,\n        key = _step$value[0],\n        viewable = _step$value[1];\n      if (!prevItems.has(key)) {\n        changed.push(viewable);\n      }\n    }\n    for (var _iterator2 = _createForOfIteratorHelperLoose(prevItems), _step2; !(_step2 = _iterator2()).done;) {\n      var _step2$value = _step2.value,\n        _key = _step2$value[0],\n        _viewable = _step2$value[1];\n      if (!nextItems.has(_key)) {\n        changed.push(_objectSpread(_objectSpread({}, _viewable), {}, {\n          isViewable: false\n        }));\n      }\n    }\n    if (changed.length > 0) {\n      this._viewableItems = nextItems;\n      onViewableItemsChanged({\n        viewableItems: Array.from(nextItems.values()),\n        changed,\n        viewabilityConfig: this._config\n      });\n    }\n  }\n}\nfunction _isViewable(viewAreaMode, viewablePercentThreshold, top, bottom, viewportHeight, itemLength) {\n  if (_isEntirelyVisible(top, bottom, viewportHeight)) {\n    return true;\n  } else {\n    var pixels = _getPixelsVisible(top, bottom, viewportHeight);\n    var percent = 100 * (viewAreaMode ? pixels / viewportHeight : pixels / itemLength);\n    return percent >= viewablePercentThreshold;\n  }\n}\nfunction _getPixelsVisible(top, bottom, viewportHeight) {\n  var visibleHeight = Math.min(bottom, viewportHeight) - Math.max(top, 0);\n  return Math.max(0, visibleHeight);\n}\nfunction _isEntirelyVisible(top, bottom, viewportHeight) {\n  return top >= 0 && bottom <= viewportHeight && bottom > top;\n}\nexport default ViewabilityHelper;","import _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n\nimport * as React from 'react';\nimport { useContext, useMemo } from 'react';\nvar __DEV__ = process.env.NODE_ENV !== 'production';\nexport var VirtualizedListContext = /*#__PURE__*/React.createContext(null);\nif (__DEV__) {\n  VirtualizedListContext.displayName = 'VirtualizedListContext';\n}\n\n/**\n * Resets the context. Intended for use by portal-like components (e.g. Modal).\n */\nexport function VirtualizedListContextResetter(_ref) {\n  var children = _ref.children;\n  return /*#__PURE__*/React.createElement(VirtualizedListContext.Provider, {\n    value: null\n  }, children);\n}\n\n/**\n * Sets the context with memoization. Intended to be used by `VirtualizedList`.\n */\nexport function VirtualizedListContextProvider(_ref2) {\n  var children = _ref2.children,\n    value = _ref2.value;\n  // Avoid setting a newly created context object if the values are identical.\n  var context = useMemo(() => ({\n    cellKey: null,\n    getScrollMetrics: value.getScrollMetrics,\n    horizontal: value.horizontal,\n    getOutermostParentListRef: value.getOutermostParentListRef,\n    registerAsNestedChild: value.registerAsNestedChild,\n    unregisterAsNestedChild: value.unregisterAsNestedChild\n  }), [value.getScrollMetrics, value.horizontal, value.getOutermostParentListRef, value.registerAsNestedChild, value.unregisterAsNestedChild]);\n  return /*#__PURE__*/React.createElement(VirtualizedListContext.Provider, {\n    value: context\n  }, children);\n}\n\n/**\n * Sets the `cellKey`. Intended to be used by `VirtualizedList` for each cell.\n */\nexport function VirtualizedListCellContextProvider(_ref3) {\n  var cellKey = _ref3.cellKey,\n    children = _ref3.children;\n  // Avoid setting a newly created context object if the values are identical.\n  var currContext = useContext(VirtualizedListContext);\n  var context = useMemo(() => currContext == null ? null : _objectSpread(_objectSpread({}, currContext), {}, {\n    cellKey\n  }), [currContext, cellKey]);\n  return /*#__PURE__*/React.createElement(VirtualizedListContext.Provider, {\n    value: context\n  }, children);\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n\nimport View from '../../../exports/View';\nimport StyleSheet from '../../../exports/StyleSheet';\nimport { VirtualizedListCellContextProvider } from './VirtualizedListContext.js';\nimport invariant from 'fbjs/lib/invariant';\nimport * as React from 'react';\nexport default class CellRenderer extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      separatorProps: {\n        highlighted: false,\n        leadingItem: this.props.item\n      }\n    };\n    this._separators = {\n      highlight: () => {\n        var _this$props = this.props,\n          cellKey = _this$props.cellKey,\n          prevCellKey = _this$props.prevCellKey;\n        this.props.onUpdateSeparators([cellKey, prevCellKey], {\n          highlighted: true\n        });\n      },\n      unhighlight: () => {\n        var _this$props2 = this.props,\n          cellKey = _this$props2.cellKey,\n          prevCellKey = _this$props2.prevCellKey;\n        this.props.onUpdateSeparators([cellKey, prevCellKey], {\n          highlighted: false\n        });\n      },\n      updateProps: (select, newProps) => {\n        var _this$props3 = this.props,\n          cellKey = _this$props3.cellKey,\n          prevCellKey = _this$props3.prevCellKey;\n        this.props.onUpdateSeparators([select === 'leading' ? prevCellKey : cellKey], newProps);\n      }\n    };\n    this._onLayout = nativeEvent => {\n      this.props.onCellLayout && this.props.onCellLayout(nativeEvent, this.props.cellKey, this.props.index);\n    };\n  }\n  static getDerivedStateFromProps(props, prevState) {\n    return {\n      separatorProps: _objectSpread(_objectSpread({}, prevState.separatorProps), {}, {\n        leadingItem: props.item\n      })\n    };\n  }\n\n  // TODO: consider factoring separator stuff out of VirtualizedList into FlatList since it's not\n  // reused by SectionList and we can keep VirtualizedList simpler.\n  // $FlowFixMe[missing-local-annot]\n  updateSeparatorProps(newProps) {\n    this.setState(state => ({\n      separatorProps: _objectSpread(_objectSpread({}, state.separatorProps), newProps)\n    }));\n  }\n  componentWillUnmount() {\n    this.props.onUnmount(this.props.cellKey);\n  }\n  _renderElement(renderItem, ListItemComponent, item, index) {\n    if (renderItem && ListItemComponent) {\n      console.warn('VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take' + ' precedence over renderItem.');\n    }\n    if (ListItemComponent) {\n      /* $FlowFixMe[not-a-component] (>=0.108.0 site=react_native_fb) This\n       * comment suppresses an error found when Flow v0.108 was deployed. To\n       * see the error, delete this comment and run Flow. */\n      /* $FlowFixMe[incompatible-type-arg] (>=0.108.0 site=react_native_fb)\n       * This comment suppresses an error found when Flow v0.108 was deployed.\n       * To see the error, delete this comment and run Flow. */\n      return /*#__PURE__*/React.createElement(ListItemComponent, {\n        item,\n        index,\n        separators: this._separators\n      });\n    }\n    if (renderItem) {\n      return renderItem({\n        item,\n        index,\n        separators: this._separators\n      });\n    }\n    invariant(false, 'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.');\n  }\n  render() {\n    var _this$props4 = this.props,\n      CellRendererComponent = _this$props4.CellRendererComponent,\n      ItemSeparatorComponent = _this$props4.ItemSeparatorComponent,\n      ListItemComponent = _this$props4.ListItemComponent,\n      cellKey = _this$props4.cellKey,\n      horizontal = _this$props4.horizontal,\n      item = _this$props4.item,\n      index = _this$props4.index,\n      inversionStyle = _this$props4.inversionStyle,\n      onCellFocusCapture = _this$props4.onCellFocusCapture,\n      onCellLayout = _this$props4.onCellLayout,\n      renderItem = _this$props4.renderItem;\n    var element = this._renderElement(renderItem, ListItemComponent, item, index);\n\n    // NOTE: that when this is a sticky header, `onLayout` will get automatically extracted and\n    // called explicitly by `ScrollViewStickyHeader`.\n    var itemSeparator = /*#__PURE__*/React.isValidElement(ItemSeparatorComponent) ?\n    // $FlowFixMe[incompatible-type]\n    ItemSeparatorComponent :\n    // $FlowFixMe[incompatible-type]\n    ItemSeparatorComponent && /*#__PURE__*/React.createElement(ItemSeparatorComponent, this.state.separatorProps);\n    var cellStyle = inversionStyle ? horizontal ? [styles.rowReverse, inversionStyle] : [styles.columnReverse, inversionStyle] : horizontal ? [styles.row, inversionStyle] : inversionStyle;\n    var result = !CellRendererComponent ? /*#__PURE__*/React.createElement(View, _extends({\n      style: cellStyle,\n      onFocusCapture: onCellFocusCapture\n    }, onCellLayout && {\n      onLayout: this._onLayout\n    }), element, itemSeparator) : /*#__PURE__*/React.createElement(CellRendererComponent, _extends({\n      cellKey: cellKey,\n      index: index,\n      item: item,\n      style: cellStyle,\n      onFocusCapture: onCellFocusCapture\n    }, onCellLayout && {\n      onLayout: this._onLayout\n    }), element, itemSeparator);\n    return /*#__PURE__*/React.createElement(VirtualizedListCellContextProvider, {\n      cellKey: this.props.cellKey\n    }, result);\n  }\n}\nvar styles = StyleSheet.create({\n  row: {\n    flexDirection: 'row'\n  },\n  rowReverse: {\n    flexDirection: 'row-reverse'\n  },\n  columnReverse: {\n    flexDirection: 'column-reverse'\n  }\n});","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n\n'use strict';\n\n/**\n * Used to find the indices of the frames that overlap the given offsets. Useful for finding the\n * items that bound different windows of content, such as the visible area or the buffered overscan\n * area.\n */\nexport function elementsThatOverlapOffsets(offsets, props, getFrameMetrics, zoomScale) {\n  if (zoomScale === void 0) {\n    zoomScale = 1;\n  }\n  var itemCount = props.getItemCount(props.data);\n  var result = [];\n  for (var offsetIndex = 0; offsetIndex < offsets.length; offsetIndex++) {\n    var currentOffset = offsets[offsetIndex];\n    var left = 0;\n    var right = itemCount - 1;\n    while (left <= right) {\n      // eslint-disable-next-line no-bitwise\n      var mid = left + (right - left >>> 1);\n      var frame = getFrameMetrics(mid, props);\n      var scaledOffsetStart = frame.offset * zoomScale;\n      var scaledOffsetEnd = (frame.offset + frame.length) * zoomScale;\n\n      // We want the first frame that contains the offset, with inclusive bounds. Thus, for the\n      // first frame the scaledOffsetStart is inclusive, while for other frames it is exclusive.\n      if (mid === 0 && currentOffset < scaledOffsetStart || mid !== 0 && currentOffset <= scaledOffsetStart) {\n        right = mid - 1;\n      } else if (currentOffset > scaledOffsetEnd) {\n        left = mid + 1;\n      } else {\n        result[offsetIndex] = mid;\n        break;\n      }\n    }\n  }\n  return result;\n}\n\n/**\n * Computes the number of elements in the `next` range that are new compared to the `prev` range.\n * Handy for calculating how many new items will be rendered when the render window changes so we\n * can restrict the number of new items render at once so that content can appear on the screen\n * faster.\n */\nexport function newRangeCount(prev, next) {\n  return next.last - next.first + 1 - Math.max(0, 1 + Math.min(next.last, prev.last) - Math.max(next.first, prev.first));\n}\n\n/**\n * Custom logic for determining which items should be rendered given the current frame and scroll\n * metrics, as well as the previous render state. The algorithm may evolve over time, but generally\n * prioritizes the visible area first, then expands that with overscan regions ahead and behind,\n * biased in the direction of scroll.\n */\nexport function computeWindowedRenderLimits(props, maxToRenderPerBatch, windowSize, prev, getFrameMetricsApprox, scrollMetrics) {\n  var itemCount = props.getItemCount(props.data);\n  if (itemCount === 0) {\n    return {\n      first: 0,\n      last: -1\n    };\n  }\n  var offset = scrollMetrics.offset,\n    velocity = scrollMetrics.velocity,\n    visibleLength = scrollMetrics.visibleLength,\n    _scrollMetrics$zoomSc = scrollMetrics.zoomScale,\n    zoomScale = _scrollMetrics$zoomSc === void 0 ? 1 : _scrollMetrics$zoomSc;\n\n  // Start with visible area, then compute maximum overscan region by expanding from there, biased\n  // in the direction of scroll. Total overscan area is capped, which should cap memory consumption\n  // too.\n  var visibleBegin = Math.max(0, offset);\n  var visibleEnd = visibleBegin + visibleLength;\n  var overscanLength = (windowSize - 1) * visibleLength;\n\n  // Considering velocity seems to introduce more churn than it's worth.\n  var leadFactor = 0.5; // Math.max(0, Math.min(1, velocity / 25 + 0.5));\n\n  var fillPreference = velocity > 1 ? 'after' : velocity < -1 ? 'before' : 'none';\n  var overscanBegin = Math.max(0, visibleBegin - (1 - leadFactor) * overscanLength);\n  var overscanEnd = Math.max(0, visibleEnd + leadFactor * overscanLength);\n  var lastItemOffset = getFrameMetricsApprox(itemCount - 1, props).offset * zoomScale;\n  if (lastItemOffset < overscanBegin) {\n    // Entire list is before our overscan window\n    return {\n      first: Math.max(0, itemCount - 1 - maxToRenderPerBatch),\n      last: itemCount - 1\n    };\n  }\n\n  // Find the indices that correspond to the items at the render boundaries we're targeting.\n  var _elementsThatOverlapO = elementsThatOverlapOffsets([overscanBegin, visibleBegin, visibleEnd, overscanEnd], props, getFrameMetricsApprox, zoomScale),\n    overscanFirst = _elementsThatOverlapO[0],\n    first = _elementsThatOverlapO[1],\n    last = _elementsThatOverlapO[2],\n    overscanLast = _elementsThatOverlapO[3];\n  overscanFirst = overscanFirst == null ? 0 : overscanFirst;\n  first = first == null ? Math.max(0, overscanFirst) : first;\n  overscanLast = overscanLast == null ? itemCount - 1 : overscanLast;\n  last = last == null ? Math.min(overscanLast, first + maxToRenderPerBatch - 1) : last;\n  var visible = {\n    first,\n    last\n  };\n\n  // We want to limit the number of new cells we're rendering per batch so that we can fill the\n  // content on the screen quickly. If we rendered the entire overscan window at once, the user\n  // could be staring at white space for a long time waiting for a bunch of offscreen content to\n  // render.\n  var newCellCount = newRangeCount(prev, visible);\n  while (true) {\n    if (first <= overscanFirst && last >= overscanLast) {\n      // If we fill the entire overscan range, we're done.\n      break;\n    }\n    var maxNewCells = newCellCount >= maxToRenderPerBatch;\n    var firstWillAddMore = first <= prev.first || first > prev.last;\n    var firstShouldIncrement = first > overscanFirst && (!maxNewCells || !firstWillAddMore);\n    var lastWillAddMore = last >= prev.last || last < prev.first;\n    var lastShouldIncrement = last < overscanLast && (!maxNewCells || !lastWillAddMore);\n    if (maxNewCells && !firstShouldIncrement && !lastShouldIncrement) {\n      // We only want to stop if we've hit maxNewCells AND we cannot increment first or last\n      // without rendering new items. This let's us preserve as many already rendered items as\n      // possible, reducing render churn and keeping the rendered overscan range as large as\n      // possible.\n      break;\n    }\n    if (firstShouldIncrement && !(fillPreference === 'after' && lastShouldIncrement && lastWillAddMore)) {\n      if (firstWillAddMore) {\n        newCellCount++;\n      }\n      first--;\n    }\n    if (lastShouldIncrement && !(fillPreference === 'before' && firstShouldIncrement && firstWillAddMore)) {\n      if (lastWillAddMore) {\n        newCellCount++;\n      }\n      last++;\n    }\n  }\n  if (!(last >= first && first >= 0 && last < itemCount && first >= overscanFirst && last <= overscanLast && first <= visible.first && last >= visible.last)) {\n    throw new Error('Bad window calculation ' + JSON.stringify({\n      first,\n      last,\n      itemCount,\n      overscanFirst,\n      overscanLast,\n      visible\n    }));\n  }\n  return {\n    first,\n    last\n  };\n}\nexport function keyExtractor(item, index) {\n  if (typeof item === 'object' && (item == null ? void 0 : item.key) != null) {\n    return item.key;\n  }\n  if (typeof item === 'object' && (item == null ? void 0 : item.id) != null) {\n    return item.id;\n  }\n  return String(index);\n}","'use strict';\n\nfunction nullthrows(x, message) {\n  if (x != null) {\n    return x;\n  }\n  var error = new Error(message !== undefined ? message : 'Got unexpected ' + x);\n  error.framesToPop = 1; // Skip nullthrows's own stack frame.\n  throw error;\n}\n\nmodule.exports = nullthrows;\nmodule.exports.default = nullthrows;\n\nObject.defineProperty(module.exports, '__esModule', {value: true});\n","import _createForOfIteratorHelperLoose from \"@babel/runtime/helpers/createForOfIteratorHelperLoose\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n\nimport RefreshControl from '../../../exports/RefreshControl';\nimport ScrollView from '../../../exports/ScrollView';\nimport View from '../../../exports/View';\nimport StyleSheet from '../../../exports/StyleSheet';\nimport findNodeHandle from '../../../exports/findNodeHandle';\nimport Batchinator from '../Batchinator';\nimport clamp from '../Utilities/clamp';\nimport infoLog from '../infoLog';\nimport { CellRenderMask } from './CellRenderMask';\nimport ChildListCollection from './ChildListCollection';\nimport FillRateHelper from '../FillRateHelper';\nimport StateSafePureComponent from './StateSafePureComponent';\nimport ViewabilityHelper from '../ViewabilityHelper';\nimport CellRenderer from './VirtualizedListCellRenderer';\nimport { VirtualizedListCellContextProvider, VirtualizedListContext, VirtualizedListContextProvider } from './VirtualizedListContext.js';\nimport { computeWindowedRenderLimits, keyExtractor as defaultKeyExtractor } from '../VirtualizeUtils';\nimport invariant from 'fbjs/lib/invariant';\nimport nullthrows from 'nullthrows';\nimport * as React from 'react';\nvar __DEV__ = process.env.NODE_ENV !== 'production';\nvar ON_EDGE_REACHED_EPSILON = 0.001;\nvar _usedIndexForKey = false;\nvar _keylessItemComponentName = '';\n/**\n * Default Props Helper Functions\n * Use the following helper functions for default values\n */ // horizontalOrDefault(this.props.horizontal)\nfunction horizontalOrDefault(horizontal) {\n  return horizontal !== null && horizontal !== void 0 ? horizontal : false;\n}\n\n// initialNumToRenderOrDefault(this.props.initialNumToRender)\nfunction initialNumToRenderOrDefault(initialNumToRender) {\n  return initialNumToRender !== null && initialNumToRender !== void 0 ? initialNumToRender : 10;\n}\n\n// maxToRenderPerBatchOrDefault(this.props.maxToRenderPerBatch)\nfunction maxToRenderPerBatchOrDefault(maxToRenderPerBatch) {\n  return maxToRenderPerBatch !== null && maxToRenderPerBatch !== void 0 ? maxToRenderPerBatch : 10;\n}\n\n// onStartReachedThresholdOrDefault(this.props.onStartReachedThreshold)\nfunction onStartReachedThresholdOrDefault(onStartReachedThreshold) {\n  return onStartReachedThreshold !== null && onStartReachedThreshold !== void 0 ? onStartReachedThreshold : 2;\n}\n\n// onEndReachedThresholdOrDefault(this.props.onEndReachedThreshold)\nfunction onEndReachedThresholdOrDefault(onEndReachedThreshold) {\n  return onEndReachedThreshold !== null && onEndReachedThreshold !== void 0 ? onEndReachedThreshold : 2;\n}\n\n// getScrollingThreshold(visibleLength, onEndReachedThreshold)\nfunction getScrollingThreshold(threshold, visibleLength) {\n  return threshold * visibleLength / 2;\n}\n\n// scrollEventThrottleOrDefault(this.props.scrollEventThrottle)\nfunction scrollEventThrottleOrDefault(scrollEventThrottle) {\n  return scrollEventThrottle !== null && scrollEventThrottle !== void 0 ? scrollEventThrottle : 50;\n}\n\n// windowSizeOrDefault(this.props.windowSize)\nfunction windowSizeOrDefault(windowSize) {\n  return windowSize !== null && windowSize !== void 0 ? windowSize : 21;\n}\nfunction findLastWhere(arr, predicate) {\n  for (var i = arr.length - 1; i >= 0; i--) {\n    if (predicate(arr[i])) {\n      return arr[i];\n    }\n  }\n  return null;\n}\n\n/**\n * Base implementation for the more convenient [`<FlatList>`](https://reactnative.dev/docs/flatlist)\n * and [`<SectionList>`](https://reactnative.dev/docs/sectionlist) components, which are also better\n * documented. In general, this should only really be used if you need more flexibility than\n * `FlatList` provides, e.g. for use with immutable data instead of plain arrays.\n *\n * Virtualization massively improves memory consumption and performance of large lists by\n * maintaining a finite render window of active items and replacing all items outside of the render\n * window with appropriately sized blank space. The window adapts to scrolling behavior, and items\n * are rendered incrementally with low-pri (after any running interactions) if they are far from the\n * visible area, or with hi-pri otherwise to minimize the potential of seeing blank space.\n *\n * Some caveats:\n *\n * - Internal state is not preserved when content scrolls out of the render window. Make sure all\n *   your data is captured in the item data or external stores like Flux, Redux, or Relay.\n * - This is a `PureComponent` which means that it will not re-render if `props` remain shallow-\n *   equal. Make sure that everything your `renderItem` function depends on is passed as a prop\n *   (e.g. `extraData`) that is not `===` after updates, otherwise your UI may not update on\n *   changes. This includes the `data` prop and parent component state.\n * - In order to constrain memory and enable smooth scrolling, content is rendered asynchronously\n *   offscreen. This means it's possible to scroll faster than the fill rate ands momentarily see\n *   blank content. This is a tradeoff that can be adjusted to suit the needs of each application,\n *   and we are working on improving it behind the scenes.\n * - By default, the list looks for a `key` or `id` prop on each item and uses that for the React key.\n *   Alternatively, you can provide a custom `keyExtractor` prop.\n * - As an effort to remove defaultProps, use helper functions when referencing certain props\n *\n */\nclass VirtualizedList extends StateSafePureComponent {\n  // scrollToEnd may be janky without getItemLayout prop\n  scrollToEnd(params) {\n    var animated = params ? params.animated : true;\n    var veryLast = this.props.getItemCount(this.props.data) - 1;\n    if (veryLast < 0) {\n      return;\n    }\n    var frame = this.__getFrameMetricsApprox(veryLast, this.props);\n    var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);\n    if (this._scrollRef == null) {\n      return;\n    }\n    if (this._scrollRef.scrollTo == null) {\n      console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');\n      return;\n    }\n    this._scrollRef.scrollTo(horizontalOrDefault(this.props.horizontal) ? {\n      x: offset,\n      animated\n    } : {\n      y: offset,\n      animated\n    });\n  }\n\n  // scrollToIndex may be janky without getItemLayout prop\n  scrollToIndex(params) {\n    var _this$props = this.props,\n      data = _this$props.data,\n      horizontal = _this$props.horizontal,\n      getItemCount = _this$props.getItemCount,\n      getItemLayout = _this$props.getItemLayout,\n      onScrollToIndexFailed = _this$props.onScrollToIndexFailed;\n    var animated = params.animated,\n      index = params.index,\n      viewOffset = params.viewOffset,\n      viewPosition = params.viewPosition;\n    invariant(index >= 0, \"scrollToIndex out of range: requested index \" + index + \" but minimum is 0\");\n    invariant(getItemCount(data) >= 1, \"scrollToIndex out of range: item length \" + getItemCount(data) + \" but minimum is 1\");\n    invariant(index < getItemCount(data), \"scrollToIndex out of range: requested index \" + index + \" is out of 0 to \" + (getItemCount(data) - 1));\n    if (!getItemLayout && index > this._highestMeasuredFrameIndex) {\n      invariant(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');\n      onScrollToIndexFailed({\n        averageItemLength: this._averageCellLength,\n        highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,\n        index\n      });\n      return;\n    }\n    var frame = this.__getFrameMetricsApprox(Math.floor(index), this.props);\n    var offset = Math.max(0, this._getOffsetApprox(index, this.props) - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);\n    if (this._scrollRef == null) {\n      return;\n    }\n    if (this._scrollRef.scrollTo == null) {\n      console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');\n      return;\n    }\n    this._scrollRef.scrollTo(horizontal ? {\n      x: offset,\n      animated\n    } : {\n      y: offset,\n      animated\n    });\n  }\n\n  // scrollToItem may be janky without getItemLayout prop. Required linear scan through items -\n  // use scrollToIndex instead if possible.\n  scrollToItem(params) {\n    var item = params.item;\n    var _this$props2 = this.props,\n      data = _this$props2.data,\n      getItem = _this$props2.getItem,\n      getItemCount = _this$props2.getItemCount;\n    var itemCount = getItemCount(data);\n    for (var _index = 0; _index < itemCount; _index++) {\n      if (getItem(data, _index) === item) {\n        this.scrollToIndex(_objectSpread(_objectSpread({}, params), {}, {\n          index: _index\n        }));\n        break;\n      }\n    }\n  }\n\n  /**\n   * Scroll to a specific content pixel offset in the list.\n   *\n   * Param `offset` expects the offset to scroll to.\n   * In case of `horizontal` is true, the offset is the x-value,\n   * in any other case the offset is the y-value.\n   *\n   * Param `animated` (`true` by default) defines whether the list\n   * should do an animation while scrolling.\n   */\n  scrollToOffset(params) {\n    var animated = params.animated,\n      offset = params.offset;\n    if (this._scrollRef == null) {\n      return;\n    }\n    if (this._scrollRef.scrollTo == null) {\n      console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');\n      return;\n    }\n    this._scrollRef.scrollTo(horizontalOrDefault(this.props.horizontal) ? {\n      x: offset,\n      animated\n    } : {\n      y: offset,\n      animated\n    });\n  }\n  recordInteraction() {\n    this._nestedChildLists.forEach(childList => {\n      childList.recordInteraction();\n    });\n    this._viewabilityTuples.forEach(t => {\n      t.viewabilityHelper.recordInteraction();\n    });\n    this._updateViewableItems(this.props, this.state.cellsAroundViewport);\n  }\n  flashScrollIndicators() {\n    if (this._scrollRef == null) {\n      return;\n    }\n    this._scrollRef.flashScrollIndicators();\n  }\n\n  /**\n   * Provides a handle to the underlying scroll responder.\n   * Note that `this._scrollRef` might not be a `ScrollView`, so we\n   * need to check that it responds to `getScrollResponder` before calling it.\n   */\n  getScrollResponder() {\n    if (this._scrollRef && this._scrollRef.getScrollResponder) {\n      return this._scrollRef.getScrollResponder();\n    }\n  }\n  getScrollableNode() {\n    if (this._scrollRef && this._scrollRef.getScrollableNode) {\n      return this._scrollRef.getScrollableNode();\n    } else {\n      return this._scrollRef;\n    }\n  }\n  getScrollRef() {\n    if (this._scrollRef && this._scrollRef.getScrollRef) {\n      return this._scrollRef.getScrollRef();\n    } else {\n      return this._scrollRef;\n    }\n  }\n  _getCellKey() {\n    var _this$context;\n    return ((_this$context = this.context) == null ? void 0 : _this$context.cellKey) || 'rootList';\n  }\n\n  // $FlowFixMe[missing-local-annot]\n\n  hasMore() {\n    return this._hasMore;\n  }\n\n  // $FlowFixMe[missing-local-annot]\n\n  // REACT-NATIVE-WEB patch to preserve during future RN merges: Support inverted wheel scroller.\n\n  constructor(_props) {\n    var _this$props$updateCel;\n    super(_props);\n    this._getScrollMetrics = () => {\n      return this._scrollMetrics;\n    };\n    this._getOutermostParentListRef = () => {\n      if (this._isNestedWithSameOrientation()) {\n        return this.context.getOutermostParentListRef();\n      } else {\n        return this;\n      }\n    };\n    this._registerAsNestedChild = childList => {\n      this._nestedChildLists.add(childList.ref, childList.cellKey);\n      if (this._hasInteracted) {\n        childList.ref.recordInteraction();\n      }\n    };\n    this._unregisterAsNestedChild = childList => {\n      this._nestedChildLists.remove(childList.ref);\n    };\n    this._onUpdateSeparators = (keys, newProps) => {\n      keys.forEach(key => {\n        var ref = key != null && this._cellRefs[key];\n        ref && ref.updateSeparatorProps(newProps);\n      });\n    };\n    this._getSpacerKey = isVertical => isVertical ? 'height' : 'width';\n    this._averageCellLength = 0;\n    this._cellRefs = {};\n    this._frames = {};\n    this._footerLength = 0;\n    this._hasTriggeredInitialScrollToIndex = false;\n    this._hasInteracted = false;\n    this._hasMore = false;\n    this._hasWarned = {};\n    this._headerLength = 0;\n    this._hiPriInProgress = false;\n    this._highestMeasuredFrameIndex = 0;\n    this._indicesToKeys = new Map();\n    this._lastFocusedCellKey = null;\n    this._nestedChildLists = new ChildListCollection();\n    this._offsetFromParentVirtualizedList = 0;\n    this._prevParentOffset = 0;\n    this._scrollMetrics = {\n      contentLength: 0,\n      dOffset: 0,\n      dt: 10,\n      offset: 0,\n      timestamp: 0,\n      velocity: 0,\n      visibleLength: 0,\n      zoomScale: 1\n    };\n    this._scrollRef = null;\n    this._sentStartForContentLength = 0;\n    this._sentEndForContentLength = 0;\n    this._totalCellLength = 0;\n    this._totalCellsMeasured = 0;\n    this._viewabilityTuples = [];\n    this._captureScrollRef = ref => {\n      this._scrollRef = ref;\n    };\n    this._defaultRenderScrollComponent = props => {\n      var onRefresh = props.onRefresh;\n      if (this._isNestedWithSameOrientation()) {\n        // $FlowFixMe[prop-missing] - Typing ReactNativeComponent revealed errors\n        return /*#__PURE__*/React.createElement(View, props);\n      } else if (onRefresh) {\n        var _props$refreshing;\n        invariant(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify((_props$refreshing = props.refreshing) !== null && _props$refreshing !== void 0 ? _props$refreshing : 'undefined') + '`');\n        return (\n          /*#__PURE__*/\n          // $FlowFixMe[prop-missing] Invalid prop usage\n          // $FlowFixMe[incompatible-use]\n          React.createElement(ScrollView, _extends({}, props, {\n            refreshControl: props.refreshControl == null ? /*#__PURE__*/React.createElement(RefreshControl\n            // $FlowFixMe[incompatible-type]\n            , {\n              refreshing: props.refreshing,\n              onRefresh: onRefresh,\n              progressViewOffset: props.progressViewOffset\n            }) : props.refreshControl\n          }))\n        );\n      } else {\n        // $FlowFixMe[prop-missing] Invalid prop usage\n        // $FlowFixMe[incompatible-use]\n        return /*#__PURE__*/React.createElement(ScrollView, props);\n      }\n    };\n    this._onCellLayout = (e, cellKey, index) => {\n      var layout = e.nativeEvent.layout;\n      var next = {\n        offset: this._selectOffset(layout),\n        length: this._selectLength(layout),\n        index,\n        inLayout: true\n      };\n      var curr = this._frames[cellKey];\n      if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {\n        this._totalCellLength += next.length - (curr ? curr.length : 0);\n        this._totalCellsMeasured += curr ? 0 : 1;\n        this._averageCellLength = this._totalCellLength / this._totalCellsMeasured;\n        this._frames[cellKey] = next;\n        this._highestMeasuredFrameIndex = Math.max(this._highestMeasuredFrameIndex, index);\n        this._scheduleCellsToRenderUpdate();\n      } else {\n        this._frames[cellKey].inLayout = true;\n      }\n      this._triggerRemeasureForChildListsInCell(cellKey);\n      this._computeBlankness();\n      this._updateViewableItems(this.props, this.state.cellsAroundViewport);\n    };\n    this._onCellUnmount = cellKey => {\n      delete this._cellRefs[cellKey];\n      var curr = this._frames[cellKey];\n      if (curr) {\n        this._frames[cellKey] = _objectSpread(_objectSpread({}, curr), {}, {\n          inLayout: false\n        });\n      }\n    };\n    this._onLayout = e => {\n      if (this._isNestedWithSameOrientation()) {\n        // Need to adjust our scroll metrics to be relative to our containing\n        // VirtualizedList before we can make claims about list item viewability\n        this.measureLayoutRelativeToContainingList();\n      } else {\n        this._scrollMetrics.visibleLength = this._selectLength(e.nativeEvent.layout);\n      }\n      this.props.onLayout && this.props.onLayout(e);\n      this._scheduleCellsToRenderUpdate();\n      this._maybeCallOnEdgeReached();\n    };\n    this._onLayoutEmpty = e => {\n      this.props.onLayout && this.props.onLayout(e);\n    };\n    this._onLayoutFooter = e => {\n      this._triggerRemeasureForChildListsInCell(this._getFooterCellKey());\n      this._footerLength = this._selectLength(e.nativeEvent.layout);\n    };\n    this._onLayoutHeader = e => {\n      this._headerLength = this._selectLength(e.nativeEvent.layout);\n    };\n    this._onContentSizeChange = (width, height) => {\n      if (width > 0 && height > 0 && this.props.initialScrollIndex != null && this.props.initialScrollIndex > 0 && !this._hasTriggeredInitialScrollToIndex) {\n        if (this.props.contentOffset == null) {\n          if (this.props.initialScrollIndex < this.props.getItemCount(this.props.data)) {\n            this.scrollToIndex({\n              animated: false,\n              index: nullthrows(this.props.initialScrollIndex)\n            });\n          } else {\n            this.scrollToEnd({\n              animated: false\n            });\n          }\n        }\n        this._hasTriggeredInitialScrollToIndex = true;\n      }\n      if (this.props.onContentSizeChange) {\n        this.props.onContentSizeChange(width, height);\n      }\n      this._scrollMetrics.contentLength = this._selectLength({\n        height,\n        width\n      });\n      this._scheduleCellsToRenderUpdate();\n      this._maybeCallOnEdgeReached();\n    };\n    this._convertParentScrollMetrics = metrics => {\n      // Offset of the top of the nested list relative to the top of its parent's viewport\n      var offset = metrics.offset - this._offsetFromParentVirtualizedList;\n      // Child's visible length is the same as its parent's\n      var visibleLength = metrics.visibleLength;\n      var dOffset = offset - this._scrollMetrics.offset;\n      var contentLength = this._scrollMetrics.contentLength;\n      return {\n        visibleLength,\n        contentLength,\n        offset,\n        dOffset\n      };\n    };\n    this._onScroll = e => {\n      this._nestedChildLists.forEach(childList => {\n        childList._onScroll(e);\n      });\n      if (this.props.onScroll) {\n        this.props.onScroll(e);\n      }\n      var timestamp = e.timeStamp;\n      var visibleLength = this._selectLength(e.nativeEvent.layoutMeasurement);\n      var contentLength = this._selectLength(e.nativeEvent.contentSize);\n      var offset = this._selectOffset(e.nativeEvent.contentOffset);\n      var dOffset = offset - this._scrollMetrics.offset;\n      if (this._isNestedWithSameOrientation()) {\n        if (this._scrollMetrics.contentLength === 0) {\n          // Ignore scroll events until onLayout has been called and we\n          // know our offset from our offset from our parent\n          return;\n        }\n        var _this$_convertParentS = this._convertParentScrollMetrics({\n          visibleLength,\n          offset\n        });\n        visibleLength = _this$_convertParentS.visibleLength;\n        contentLength = _this$_convertParentS.contentLength;\n        offset = _this$_convertParentS.offset;\n        dOffset = _this$_convertParentS.dOffset;\n      }\n      var dt = this._scrollMetrics.timestamp ? Math.max(1, timestamp - this._scrollMetrics.timestamp) : 1;\n      var velocity = dOffset / dt;\n      if (dt > 500 && this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !this._hasWarned.perf) {\n        infoLog('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {\n          dt,\n          prevDt: this._scrollMetrics.dt,\n          contentLength\n        });\n        this._hasWarned.perf = true;\n      }\n\n      // For invalid negative values (w/ RTL), set this to 1.\n      var zoomScale = e.nativeEvent.zoomScale < 0 ? 1 : e.nativeEvent.zoomScale;\n      this._scrollMetrics = {\n        contentLength,\n        dt,\n        dOffset,\n        offset,\n        timestamp,\n        velocity,\n        visibleLength,\n        zoomScale\n      };\n      this._updateViewableItems(this.props, this.state.cellsAroundViewport);\n      if (!this.props) {\n        return;\n      }\n      this._maybeCallOnEdgeReached();\n      if (velocity !== 0) {\n        this._fillRateHelper.activate();\n      }\n      this._computeBlankness();\n      this._scheduleCellsToRenderUpdate();\n    };\n    this._onScrollBeginDrag = e => {\n      this._nestedChildLists.forEach(childList => {\n        childList._onScrollBeginDrag(e);\n      });\n      this._viewabilityTuples.forEach(tuple => {\n        tuple.viewabilityHelper.recordInteraction();\n      });\n      this._hasInteracted = true;\n      this.props.onScrollBeginDrag && this.props.onScrollBeginDrag(e);\n    };\n    this._onScrollEndDrag = e => {\n      this._nestedChildLists.forEach(childList => {\n        childList._onScrollEndDrag(e);\n      });\n      var velocity = e.nativeEvent.velocity;\n      if (velocity) {\n        this._scrollMetrics.velocity = this._selectOffset(velocity);\n      }\n      this._computeBlankness();\n      this.props.onScrollEndDrag && this.props.onScrollEndDrag(e);\n    };\n    this._onMomentumScrollBegin = e => {\n      this._nestedChildLists.forEach(childList => {\n        childList._onMomentumScrollBegin(e);\n      });\n      this.props.onMomentumScrollBegin && this.props.onMomentumScrollBegin(e);\n    };\n    this._onMomentumScrollEnd = e => {\n      this._nestedChildLists.forEach(childList => {\n        childList._onMomentumScrollEnd(e);\n      });\n      this._scrollMetrics.velocity = 0;\n      this._computeBlankness();\n      this.props.onMomentumScrollEnd && this.props.onMomentumScrollEnd(e);\n    };\n    this._updateCellsToRender = () => {\n      this._updateViewableItems(this.props, this.state.cellsAroundViewport);\n      this.setState((state, props) => {\n        var cellsAroundViewport = this._adjustCellsAroundViewport(props, state.cellsAroundViewport);\n        var renderMask = VirtualizedList._createRenderMask(props, cellsAroundViewport, this._getNonViewportRenderRegions(props));\n        if (cellsAroundViewport.first === state.cellsAroundViewport.first && cellsAroundViewport.last === state.cellsAroundViewport.last && renderMask.equals(state.renderMask)) {\n          return null;\n        }\n        return {\n          cellsAroundViewport,\n          renderMask\n        };\n      });\n    };\n    this._createViewToken = (index, isViewable, props\n    // $FlowFixMe[missing-local-annot]\n    ) => {\n      var data = props.data,\n        getItem = props.getItem;\n      var item = getItem(data, index);\n      return {\n        index,\n        item,\n        key: this._keyExtractor(item, index, props),\n        isViewable\n      };\n    };\n    this._getOffsetApprox = (index, props) => {\n      if (Number.isInteger(index)) {\n        return this.__getFrameMetricsApprox(index, props).offset;\n      } else {\n        var frameMetrics = this.__getFrameMetricsApprox(Math.floor(index), props);\n        var remainder = index - Math.floor(index);\n        return frameMetrics.offset + remainder * frameMetrics.length;\n      }\n    };\n    this.__getFrameMetricsApprox = (index, props) => {\n      var frame = this._getFrameMetrics(index, props);\n      if (frame && frame.index === index) {\n        // check for invalid frames due to row re-ordering\n        return frame;\n      } else {\n        var data = props.data,\n          getItemCount = props.getItemCount,\n          getItemLayout = props.getItemLayout;\n        invariant(index >= 0 && index < getItemCount(data), 'Tried to get frame for out of range index ' + index);\n        invariant(!getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');\n        return {\n          length: this._averageCellLength,\n          offset: this._averageCellLength * index\n        };\n      }\n    };\n    this._getFrameMetrics = (index, props) => {\n      var data = props.data,\n        getItem = props.getItem,\n        getItemCount = props.getItemCount,\n        getItemLayout = props.getItemLayout;\n      invariant(index >= 0 && index < getItemCount(data), 'Tried to get frame for out of range index ' + index);\n      var item = getItem(data, index);\n      var frame = this._frames[this._keyExtractor(item, index, props)];\n      if (!frame || frame.index !== index) {\n        if (getItemLayout) {\n          /* $FlowFixMe[prop-missing] (>=0.63.0 site=react_native_fb) This comment\n           * suppresses an error found when Flow v0.63 was deployed. To see the error\n           * delete this comment and run Flow. */\n          return getItemLayout(data, index);\n        }\n      }\n      return frame;\n    };\n    this._getNonViewportRenderRegions = props => {\n      // Keep a viewport's worth of content around the last focused cell to allow\n      // random navigation around it without any blanking. E.g. tabbing from one\n      // focused item out of viewport to another.\n      if (!(this._lastFocusedCellKey && this._cellRefs[this._lastFocusedCellKey])) {\n        return [];\n      }\n      var lastFocusedCellRenderer = this._cellRefs[this._lastFocusedCellKey];\n      var focusedCellIndex = lastFocusedCellRenderer.props.index;\n      var itemCount = props.getItemCount(props.data);\n\n      // The last cell we rendered may be at a new index. Bail if we don't know\n      // where it is.\n      if (focusedCellIndex >= itemCount || this._keyExtractor(props.getItem(props.data, focusedCellIndex), focusedCellIndex, props) !== this._lastFocusedCellKey) {\n        return [];\n      }\n      var first = focusedCellIndex;\n      var heightOfCellsBeforeFocused = 0;\n      for (var i = first - 1; i >= 0 && heightOfCellsBeforeFocused < this._scrollMetrics.visibleLength; i--) {\n        first--;\n        heightOfCellsBeforeFocused += this.__getFrameMetricsApprox(i, props).length;\n      }\n      var last = focusedCellIndex;\n      var heightOfCellsAfterFocused = 0;\n      for (var _i = last + 1; _i < itemCount && heightOfCellsAfterFocused < this._scrollMetrics.visibleLength; _i++) {\n        last++;\n        heightOfCellsAfterFocused += this.__getFrameMetricsApprox(_i, props).length;\n      }\n      return [{\n        first,\n        last\n      }];\n    };\n    this._checkProps(_props);\n    this._fillRateHelper = new FillRateHelper(this._getFrameMetrics);\n    this._updateCellsToRenderBatcher = new Batchinator(this._updateCellsToRender, (_this$props$updateCel = this.props.updateCellsBatchingPeriod) !== null && _this$props$updateCel !== void 0 ? _this$props$updateCel : 50);\n    if (this.props.viewabilityConfigCallbackPairs) {\n      this._viewabilityTuples = this.props.viewabilityConfigCallbackPairs.map(pair => ({\n        viewabilityHelper: new ViewabilityHelper(pair.viewabilityConfig),\n        onViewableItemsChanged: pair.onViewableItemsChanged\n      }));\n    } else {\n      var _this$props3 = this.props,\n        onViewableItemsChanged = _this$props3.onViewableItemsChanged,\n        viewabilityConfig = _this$props3.viewabilityConfig;\n      if (onViewableItemsChanged) {\n        this._viewabilityTuples.push({\n          viewabilityHelper: new ViewabilityHelper(viewabilityConfig),\n          onViewableItemsChanged: onViewableItemsChanged\n        });\n      }\n    }\n    var initialRenderRegion = VirtualizedList._initialRenderRegion(_props);\n    this.state = {\n      cellsAroundViewport: initialRenderRegion,\n      renderMask: VirtualizedList._createRenderMask(_props, initialRenderRegion)\n    };\n\n    // REACT-NATIVE-WEB patch to preserve during future RN merges: Support inverted wheel scroller.\n    // For issue https://github.com/necolas/react-native-web/issues/995\n    this.invertedWheelEventHandler = ev => {\n      var scrollOffset = this.props.horizontal ? ev.target.scrollLeft : ev.target.scrollTop;\n      var scrollLength = this.props.horizontal ? ev.target.scrollWidth : ev.target.scrollHeight;\n      var clientLength = this.props.horizontal ? ev.target.clientWidth : ev.target.clientHeight;\n      var isEventTargetScrollable = scrollLength > clientLength;\n      var delta = this.props.horizontal ? ev.deltaX || ev.wheelDeltaX : ev.deltaY || ev.wheelDeltaY;\n      var leftoverDelta = delta;\n      if (isEventTargetScrollable) {\n        leftoverDelta = delta < 0 ? Math.min(delta + scrollOffset, 0) : Math.max(delta - (scrollLength - clientLength - scrollOffset), 0);\n      }\n      var targetDelta = delta - leftoverDelta;\n      if (this.props.inverted && this._scrollRef && this._scrollRef.getScrollableNode) {\n        var node = this._scrollRef.getScrollableNode();\n        if (this.props.horizontal) {\n          ev.target.scrollLeft += targetDelta;\n          var nextScrollLeft = node.scrollLeft - leftoverDelta;\n          node.scrollLeft = !this.props.getItemLayout ? Math.min(nextScrollLeft, this._totalCellLength) : nextScrollLeft;\n        } else {\n          ev.target.scrollTop += targetDelta;\n          var nextScrollTop = node.scrollTop - leftoverDelta;\n          node.scrollTop = !this.props.getItemLayout ? Math.min(nextScrollTop, this._totalCellLength) : nextScrollTop;\n        }\n        ev.preventDefault();\n      }\n    };\n  }\n  _checkProps(props) {\n    var onScroll = props.onScroll,\n      windowSize = props.windowSize,\n      getItemCount = props.getItemCount,\n      data = props.data,\n      initialScrollIndex = props.initialScrollIndex;\n    invariant(\n    // $FlowFixMe[prop-missing]\n    !onScroll || !onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');\n    invariant(windowSizeOrDefault(windowSize) > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');\n    invariant(getItemCount, 'VirtualizedList: The \"getItemCount\" prop must be provided');\n    var itemCount = getItemCount(data);\n    if (initialScrollIndex != null && !this._hasTriggeredInitialScrollToIndex && (initialScrollIndex < 0 || itemCount > 0 && initialScrollIndex >= itemCount) && !this._hasWarned.initialScrollIndex) {\n      console.warn(\"initialScrollIndex \\\"\" + initialScrollIndex + \"\\\" is not valid (list has \" + itemCount + \" items)\");\n      this._hasWarned.initialScrollIndex = true;\n    }\n    if (__DEV__ && !this._hasWarned.flexWrap) {\n      // $FlowFixMe[underconstrained-implicit-instantiation]\n      var flatStyles = StyleSheet.flatten(this.props.contentContainerStyle);\n      if (flatStyles != null && flatStyles.flexWrap === 'wrap') {\n        console.warn('`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');\n        this._hasWarned.flexWrap = true;\n      }\n    }\n  }\n  static _createRenderMask(props, cellsAroundViewport, additionalRegions) {\n    var itemCount = props.getItemCount(props.data);\n    invariant(cellsAroundViewport.first >= 0 && cellsAroundViewport.last >= cellsAroundViewport.first - 1 && cellsAroundViewport.last < itemCount, \"Invalid cells around viewport \\\"[\" + cellsAroundViewport.first + \", \" + cellsAroundViewport.last + \"]\\\" was passed to VirtualizedList._createRenderMask\");\n    var renderMask = new CellRenderMask(itemCount);\n    if (itemCount > 0) {\n      var allRegions = [cellsAroundViewport, ...(additionalRegions !== null && additionalRegions !== void 0 ? additionalRegions : [])];\n      for (var _i2 = 0, _allRegions = allRegions; _i2 < _allRegions.length; _i2++) {\n        var region = _allRegions[_i2];\n        renderMask.addCells(region);\n      }\n\n      // The initially rendered cells are retained as part of the\n      // \"scroll-to-top\" optimization\n      if (props.initialScrollIndex == null || props.initialScrollIndex <= 0) {\n        var initialRegion = VirtualizedList._initialRenderRegion(props);\n        renderMask.addCells(initialRegion);\n      }\n\n      // The layout coordinates of sticker headers may be off-screen while the\n      // actual header is on-screen. Keep the most recent before the viewport\n      // rendered, even if its layout coordinates are not in viewport.\n      var stickyIndicesSet = new Set(props.stickyHeaderIndices);\n      VirtualizedList._ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellsAroundViewport.first);\n    }\n    return renderMask;\n  }\n  static _initialRenderRegion(props) {\n    var _props$initialScrollI;\n    var itemCount = props.getItemCount(props.data);\n    var firstCellIndex = Math.max(0, Math.min(itemCount - 1, Math.floor((_props$initialScrollI = props.initialScrollIndex) !== null && _props$initialScrollI !== void 0 ? _props$initialScrollI : 0)));\n    var lastCellIndex = Math.min(itemCount, firstCellIndex + initialNumToRenderOrDefault(props.initialNumToRender)) - 1;\n    return {\n      first: firstCellIndex,\n      last: lastCellIndex\n    };\n  }\n  static _ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellIdx) {\n    var stickyOffset = props.ListHeaderComponent ? 1 : 0;\n    for (var itemIdx = cellIdx - 1; itemIdx >= 0; itemIdx--) {\n      if (stickyIndicesSet.has(itemIdx + stickyOffset)) {\n        renderMask.addCells({\n          first: itemIdx,\n          last: itemIdx\n        });\n        break;\n      }\n    }\n  }\n  _adjustCellsAroundViewport(props, cellsAroundViewport) {\n    var data = props.data,\n      getItemCount = props.getItemCount;\n    var onEndReachedThreshold = onEndReachedThresholdOrDefault(props.onEndReachedThreshold);\n    var _this$_scrollMetrics = this._scrollMetrics,\n      contentLength = _this$_scrollMetrics.contentLength,\n      offset = _this$_scrollMetrics.offset,\n      visibleLength = _this$_scrollMetrics.visibleLength;\n    var distanceFromEnd = contentLength - visibleLength - offset;\n\n    // Wait until the scroll view metrics have been set up. And until then,\n    // we will trust the initialNumToRender suggestion\n    if (visibleLength <= 0 || contentLength <= 0) {\n      return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;\n    }\n    var newCellsAroundViewport;\n    if (props.disableVirtualization) {\n      var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? maxToRenderPerBatchOrDefault(props.maxToRenderPerBatch) : 0;\n      newCellsAroundViewport = {\n        first: 0,\n        last: Math.min(cellsAroundViewport.last + renderAhead, getItemCount(data) - 1)\n      };\n    } else {\n      // If we have a non-zero initialScrollIndex and run this before we've scrolled,\n      // we'll wipe out the initialNumToRender rendered elements starting at initialScrollIndex.\n      // So let's wait until we've scrolled the view to the right place. And until then,\n      // we will trust the initialScrollIndex suggestion.\n\n      // Thus, we want to recalculate the windowed render limits if any of the following hold:\n      // - initialScrollIndex is undefined or is 0\n      // - initialScrollIndex > 0 AND scrolling is complete\n      // - initialScrollIndex > 0 AND the end of the list is visible (this handles the case\n      //   where the list is shorter than the visible area)\n      if (props.initialScrollIndex && !this._scrollMetrics.offset && Math.abs(distanceFromEnd) >= Number.EPSILON) {\n        return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;\n      }\n      newCellsAroundViewport = computeWindowedRenderLimits(props, maxToRenderPerBatchOrDefault(props.maxToRenderPerBatch), windowSizeOrDefault(props.windowSize), cellsAroundViewport, this.__getFrameMetricsApprox, this._scrollMetrics);\n      invariant(newCellsAroundViewport.last < getItemCount(data), 'computeWindowedRenderLimits() should return range in-bounds');\n    }\n    if (this._nestedChildLists.size() > 0) {\n      // If some cell in the new state has a child list in it, we should only render\n      // up through that item, so that we give that list a chance to render.\n      // Otherwise there's churn from multiple child lists mounting and un-mounting\n      // their items.\n\n      // Will this prevent rendering if the nested list doesn't realize the end?\n      var childIdx = this._findFirstChildWithMore(newCellsAroundViewport.first, newCellsAroundViewport.last);\n      newCellsAroundViewport.last = childIdx !== null && childIdx !== void 0 ? childIdx : newCellsAroundViewport.last;\n    }\n    return newCellsAroundViewport;\n  }\n  _findFirstChildWithMore(first, last) {\n    for (var ii = first; ii <= last; ii++) {\n      var cellKeyForIndex = this._indicesToKeys.get(ii);\n      if (cellKeyForIndex != null && this._nestedChildLists.anyInCell(cellKeyForIndex, childList => childList.hasMore())) {\n        return ii;\n      }\n    }\n    return null;\n  }\n  componentDidMount() {\n    if (this._isNestedWithSameOrientation()) {\n      this.context.registerAsNestedChild({\n        ref: this,\n        cellKey: this.context.cellKey\n      });\n    }\n\n    // REACT-NATIVE-WEB patch to preserve during future RN merges: Support inverted wheel scroller.\n    this.setupWebWheelHandler();\n  }\n  componentWillUnmount() {\n    if (this._isNestedWithSameOrientation()) {\n      this.context.unregisterAsNestedChild({\n        ref: this\n      });\n    }\n    this._updateCellsToRenderBatcher.dispose({\n      abort: true\n    });\n    this._viewabilityTuples.forEach(tuple => {\n      tuple.viewabilityHelper.dispose();\n    });\n    this._fillRateHelper.deactivateAndFlush();\n\n    // REACT-NATIVE-WEB patch to preserve during future RN merges: Support inverted wheel scroller.\n    this.teardownWebWheelHandler();\n  }\n\n  // REACT-NATIVE-WEB patch to preserve during future RN merges: Support inverted wheel scroller.\n  setupWebWheelHandler() {\n    if (this._scrollRef && this._scrollRef.getScrollableNode) {\n      this._scrollRef.getScrollableNode().addEventListener('wheel', this.invertedWheelEventHandler);\n    } else {\n      setTimeout(() => this.setupWebWheelHandler(), 50);\n      return;\n    }\n  }\n\n  // REACT-NATIVE-WEB patch to preserve during future RN merges: Support inverted wheel scroller.\n  teardownWebWheelHandler() {\n    if (this._scrollRef && this._scrollRef.getScrollableNode) {\n      this._scrollRef.getScrollableNode().removeEventListener('wheel', this.invertedWheelEventHandler);\n    }\n  }\n  static getDerivedStateFromProps(newProps, prevState) {\n    // first and last could be stale (e.g. if a new, shorter items props is passed in), so we make\n    // sure we're rendering a reasonable range here.\n    var itemCount = newProps.getItemCount(newProps.data);\n    if (itemCount === prevState.renderMask.numCells()) {\n      return prevState;\n    }\n    var constrainedCells = VirtualizedList._constrainToItemCount(prevState.cellsAroundViewport, newProps);\n    return {\n      cellsAroundViewport: constrainedCells,\n      renderMask: VirtualizedList._createRenderMask(newProps, constrainedCells)\n    };\n  }\n  _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {\n    var _this = this;\n    var _this$props4 = this.props,\n      CellRendererComponent = _this$props4.CellRendererComponent,\n      ItemSeparatorComponent = _this$props4.ItemSeparatorComponent,\n      ListHeaderComponent = _this$props4.ListHeaderComponent,\n      ListItemComponent = _this$props4.ListItemComponent,\n      data = _this$props4.data,\n      debug = _this$props4.debug,\n      getItem = _this$props4.getItem,\n      getItemCount = _this$props4.getItemCount,\n      getItemLayout = _this$props4.getItemLayout,\n      horizontal = _this$props4.horizontal,\n      renderItem = _this$props4.renderItem;\n    var stickyOffset = ListHeaderComponent ? 1 : 0;\n    var end = getItemCount(data) - 1;\n    var prevCellKey;\n    last = Math.min(end, last);\n    var _loop = function _loop() {\n      var item = getItem(data, ii);\n      var key = _this._keyExtractor(item, ii, _this.props);\n      _this._indicesToKeys.set(ii, key);\n      if (stickyIndicesFromProps.has(ii + stickyOffset)) {\n        stickyHeaderIndices.push(cells.length);\n      }\n      var shouldListenForLayout = getItemLayout == null || debug || _this._fillRateHelper.enabled();\n      cells.push( /*#__PURE__*/React.createElement(CellRenderer, _extends({\n        CellRendererComponent: CellRendererComponent,\n        ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,\n        ListItemComponent: ListItemComponent,\n        cellKey: key,\n        horizontal: horizontal,\n        index: ii,\n        inversionStyle: inversionStyle,\n        item: item,\n        key: key,\n        prevCellKey: prevCellKey,\n        onUpdateSeparators: _this._onUpdateSeparators,\n        onCellFocusCapture: e => _this._onCellFocusCapture(key),\n        onUnmount: _this._onCellUnmount,\n        ref: _ref => {\n          _this._cellRefs[key] = _ref;\n        },\n        renderItem: renderItem\n      }, shouldListenForLayout && {\n        onCellLayout: _this._onCellLayout\n      })));\n      prevCellKey = key;\n    };\n    for (var ii = first; ii <= last; ii++) {\n      _loop();\n    }\n  }\n  static _constrainToItemCount(cells, props) {\n    var itemCount = props.getItemCount(props.data);\n    var last = Math.min(itemCount - 1, cells.last);\n    var maxToRenderPerBatch = maxToRenderPerBatchOrDefault(props.maxToRenderPerBatch);\n    return {\n      first: clamp(0, itemCount - 1 - maxToRenderPerBatch, cells.first),\n      last\n    };\n  }\n  _isNestedWithSameOrientation() {\n    var nestedContext = this.context;\n    return !!(nestedContext && !!nestedContext.horizontal === horizontalOrDefault(this.props.horizontal));\n  }\n  _keyExtractor(item, index, props\n  // $FlowFixMe[missing-local-annot]\n  ) {\n    if (props.keyExtractor != null) {\n      return props.keyExtractor(item, index);\n    }\n    var key = defaultKeyExtractor(item, index);\n    if (key === String(index)) {\n      _usedIndexForKey = true;\n      if (item.type && item.type.displayName) {\n        _keylessItemComponentName = item.type.displayName;\n      }\n    }\n    return key;\n  }\n  render() {\n    this._checkProps(this.props);\n    var _this$props5 = this.props,\n      ListEmptyComponent = _this$props5.ListEmptyComponent,\n      ListFooterComponent = _this$props5.ListFooterComponent,\n      ListHeaderComponent = _this$props5.ListHeaderComponent;\n    var _this$props6 = this.props,\n      data = _this$props6.data,\n      horizontal = _this$props6.horizontal;\n    var inversionStyle = this.props.inverted ? horizontalOrDefault(this.props.horizontal) ? styles.horizontallyInverted : styles.verticallyInverted : null;\n    var cells = [];\n    var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);\n    var stickyHeaderIndices = [];\n\n    // 1. Add cell for ListHeaderComponent\n    if (ListHeaderComponent) {\n      if (stickyIndicesFromProps.has(0)) {\n        stickyHeaderIndices.push(0);\n      }\n      var _element = /*#__PURE__*/React.isValidElement(ListHeaderComponent) ? ListHeaderComponent :\n      /*#__PURE__*/\n      // $FlowFixMe[not-a-component]\n      // $FlowFixMe[incompatible-type-arg]\n      React.createElement(ListHeaderComponent, null);\n      cells.push( /*#__PURE__*/React.createElement(VirtualizedListCellContextProvider, {\n        cellKey: this._getCellKey() + '-header',\n        key: \"$header\"\n      }, /*#__PURE__*/React.createElement(View, {\n        onLayout: this._onLayoutHeader,\n        style: [inversionStyle, this.props.ListHeaderComponentStyle]\n      },\n      // $FlowFixMe[incompatible-type] - Typing ReactNativeComponent revealed errors\n      _element)));\n    }\n\n    // 2a. Add a cell for ListEmptyComponent if applicable\n    var itemCount = this.props.getItemCount(data);\n    if (itemCount === 0 && ListEmptyComponent) {\n      var _element2 = /*#__PURE__*/React.isValidElement(ListEmptyComponent) ? ListEmptyComponent :\n      /*#__PURE__*/\n      // $FlowFixMe[not-a-component]\n      // $FlowFixMe[incompatible-type-arg]\n      React.createElement(ListEmptyComponent, null);\n      cells.push( /*#__PURE__*/React.createElement(VirtualizedListCellContextProvider, {\n        cellKey: this._getCellKey() + '-empty',\n        key: \"$empty\"\n      }, /*#__PURE__*/React.cloneElement(_element2, {\n        onLayout: event => {\n          this._onLayoutEmpty(event);\n          if (_element2.props.onLayout) {\n            _element2.props.onLayout(event);\n          }\n        },\n        style: [inversionStyle, _element2.props.style]\n      })));\n    }\n\n    // 2b. Add cells and spacers for each item\n    if (itemCount > 0) {\n      _usedIndexForKey = false;\n      _keylessItemComponentName = '';\n      var spacerKey = this._getSpacerKey(!horizontal);\n      var renderRegions = this.state.renderMask.enumerateRegions();\n      var lastSpacer = findLastWhere(renderRegions, r => r.isSpacer);\n      for (var _iterator = _createForOfIteratorHelperLoose(renderRegions), _step; !(_step = _iterator()).done;) {\n        var section = _step.value;\n        if (section.isSpacer) {\n          // Legacy behavior is to avoid spacers when virtualization is\n          // disabled (including head spacers on initial render).\n          if (this.props.disableVirtualization) {\n            continue;\n          }\n\n          // Without getItemLayout, we limit our tail spacer to the _highestMeasuredFrameIndex to\n          // prevent the user for hyperscrolling into un-measured area because otherwise content will\n          // likely jump around as it renders in above the viewport.\n          var isLastSpacer = section === lastSpacer;\n          var constrainToMeasured = isLastSpacer && !this.props.getItemLayout;\n          var last = constrainToMeasured ? clamp(section.first - 1, section.last, this._highestMeasuredFrameIndex) : section.last;\n          var firstMetrics = this.__getFrameMetricsApprox(section.first, this.props);\n          var lastMetrics = this.__getFrameMetricsApprox(last, this.props);\n          var spacerSize = lastMetrics.offset + lastMetrics.length - firstMetrics.offset;\n          cells.push( /*#__PURE__*/React.createElement(View, {\n            key: \"$spacer-\" + section.first,\n            style: {\n              [spacerKey]: spacerSize\n            }\n          }));\n        } else {\n          this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, section.first, section.last, inversionStyle);\n        }\n      }\n      if (!this._hasWarned.keys && _usedIndexForKey) {\n        console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);\n        this._hasWarned.keys = true;\n      }\n    }\n\n    // 3. Add cell for ListFooterComponent\n    if (ListFooterComponent) {\n      var _element3 = /*#__PURE__*/React.isValidElement(ListFooterComponent) ? ListFooterComponent :\n      /*#__PURE__*/\n      // $FlowFixMe[not-a-component]\n      // $FlowFixMe[incompatible-type-arg]\n      React.createElement(ListFooterComponent, null);\n      cells.push( /*#__PURE__*/React.createElement(VirtualizedListCellContextProvider, {\n        cellKey: this._getFooterCellKey(),\n        key: \"$footer\"\n      }, /*#__PURE__*/React.createElement(View, {\n        onLayout: this._onLayoutFooter,\n        style: [inversionStyle, this.props.ListFooterComponentStyle]\n      },\n      // $FlowFixMe[incompatible-type] - Typing ReactNativeComponent revealed errors\n      _element3)));\n    }\n\n    // 4. Render the ScrollView\n    var scrollProps = _objectSpread(_objectSpread({}, this.props), {}, {\n      onContentSizeChange: this._onContentSizeChange,\n      onLayout: this._onLayout,\n      onScroll: this._onScroll,\n      onScrollBeginDrag: this._onScrollBeginDrag,\n      onScrollEndDrag: this._onScrollEndDrag,\n      onMomentumScrollBegin: this._onMomentumScrollBegin,\n      onMomentumScrollEnd: this._onMomentumScrollEnd,\n      scrollEventThrottle: scrollEventThrottleOrDefault(this.props.scrollEventThrottle),\n      // TODO: Android support\n      invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,\n      stickyHeaderIndices,\n      style: inversionStyle ? [inversionStyle, this.props.style] : this.props.style\n    });\n    this._hasMore = this.state.cellsAroundViewport.last < itemCount - 1;\n    var innerRet = /*#__PURE__*/React.createElement(VirtualizedListContextProvider, {\n      value: {\n        cellKey: null,\n        getScrollMetrics: this._getScrollMetrics,\n        horizontal: horizontalOrDefault(this.props.horizontal),\n        getOutermostParentListRef: this._getOutermostParentListRef,\n        registerAsNestedChild: this._registerAsNestedChild,\n        unregisterAsNestedChild: this._unregisterAsNestedChild\n      }\n    }, /*#__PURE__*/React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {\n      ref: this._captureScrollRef\n    }, cells));\n    var ret = innerRet;\n    /* https://github.com/necolas/react-native-web/issues/2239: Re-enable when ScrollView.Context.Consumer is available.\n    if (__DEV__) {\n      ret = (\n        <ScrollView.Context.Consumer>\n          {scrollContext => {\n            if (\n              scrollContext != null &&\n              !scrollContext.horizontal ===\n                !horizontalOrDefault(this.props.horizontal) &&\n              !this._hasWarned.nesting &&\n              this.context == null &&\n              this.props.scrollEnabled !== false\n            ) {\n              // TODO (T46547044): use React.warn once 16.9 is sync'd: https://github.com/facebook/react/pull/15170\n              console.error(\n                'VirtualizedLists should never be nested inside plain ScrollViews with the same ' +\n                  'orientation because it can break windowing and other functionality - use another ' +\n                  'VirtualizedList-backed container instead.',\n              );\n              this._hasWarned.nesting = true;\n            }\n            return innerRet;\n          }}\n        </ScrollView.Context.Consumer>\n      );\n    }*/\n    if (this.props.debug) {\n      return /*#__PURE__*/React.createElement(View, {\n        style: styles.debug\n      }, ret, this._renderDebugOverlay());\n    } else {\n      return ret;\n    }\n  }\n  componentDidUpdate(prevProps) {\n    var _this$props7 = this.props,\n      data = _this$props7.data,\n      extraData = _this$props7.extraData;\n    if (data !== prevProps.data || extraData !== prevProps.extraData) {\n      // clear the viewableIndices cache to also trigger\n      // the onViewableItemsChanged callback with the new data\n      this._viewabilityTuples.forEach(tuple => {\n        tuple.viewabilityHelper.resetViewableIndices();\n      });\n    }\n    // The `this._hiPriInProgress` is guaranteeing a hiPri cell update will only happen\n    // once per fiber update. The `_scheduleCellsToRenderUpdate` will set it to true\n    // if a hiPri update needs to perform. If `componentDidUpdate` is triggered with\n    // `this._hiPriInProgress=true`, means it's triggered by the hiPri update. The\n    // `_scheduleCellsToRenderUpdate` will check this condition and not perform\n    // another hiPri update.\n    var hiPriInProgress = this._hiPriInProgress;\n    this._scheduleCellsToRenderUpdate();\n    // Make sure setting `this._hiPriInProgress` back to false after `componentDidUpdate`\n    // is triggered with `this._hiPriInProgress = true`\n    if (hiPriInProgress) {\n      this._hiPriInProgress = false;\n    }\n  }\n\n  // Used for preventing scrollToIndex from being called multiple times for initialScrollIndex\n\n  // flag to prevent infinite hiPri cell limit update\n\n  // $FlowFixMe[missing-local-annot]\n\n  /* $FlowFixMe[missing-local-annot] The type annotation(s) required by Flow's\n   * LTI update could not be added via codemod */\n\n  _computeBlankness() {\n    this._fillRateHelper.computeBlankness(this.props, this.state.cellsAroundViewport, this._scrollMetrics);\n  }\n\n  /* $FlowFixMe[missing-local-annot] The type annotation(s) required by Flow's\n   * LTI update could not be added via codemod */\n\n  _onCellFocusCapture(cellKey) {\n    this._lastFocusedCellKey = cellKey;\n    this._updateCellsToRender();\n  }\n  _triggerRemeasureForChildListsInCell(cellKey) {\n    this._nestedChildLists.forEachInCell(cellKey, childList => {\n      childList.measureLayoutRelativeToContainingList();\n    });\n  }\n  measureLayoutRelativeToContainingList() {\n    // TODO (T35574538): findNodeHandle sometimes crashes with \"Unable to find\n    // node on an unmounted component\" during scrolling\n    try {\n      if (!this._scrollRef) {\n        return;\n      }\n      // We are assuming that getOutermostParentListRef().getScrollRef()\n      // is a non-null reference to a ScrollView\n      this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(), (x, y, width, height) => {\n        this._offsetFromParentVirtualizedList = this._selectOffset({\n          x,\n          y\n        });\n        this._scrollMetrics.contentLength = this._selectLength({\n          width,\n          height\n        });\n        var scrollMetrics = this._convertParentScrollMetrics(this.context.getScrollMetrics());\n        var metricsChanged = this._scrollMetrics.visibleLength !== scrollMetrics.visibleLength || this._scrollMetrics.offset !== scrollMetrics.offset;\n        if (metricsChanged) {\n          this._scrollMetrics.visibleLength = scrollMetrics.visibleLength;\n          this._scrollMetrics.offset = scrollMetrics.offset;\n\n          // If metrics of the scrollView changed, then we triggered remeasure for child list\n          // to ensure VirtualizedList has the right information.\n          this._nestedChildLists.forEach(childList => {\n            childList.measureLayoutRelativeToContainingList();\n          });\n        }\n      }, error => {\n        console.warn(\"VirtualizedList: Encountered an error while measuring a list's\" + ' offset from its containing VirtualizedList.');\n      });\n    } catch (error) {\n      console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);\n    }\n  }\n  _getFooterCellKey() {\n    return this._getCellKey() + '-footer';\n  }\n  // $FlowFixMe[missing-local-annot]\n  _renderDebugOverlay() {\n    var normalize = this._scrollMetrics.visibleLength / (this._scrollMetrics.contentLength || 1);\n    var framesInLayout = [];\n    var itemCount = this.props.getItemCount(this.props.data);\n    for (var ii = 0; ii < itemCount; ii++) {\n      var frame = this.__getFrameMetricsApprox(ii, this.props);\n      /* $FlowFixMe[prop-missing] (>=0.68.0 site=react_native_fb) This comment\n       * suppresses an error found when Flow v0.68 was deployed. To see the\n       * error delete this comment and run Flow. */\n      if (frame.inLayout) {\n        framesInLayout.push(frame);\n      }\n    }\n    var windowTop = this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first, this.props).offset;\n    var frameLast = this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last, this.props);\n    var windowLen = frameLast.offset + frameLast.length - windowTop;\n    var visTop = this._scrollMetrics.offset;\n    var visLen = this._scrollMetrics.visibleLength;\n    return /*#__PURE__*/React.createElement(View, {\n      style: [styles.debugOverlayBase, styles.debugOverlay]\n    }, framesInLayout.map((f, ii) => /*#__PURE__*/React.createElement(View, {\n      key: 'f' + ii,\n      style: [styles.debugOverlayBase, styles.debugOverlayFrame, {\n        top: f.offset * normalize,\n        height: f.length * normalize\n      }]\n    })), /*#__PURE__*/React.createElement(View, {\n      style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {\n        top: windowTop * normalize,\n        height: windowLen * normalize\n      }]\n    }), /*#__PURE__*/React.createElement(View, {\n      style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {\n        top: visTop * normalize,\n        height: visLen * normalize\n      }]\n    }));\n  }\n  _selectLength(metrics) {\n    return !horizontalOrDefault(this.props.horizontal) ? metrics.height : metrics.width;\n  }\n  _selectOffset(metrics) {\n    return !horizontalOrDefault(this.props.horizontal) ? metrics.y : metrics.x;\n  }\n  _maybeCallOnEdgeReached() {\n    var _this$props8 = this.props,\n      data = _this$props8.data,\n      getItemCount = _this$props8.getItemCount,\n      onStartReached = _this$props8.onStartReached,\n      onStartReachedThreshold = _this$props8.onStartReachedThreshold,\n      onEndReached = _this$props8.onEndReached,\n      onEndReachedThreshold = _this$props8.onEndReachedThreshold,\n      initialScrollIndex = _this$props8.initialScrollIndex;\n    var _this$_scrollMetrics2 = this._scrollMetrics,\n      contentLength = _this$_scrollMetrics2.contentLength,\n      visibleLength = _this$_scrollMetrics2.visibleLength,\n      offset = _this$_scrollMetrics2.offset;\n    var distanceFromStart = offset;\n    var distanceFromEnd = contentLength - visibleLength - offset;\n\n    // Especially when oERT is zero it's necessary to 'floor' very small distance values to be 0\n    // since debouncing causes us to not fire this event for every single \"pixel\" we scroll and can thus\n    // be at the edge of the list with a distance approximating 0 but not quite there.\n    if (distanceFromStart < ON_EDGE_REACHED_EPSILON) {\n      distanceFromStart = 0;\n    }\n    if (distanceFromEnd < ON_EDGE_REACHED_EPSILON) {\n      distanceFromEnd = 0;\n    }\n\n    // TODO: T121172172 Look into why we're \"defaulting\" to a threshold of 2px\n    // when oERT is not present (different from 2 viewports used elsewhere)\n    var DEFAULT_THRESHOLD_PX = 2;\n    var startThreshold = onStartReachedThreshold != null ? onStartReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;\n    var endThreshold = onEndReachedThreshold != null ? onEndReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;\n    var isWithinStartThreshold = distanceFromStart <= startThreshold;\n    var isWithinEndThreshold = distanceFromEnd <= endThreshold;\n\n    // First check if the user just scrolled within the end threshold\n    // and call onEndReached only once for a given content length,\n    // and only if onStartReached is not being executed\n    if (onEndReached && this.state.cellsAroundViewport.last === getItemCount(data) - 1 && isWithinEndThreshold && this._scrollMetrics.contentLength !== this._sentEndForContentLength) {\n      this._sentEndForContentLength = this._scrollMetrics.contentLength;\n      onEndReached({\n        distanceFromEnd\n      });\n    }\n\n    // Next check if the user just scrolled within the start threshold\n    // and call onStartReached only once for a given content length,\n    // and only if onEndReached is not being executed\n    else if (onStartReached != null && this.state.cellsAroundViewport.first === 0 && isWithinStartThreshold && this._scrollMetrics.contentLength !== this._sentStartForContentLength) {\n      // On initial mount when using initialScrollIndex the offset will be 0 initially\n      // and will trigger an unexpected onStartReached. To avoid this we can use\n      // timestamp to differentiate between the initial scroll metrics and when we actually\n      // received the first scroll event.\n      if (!initialScrollIndex || this._scrollMetrics.timestamp !== 0) {\n        this._sentStartForContentLength = this._scrollMetrics.contentLength;\n        onStartReached({\n          distanceFromStart\n        });\n      }\n    }\n\n    // If the user scrolls away from the start or end and back again,\n    // cause onStartReached or onEndReached to be triggered again\n    else {\n      this._sentStartForContentLength = isWithinStartThreshold ? this._sentStartForContentLength : 0;\n      this._sentEndForContentLength = isWithinEndThreshold ? this._sentEndForContentLength : 0;\n    }\n  }\n\n  /* Translates metrics from a scroll event in a parent VirtualizedList into\n   * coordinates relative to the child list.\n   */\n\n  _scheduleCellsToRenderUpdate() {\n    var _this$state$cellsArou = this.state.cellsAroundViewport,\n      first = _this$state$cellsArou.first,\n      last = _this$state$cellsArou.last;\n    var _this$_scrollMetrics3 = this._scrollMetrics,\n      offset = _this$_scrollMetrics3.offset,\n      visibleLength = _this$_scrollMetrics3.visibleLength,\n      velocity = _this$_scrollMetrics3.velocity;\n    var itemCount = this.props.getItemCount(this.props.data);\n    var hiPri = false;\n    var onStartReachedThreshold = onStartReachedThresholdOrDefault(this.props.onStartReachedThreshold);\n    var onEndReachedThreshold = onEndReachedThresholdOrDefault(this.props.onEndReachedThreshold);\n    // Mark as high priority if we're close to the start of the first item\n    // But only if there are items before the first rendered item\n    if (first > 0) {\n      var distTop = offset - this.__getFrameMetricsApprox(first, this.props).offset;\n      hiPri = distTop < 0 || velocity < -2 && distTop < getScrollingThreshold(onStartReachedThreshold, visibleLength);\n    }\n    // Mark as high priority if we're close to the end of the last item\n    // But only if there are items after the last rendered item\n    if (!hiPri && last >= 0 && last < itemCount - 1) {\n      var distBottom = this.__getFrameMetricsApprox(last, this.props).offset - (offset + visibleLength);\n      hiPri = distBottom < 0 || velocity > 2 && distBottom < getScrollingThreshold(onEndReachedThreshold, visibleLength);\n    }\n    // Only trigger high-priority updates if we've actually rendered cells,\n    // and with that size estimate, accurately compute how many cells we should render.\n    // Otherwise, it would just render as many cells as it can (of zero dimension),\n    // each time through attempting to render more (limited by maxToRenderPerBatch),\n    // starving the renderer from actually laying out the objects and computing _averageCellLength.\n    // If this is triggered in an `componentDidUpdate` followed by a hiPri cellToRenderUpdate\n    // We shouldn't do another hipri cellToRenderUpdate\n    if (hiPri && (this._averageCellLength || this.props.getItemLayout) && !this._hiPriInProgress) {\n      this._hiPriInProgress = true;\n      // Don't worry about interactions when scrolling quickly; focus on filling content as fast\n      // as possible.\n      this._updateCellsToRenderBatcher.dispose({\n        abort: true\n      });\n      this._updateCellsToRender();\n      return;\n    } else {\n      this._updateCellsToRenderBatcher.schedule();\n    }\n  }\n\n  /**\n   * Gets an approximate offset to an item at a given index. Supports\n   * fractional indices.\n   */\n\n  _updateViewableItems(props, cellsAroundViewport) {\n    this._viewabilityTuples.forEach(tuple => {\n      tuple.viewabilityHelper.onUpdate(props, this._scrollMetrics.offset, this._scrollMetrics.visibleLength, this._getFrameMetrics, this._createViewToken, tuple.onViewableItemsChanged, cellsAroundViewport);\n    });\n  }\n}\nVirtualizedList.contextType = VirtualizedListContext;\nvar styles = StyleSheet.create({\n  verticallyInverted: {\n    transform: 'scaleY(-1)'\n  },\n  horizontallyInverted: {\n    transform: 'scaleX(-1)'\n  },\n  debug: {\n    flex: 1\n  },\n  debugOverlayBase: {\n    position: 'absolute',\n    top: 0,\n    right: 0\n  },\n  debugOverlay: {\n    bottom: 0,\n    width: 20,\n    borderColor: 'blue',\n    borderWidth: 1\n  },\n  debugOverlayFrame: {\n    left: 0,\n    backgroundColor: 'orange'\n  },\n  debugOverlayFrameLast: {\n    left: 0,\n    borderColor: 'green',\n    borderWidth: 2\n  },\n  debugOverlayFrameVis: {\n    left: 0,\n    borderColor: 'red',\n    borderWidth: 2\n  }\n});\nexport default VirtualizedList;","var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var cache = null;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (cache && cache.lastThis === this && isEqual(newArgs, cache.lastArgs)) {\n            return cache.lastResult;\n        }\n        var lastResult = resultFn.apply(this, newArgs);\n        cache = {\n            lastResult: lastResult,\n            lastArgs: newArgs,\n            lastThis: this,\n        };\n        return lastResult;\n    }\n    memoized.clear = function clear() {\n        cache = null;\n    };\n    return memoized;\n}\n\nexport { memoizeOne as default };\n","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nvar _excluded = [\"numColumns\", \"columnWrapperStyle\", \"removeClippedSubviews\", \"strictMode\"];\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n\nimport View from '../../../exports/View';\nimport StyleSheet from '../../../exports/StyleSheet';\nimport deepDiffer from '../deepDiffer';\nimport Platform from '../../../exports/Platform';\nimport invariant from 'fbjs/lib/invariant';\nimport * as React from 'react';\nimport VirtualizedList from '../VirtualizedList';\nimport { keyExtractor as defaultKeyExtractor } from '../VirtualizeUtils';\nimport memoizeOne from 'memoize-one';\n/**\n * Default Props Helper Functions\n * Use the following helper functions for default values\n */ // removeClippedSubviewsOrDefault(this.props.removeClippedSubviews)\nfunction removeClippedSubviewsOrDefault(removeClippedSubviews) {\n  return removeClippedSubviews !== null && removeClippedSubviews !== void 0 ? removeClippedSubviews : Platform.OS === 'android';\n}\n\n// numColumnsOrDefault(this.props.numColumns)\nfunction numColumnsOrDefault(numColumns) {\n  return numColumns !== null && numColumns !== void 0 ? numColumns : 1;\n}\nfunction isArrayLike(data) {\n  // $FlowExpectedError[incompatible-use]\n  return typeof Object(data).length === 'number';\n}\n/**\n * A performant interface for rendering simple, flat lists, supporting the most handy features:\n *\n *  - Fully cross-platform.\n *  - Optional horizontal mode.\n *  - Configurable viewability callbacks.\n *  - Header support.\n *  - Footer support.\n *  - Separator support.\n *  - Pull to Refresh.\n *  - Scroll loading.\n *  - ScrollToIndex support.\n *\n * If you need section support, use [`<SectionList>`](docs/sectionlist.html).\n *\n * Minimal Example:\n *\n *     <FlatList\n *       data={[{key: 'a'}, {key: 'b'}]}\n *       renderItem={({item}) => <Text>{item.key}</Text>}\n *     />\n *\n * More complex, multi-select example demonstrating `PureComponent` usage for perf optimization and avoiding bugs.\n *\n * - By binding the `onPressItem` handler, the props will remain `===` and `PureComponent` will\n *   prevent wasteful re-renders unless the actual `id`, `selected`, or `title` props change, even\n *   if the components rendered in `MyListItem` did not have such optimizations.\n * - By passing `extraData={this.state}` to `FlatList` we make sure `FlatList` itself will re-render\n *   when the `state.selected` changes. Without setting this prop, `FlatList` would not know it\n *   needs to re-render any items because it is also a `PureComponent` and the prop comparison will\n *   not show any changes.\n * - `keyExtractor` tells the list to use the `id`s for the react keys instead of the default `key` property.\n *\n *\n *     class MyListItem extends React.PureComponent {\n *       _onPress = () => {\n *         this.props.onPressItem(this.props.id);\n *       };\n *\n *       render() {\n *         const textColor = this.props.selected ? \"red\" : \"black\";\n *         return (\n *           <TouchableOpacity onPress={this._onPress}>\n *             <View>\n *               <Text style={{ color: textColor }}>\n *                 {this.props.title}\n *               </Text>\n *             </View>\n *           </TouchableOpacity>\n *         );\n *       }\n *     }\n *\n *     class MultiSelectList extends React.PureComponent {\n *       state = {selected: (new Map(): Map<string, boolean>)};\n *\n *       _keyExtractor = (item, index) => item.id;\n *\n *       _onPressItem = (id: string) => {\n *         // updater functions are preferred for transactional updates\n *         this.setState((state) => {\n *           // copy the map rather than modifying state.\n *           const selected = new Map(state.selected);\n *           selected.set(id, !selected.get(id)); // toggle\n *           return {selected};\n *         });\n *       };\n *\n *       _renderItem = ({item}) => (\n *         <MyListItem\n *           id={item.id}\n *           onPressItem={this._onPressItem}\n *           selected={!!this.state.selected.get(item.id)}\n *           title={item.title}\n *         />\n *       );\n *\n *       render() {\n *         return (\n *           <FlatList\n *             data={this.props.data}\n *             extraData={this.state}\n *             keyExtractor={this._keyExtractor}\n *             renderItem={this._renderItem}\n *           />\n *         );\n *       }\n *     }\n *\n * This is a convenience wrapper around [`<VirtualizedList>`](docs/virtualizedlist.html),\n * and thus inherits its props (as well as those of `ScrollView`) that aren't explicitly listed\n * here, along with the following caveats:\n *\n * - Internal state is not preserved when content scrolls out of the render window. Make sure all\n *   your data is captured in the item data or external stores like Flux, Redux, or Relay.\n * - This is a `PureComponent` which means that it will not re-render if `props` remain shallow-\n *   equal. Make sure that everything your `renderItem` function depends on is passed as a prop\n *   (e.g. `extraData`) that is not `===` after updates, otherwise your UI may not update on\n *   changes. This includes the `data` prop and parent component state.\n * - In order to constrain memory and enable smooth scrolling, content is rendered asynchronously\n *   offscreen. This means it's possible to scroll faster than the fill rate ands momentarily see\n *   blank content. This is a tradeoff that can be adjusted to suit the needs of each application,\n *   and we are working on improving it behind the scenes.\n * - By default, the list looks for a `key` prop on each item and uses that for the React key.\n *   Alternatively, you can provide a custom `keyExtractor` prop.\n *\n * Also inherits [ScrollView Props](docs/scrollview.html#props), unless it is nested in another FlatList of same orientation.\n */\nclass FlatList extends React.PureComponent {\n  /**\n   * Scrolls to the end of the content. May be janky without `getItemLayout` prop.\n   */\n  scrollToEnd(params) {\n    if (this._listRef) {\n      this._listRef.scrollToEnd(params);\n    }\n  }\n\n  /**\n   * Scrolls to the item at the specified index such that it is positioned in the viewable area\n   * such that `viewPosition` 0 places it at the top, 1 at the bottom, and 0.5 centered in the\n   * middle. `viewOffset` is a fixed number of pixels to offset the final target position.\n   *\n   * Note: cannot scroll to locations outside the render window without specifying the\n   * `getItemLayout` prop.\n   */\n  scrollToIndex(params) {\n    if (this._listRef) {\n      this._listRef.scrollToIndex(params);\n    }\n  }\n\n  /**\n   * Requires linear scan through data - use `scrollToIndex` instead if possible.\n   *\n   * Note: cannot scroll to locations outside the render window without specifying the\n   * `getItemLayout` prop.\n   */\n  scrollToItem(params) {\n    if (this._listRef) {\n      this._listRef.scrollToItem(params);\n    }\n  }\n\n  /**\n   * Scroll to a specific content pixel offset in the list.\n   *\n   * Check out [scrollToOffset](docs/virtualizedlist.html#scrolltooffset) of VirtualizedList\n   */\n  scrollToOffset(params) {\n    if (this._listRef) {\n      this._listRef.scrollToOffset(params);\n    }\n  }\n\n  /**\n   * Tells the list an interaction has occurred, which should trigger viewability calculations, e.g.\n   * if `waitForInteractions` is true and the user has not scrolled. This is typically called by\n   * taps on items or by navigation actions.\n   */\n  recordInteraction() {\n    if (this._listRef) {\n      this._listRef.recordInteraction();\n    }\n  }\n\n  /**\n   * Displays the scroll indicators momentarily.\n   *\n   * @platform ios\n   */\n  flashScrollIndicators() {\n    if (this._listRef) {\n      this._listRef.flashScrollIndicators();\n    }\n  }\n\n  /**\n   * Provides a handle to the underlying scroll responder.\n   */\n  getScrollResponder() {\n    if (this._listRef) {\n      return this._listRef.getScrollResponder();\n    }\n  }\n\n  /**\n   * Provides a reference to the underlying host component\n   */\n  getNativeScrollRef() {\n    if (this._listRef) {\n      /* $FlowFixMe[incompatible-return] Suppresses errors found when fixing\n       * TextInput typing */\n      return this._listRef.getScrollRef();\n    }\n  }\n  getScrollableNode() {\n    if (this._listRef) {\n      return this._listRef.getScrollableNode();\n    }\n  }\n  constructor(_props) {\n    super(_props);\n    this._virtualizedListPairs = [];\n    this._captureRef = ref => {\n      this._listRef = ref;\n    };\n    this._getItem = (data, index) => {\n      var numColumns = numColumnsOrDefault(this.props.numColumns);\n      if (numColumns > 1) {\n        var ret = [];\n        for (var kk = 0; kk < numColumns; kk++) {\n          var itemIndex = index * numColumns + kk;\n          if (itemIndex < data.length) {\n            var _item = data[itemIndex];\n            ret.push(_item);\n          }\n        }\n        return ret;\n      } else {\n        return data[index];\n      }\n    };\n    this._getItemCount = data => {\n      // Legacy behavior of FlatList was to forward \"undefined\" length if invalid\n      // data like a non-arraylike object is passed. VirtualizedList would then\n      // coerce this, and the math would work out to no-op. For compatibility, if\n      // invalid data is passed, we tell VirtualizedList there are zero items\n      // available to prevent it from trying to read from the invalid data\n      // (without propagating invalidly typed data).\n      if (data != null && isArrayLike(data)) {\n        var numColumns = numColumnsOrDefault(this.props.numColumns);\n        return numColumns > 1 ? Math.ceil(data.length / numColumns) : data.length;\n      } else {\n        return 0;\n      }\n    };\n    this._keyExtractor = (items, index) => {\n      var _this$props$keyExtrac;\n      var numColumns = numColumnsOrDefault(this.props.numColumns);\n      var keyExtractor = (_this$props$keyExtrac = this.props.keyExtractor) !== null && _this$props$keyExtrac !== void 0 ? _this$props$keyExtrac : defaultKeyExtractor;\n      if (numColumns > 1) {\n        invariant(Array.isArray(items), 'FlatList: Encountered internal consistency error, expected each item to consist of an ' + 'array with 1-%s columns; instead, received a single item.', numColumns);\n        return items.map((item, kk) => keyExtractor(item, index * numColumns + kk)).join(':');\n      }\n\n      // $FlowFixMe[incompatible-call] Can't call keyExtractor with an array\n      return keyExtractor(items, index);\n    };\n    this._renderer = (ListItemComponent, renderItem, columnWrapperStyle, numColumns, extraData\n    // $FlowFixMe[missing-local-annot]\n    ) => {\n      var cols = numColumnsOrDefault(numColumns);\n      var render = props => {\n        if (ListItemComponent) {\n          // $FlowFixMe[not-a-component] Component isn't valid\n          // $FlowFixMe[incompatible-type-arg] Component isn't valid\n          // $FlowFixMe[incompatible-return] Component isn't valid\n          return /*#__PURE__*/React.createElement(ListItemComponent, props);\n        } else if (renderItem) {\n          // $FlowFixMe[incompatible-call]\n          return renderItem(props);\n        } else {\n          return null;\n        }\n      };\n      var renderProp = info => {\n        if (cols > 1) {\n          var _item2 = info.item,\n            _index = info.index;\n          invariant(Array.isArray(_item2), 'Expected array of items with numColumns > 1');\n          return /*#__PURE__*/React.createElement(View, {\n            style: [styles.row, columnWrapperStyle]\n          }, _item2.map((it, kk) => {\n            var element = render({\n              // $FlowFixMe[incompatible-call]\n              item: it,\n              index: _index * cols + kk,\n              separators: info.separators\n            });\n            return element != null ? /*#__PURE__*/React.createElement(React.Fragment, {\n              key: kk\n            }, element) : null;\n          }));\n        } else {\n          return render(info);\n        }\n      };\n      return ListItemComponent ? {\n        ListItemComponent: renderProp\n      } : {\n        renderItem: renderProp\n      };\n    };\n    this._memoizedRenderer = memoizeOne(this._renderer);\n    this._checkProps(this.props);\n    if (this.props.viewabilityConfigCallbackPairs) {\n      this._virtualizedListPairs = this.props.viewabilityConfigCallbackPairs.map(pair => ({\n        viewabilityConfig: pair.viewabilityConfig,\n        onViewableItemsChanged: this._createOnViewableItemsChanged(pair.onViewableItemsChanged)\n      }));\n    } else if (this.props.onViewableItemsChanged) {\n      this._virtualizedListPairs.push({\n        /* $FlowFixMe[incompatible-call] (>=0.63.0 site=react_native_fb) This\n         * comment suppresses an error found when Flow v0.63 was deployed. To\n         * see the error delete this comment and run Flow. */\n        viewabilityConfig: this.props.viewabilityConfig,\n        onViewableItemsChanged: this._createOnViewableItemsChanged(this.props.onViewableItemsChanged)\n      });\n    }\n  }\n\n  // $FlowFixMe[missing-local-annot]\n  componentDidUpdate(prevProps) {\n    invariant(prevProps.numColumns === this.props.numColumns, 'Changing numColumns on the fly is not supported. Change the key prop on FlatList when ' + 'changing the number of columns to force a fresh render of the component.');\n    invariant(prevProps.onViewableItemsChanged === this.props.onViewableItemsChanged, 'Changing onViewableItemsChanged on the fly is not supported');\n    invariant(!deepDiffer(prevProps.viewabilityConfig, this.props.viewabilityConfig), 'Changing viewabilityConfig on the fly is not supported');\n    invariant(prevProps.viewabilityConfigCallbackPairs === this.props.viewabilityConfigCallbackPairs, 'Changing viewabilityConfigCallbackPairs on the fly is not supported');\n    this._checkProps(this.props);\n  }\n  // $FlowFixMe[missing-local-annot]\n  _checkProps(props) {\n    var getItem = props.getItem,\n      getItemCount = props.getItemCount,\n      horizontal = props.horizontal,\n      columnWrapperStyle = props.columnWrapperStyle,\n      onViewableItemsChanged = props.onViewableItemsChanged,\n      viewabilityConfigCallbackPairs = props.viewabilityConfigCallbackPairs;\n    var numColumns = numColumnsOrDefault(this.props.numColumns);\n    invariant(!getItem && !getItemCount, 'FlatList does not support custom data formats.');\n    if (numColumns > 1) {\n      invariant(!horizontal, 'numColumns does not support horizontal.');\n    } else {\n      invariant(!columnWrapperStyle, 'columnWrapperStyle not supported for single column lists');\n    }\n    invariant(!(onViewableItemsChanged && viewabilityConfigCallbackPairs), 'FlatList does not support setting both onViewableItemsChanged and ' + 'viewabilityConfigCallbackPairs.');\n  }\n  _pushMultiColumnViewable(arr, v) {\n    var _this$props$keyExtrac2;\n    var numColumns = numColumnsOrDefault(this.props.numColumns);\n    var keyExtractor = (_this$props$keyExtrac2 = this.props.keyExtractor) !== null && _this$props$keyExtrac2 !== void 0 ? _this$props$keyExtrac2 : defaultKeyExtractor;\n    v.item.forEach((item, ii) => {\n      invariant(v.index != null, 'Missing index!');\n      var index = v.index * numColumns + ii;\n      arr.push(_objectSpread(_objectSpread({}, v), {}, {\n        item,\n        key: keyExtractor(item, index),\n        index\n      }));\n    });\n  }\n  _createOnViewableItemsChanged(onViewableItemsChanged\n  // $FlowFixMe[missing-local-annot]\n  ) {\n    return info => {\n      var numColumns = numColumnsOrDefault(this.props.numColumns);\n      if (onViewableItemsChanged) {\n        if (numColumns > 1) {\n          var changed = [];\n          var viewableItems = [];\n          info.viewableItems.forEach(v => this._pushMultiColumnViewable(viewableItems, v));\n          info.changed.forEach(v => this._pushMultiColumnViewable(changed, v));\n          onViewableItemsChanged({\n            viewableItems,\n            changed\n          });\n        } else {\n          onViewableItemsChanged(info);\n        }\n      }\n    };\n  }\n\n  // $FlowFixMe[missing-local-annot]\n\n  render() {\n    var _this$props = this.props,\n      numColumns = _this$props.numColumns,\n      columnWrapperStyle = _this$props.columnWrapperStyle,\n      _removeClippedSubviews = _this$props.removeClippedSubviews,\n      _this$props$strictMod = _this$props.strictMode,\n      strictMode = _this$props$strictMod === void 0 ? false : _this$props$strictMod,\n      restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\n    var renderer = strictMode ? this._memoizedRenderer : this._renderer;\n    return (\n      /*#__PURE__*/\n      // $FlowFixMe[incompatible-exact] - `restProps` (`Props`) is inexact.\n      React.createElement(VirtualizedList, _extends({}, restProps, {\n        getItem: this._getItem,\n        getItemCount: this._getItemCount,\n        keyExtractor: this._keyExtractor,\n        ref: this._captureRef,\n        viewabilityConfigCallbackPairs: this._virtualizedListPairs,\n        removeClippedSubviews: removeClippedSubviewsOrDefault(_removeClippedSubviews)\n      }, renderer(this.props.ListItemComponent, this.props.renderItem, columnWrapperStyle, numColumns, this.props.extraData)))\n    );\n  }\n}\nvar styles = StyleSheet.create({\n  row: {\n    flexDirection: 'row'\n  }\n});\nexport default FlatList;","import { memo, ReactNode, RefObject, useCallback, useEffect, useRef, useState } from \"react\";\nimport {\n  AnimationStyles,\n  GestureResponderEvent,\n  Pressable,\n  ScrollView,\n  StyleSheet,\n  Text,\n  View,\n} from \"react-native\";\nimport { match, P } from \"ts-pattern\";\nimport {\n  Animation,\n  animations,\n  backgroundColor,\n  radii,\n  shadows,\n  spacings,\n} from \"../constants/design\";\nimport { useContextualLayer } from \"../hooks/useContextualLayer\";\nimport { useResponsive } from \"../hooks/useResponsive\";\nimport { noop } from \"../utils/function\";\nimport { BottomPanel } from \"./BottomPanel\";\nimport { FocusTrap } from \"./FocusTrap\";\nimport { Portal } from \"./Portal\";\nimport { TransitionView } from \"./TransitionView\";\n\ntype Props = {\n  children: ReactNode | ((state: { mode: \"dropdown\" | \"panel\" }) => ReactNode);\n  id?: string;\n  label?: string;\n  role?: \"listbox\" | \"combobox\" | \"dialog\";\n  describedBy?: string;\n  matchReferenceWidth?: boolean;\n  matchReferenceMinWidth?: boolean;\n  onDismiss?: () => void;\n  onEscapeKey?: () => void;\n  referenceRef: RefObject<View | Text>;\n  returnFocus?: boolean;\n  autoFocus?: boolean;\n  visible: boolean;\n  underlay?: boolean;\n  safetyMargin?: number;\n  forcedMode?: \"Dropdown\" | \"BottomPanel\";\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    ...StyleSheet.absoluteFillObject,\n    pointerEvents: \"none\",\n  },\n  defaultCursor: {\n    cursor: \"default\",\n  },\n  underlay: {\n    pointerEvents: \"auto\",\n    cursor: \"default\",\n    position: \"fixed\",\n    left: 0,\n    top: 0,\n    bottom: 0,\n    right: 0,\n  },\n  popoverContainer: {\n    position: \"absolute\",\n    display: \"flex\",\n  },\n  popover: {\n    pointerEvents: \"auto\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    backgroundColor: backgroundColor.accented,\n    borderRadius: radii[8],\n    marginVertical: spacings[8],\n    overflow: \"hidden\",\n    boxShadow: shadows.modal,\n    flexGrow: 1,\n    alignSelf: \"stretch\",\n  },\n  popoverContents: {\n    alignItems: \"stretch\",\n  },\n});\n\nconst animation: Animation = {\n  ...animations.fadeAndSlideInFromBottom,\n  leave: [\n    animations.fadeAndSlideInFromBottom.leave,\n    { animationDuration: \"100ms\" },\n  ] as unknown as AnimationStyles,\n};\n\nexport const VIEWPORT_WIDTH_THRESHOLD = 600;\n\nexport const Popover = memo<Props>(\n  ({\n    children,\n    id,\n    label,\n    role = \"dialog\",\n    describedBy,\n    matchReferenceWidth = false,\n    matchReferenceMinWidth = false,\n    onDismiss = noop,\n    onEscapeKey = onDismiss,\n    referenceRef,\n    returnFocus = true,\n    autoFocus = true,\n    visible,\n    underlay = true,\n    forcedMode,\n  }) => {\n    const [rootElement, setRootElement] = useState<Element | null>(null);\n    const underlayRef = useRef<View | null>(null);\n    const { desktop } = useResponsive(VIEWPORT_WIDTH_THRESHOLD);\n\n    const { position } = useContextualLayer({\n      referenceRef,\n      visible,\n      matchReferenceWidth,\n      matchReferenceMinWidth,\n    });\n\n    useEffect(() => {\n      const element = underlayRef.current as unknown as HTMLElement | null;\n      if (!visible && element != null) {\n        element.style.pointerEvents = \"none\";\n      }\n    }, [visible]);\n\n    useEffect(() => {\n      const element = document.createElement(\"div\");\n      document.body.append(element);\n      setRootElement(element);\n      return () => {\n        setRootElement(null);\n        element.remove();\n      };\n    }, []);\n\n    const onPressUnderlay = useCallback(\n      (event: GestureResponderEvent) => {\n        event.preventDefault();\n        onDismiss();\n      },\n      [onDismiss],\n    );\n\n    const onClickOutside = useCallback(\n      ({ target }: MouseEvent | TouchEvent) => {\n        const ref = referenceRef.current;\n        if (\n          !(ref instanceof Element) ||\n          !(target instanceof Element) ||\n          (ref !== target && !ref.contains(target))\n        ) {\n          onDismiss();\n        }\n      },\n      [referenceRef, onDismiss],\n    );\n\n    const onPress = useCallback((event: GestureResponderEvent) => {\n      event.preventDefault();\n    }, []);\n\n    if (rootElement == null) {\n      return null;\n    }\n\n    const mode = match(forcedMode)\n      .with(P.nullish, () => (desktop ? \"Dropdown\" : \"BottomPanel\"))\n      .with(\"BottomPanel\", () => \"BottomPanel\" as const)\n      .with(\"Dropdown\", () => \"Dropdown\" as const)\n      .exhaustive();\n\n    if (mode === \"BottomPanel\") {\n      return (\n        <BottomPanel visible={visible} onPressClose={onDismiss} returnFocus={false}>\n          {typeof children == \"function\" ? children({ mode: \"panel\" }) : children}\n        </BottomPanel>\n      );\n    }\n\n    return (\n      <Portal container={rootElement}>\n        {visible && underlay ? (\n          <Pressable\n            ref={underlayRef}\n            style={styles.underlay}\n            onPress={onPressUnderlay}\n            aria-label=\"Close\"\n          />\n        ) : null}\n\n        <TransitionView style={styles.container} {...animation}>\n          {position.isSome() ? (\n            <View style={position.get().rootStyle}>\n              <View\n                style={[\n                  styles.popoverContainer,\n                  position.get().style,\n                  {\n                    alignItems: match(position.get().horizontalPosition)\n                      .with(\"left\", () => \"flex-start\" as const)\n                      .with(\"center\", () => \"center\" as const)\n                      .with(\"right\", () => \"flex-end\" as const)\n                      .exhaustive(),\n                  },\n                ]}\n              >\n                <ScrollView\n                  style={styles.popover}\n                  contentContainerStyle={styles.popoverContents}\n                  id={id}\n                  role={role}\n                  aria-describedby={describedBy}\n                  aria-label={label}\n                >\n                  <FocusTrap\n                    focusLock={true}\n                    returnFocus={returnFocus}\n                    autoFocus={autoFocus}\n                    onEscapeKey={onEscapeKey}\n                    onClickOutside={underlay ? undefined : onClickOutside}\n                  >\n                    <Pressable tabIndex={-1} onPress={onPress} style={styles.defaultCursor}>\n                      {typeof children == \"function\" ? children({ mode: \"dropdown\" }) : children}\n                    </Pressable>\n                  </FocusTrap>\n                </ScrollView>\n              </View>\n            </View>\n          ) : null}\n        </TransitionView>\n      </Portal>\n    );\n  },\n);\n"],"names":["Platform","obj","deepDiffer","one","two","maxDepth","len","ii","key","twoKey","_arrayLikeToArray","r","a","e","n","_unsupportedIterableToArray","arrayLikeToArray","_createForOfIteratorHelperLoose","unsupportedIterableToArray","o","_excluded","RefreshControl","props","rest","_objectWithoutPropertiesLoose","React","View","TaskQueue","_ref","onMoreTasks","task","tasks","tasksToCancel","queue","_objectSpread","idx","invariant","stackIdx","length","stackItem","ex","EventEmitter","eventType","listener","context","registrations","allocate","registration","_len","args","_key","_i","_arr","registry","_requestIdleCallback","cb","options","start","isSupported","canUseDOM","requestIdleCallback","_emitter","InteractionManager","promise","resolve","_scheduleUpdate","_taskQueue","handle","_inc","_addInteractionSet","_deleteInteractionSet","deadline","_deadline","_interactionSet","_nextUpdateHandle","_processUpdate","interactionCount","nextInteractionCount","begin","Batchinator","callback","delayMS","timeoutHandle","clamp","min","value","max","infoLog","CellRenderMask","numCells","cells","_this$_findRegion","firstIntersect","firstIntersectIdx","_this$_findRegion2","lastIntersect","lastIntersectIdx","newLeadRegion","newTailRegion","newMainRegion","replacementRegions","numRegionsToDelete","other","region","i","cellIdx","firstIdx","lastIdx","middleIdx","middleRegion","ChildListCollection","list","cellKey","_this$_cellKeyToChild","cellLists","fn","_iterator","_step","listSet","_iterator2","_step2","_this$_cellKeyToChild2","_iterator3","_step3","_this$_cellKeyToChild3","_iterator4","_step4","Info","_listeners","_minSampleCount","_sampleRate","FillRateHelper","sampleRate","minSampleCount","getFrameMetrics","total_time_spent","info","cellsAroundViewport","scrollMetrics","dOffset","offset","velocity","visibleLength","scrollSpeed","now","blankTop","first","firstFrame","blankBottom","last","lastFrame","bottomEdge","pixels_blank","blankness","StateSafePureComponent","React.PureComponent","partialState","state","ret","err","that","newProps","newState","ViewabilityHelper","config","scrollOffset","viewportHeight","renderRange","itemCount","_this$_config","itemVisiblePercentThreshold","viewAreaCoveragePercentThreshold","viewAreaMode","viewablePercentThreshold","viewableIndices","firstVisible","metrics","top","bottom","_isViewable","createViewToken","onViewableItemsChanged","v","viewableIndicesToCheck","prevItems","nextItems","viewable","changed","_step$value","_step2$value","_viewable","itemLength","_isEntirelyVisible","pixels","_getPixelsVisible","percent","visibleHeight","VirtualizedListContext","React.createContext","VirtualizedListContextProvider","_ref2","children","useMemo","React.createElement","VirtualizedListCellContextProvider","_ref3","currContext","useContext","CellRenderer","React.Component","_this$props","prevCellKey","_this$props2","select","_this$props3","nativeEvent","prevState","renderItem","ListItemComponent","item","index","_this$props4","CellRendererComponent","ItemSeparatorComponent","horizontal","inversionStyle","onCellFocusCapture","onCellLayout","element","itemSeparator","React.isValidElement","cellStyle","styles","result","_extends","StyleSheet","elementsThatOverlapOffsets","offsets","zoomScale","offsetIndex","currentOffset","left","right","mid","frame","scaledOffsetStart","scaledOffsetEnd","newRangeCount","prev","next","computeWindowedRenderLimits","maxToRenderPerBatch","windowSize","getFrameMetricsApprox","_scrollMetrics$zoomSc","visibleBegin","visibleEnd","overscanLength","leadFactor","fillPreference","overscanBegin","overscanEnd","lastItemOffset","_elementsThatOverlapO","overscanFirst","overscanLast","visible","newCellCount","maxNewCells","firstWillAddMore","firstShouldIncrement","lastWillAddMore","lastShouldIncrement","keyExtractor","nullthrows","x","message","error","nullthrowsModule","ON_EDGE_REACHED_EPSILON","_usedIndexForKey","_keylessItemComponentName","horizontalOrDefault","initialNumToRenderOrDefault","initialNumToRender","maxToRenderPerBatchOrDefault","onStartReachedThresholdOrDefault","onStartReachedThreshold","onEndReachedThresholdOrDefault","onEndReachedThreshold","getScrollingThreshold","threshold","scrollEventThrottleOrDefault","scrollEventThrottle","windowSizeOrDefault","findLastWhere","arr","predicate","VirtualizedList","params","animated","veryLast","data","getItemCount","getItemLayout","onScrollToIndexFailed","viewOffset","viewPosition","getItem","_index","childList","t","_this$context","_props","_this$props$updateCel","keys","ref","isVertical","onRefresh","_props$refreshing","ScrollView","layout","curr","width","height","contentLength","timestamp","_this$_convertParentS","dt","tuple","renderMask","isViewable","frameMetrics","remainder","lastFocusedCellRenderer","focusedCellIndex","heightOfCellsBeforeFocused","heightOfCellsAfterFocused","pair","viewabilityConfig","initialRenderRegion","ev","scrollLength","clientLength","isEventTargetScrollable","delta","leftoverDelta","targetDelta","node","nextScrollLeft","nextScrollTop","onScroll","initialScrollIndex","additionalRegions","allRegions","_i2","_allRegions","initialRegion","stickyIndicesSet","_props$initialScrollI","firstCellIndex","lastCellIndex","stickyOffset","itemIdx","_this$_scrollMetrics","distanceFromEnd","newCellsAroundViewport","renderAhead","childIdx","cellKeyForIndex","constrainedCells","stickyHeaderIndices","stickyIndicesFromProps","_this","ListHeaderComponent","debug","end","_loop","shouldListenForLayout","nestedContext","defaultKeyExtractor","_this$props5","ListEmptyComponent","ListFooterComponent","_this$props6","_element","_element2","React.cloneElement","event","spacerKey","renderRegions","lastSpacer","section","isLastSpacer","constrainToMeasured","firstMetrics","lastMetrics","spacerSize","_element3","scrollProps","innerRet","prevProps","_this$props7","extraData","hiPriInProgress","y","metricsChanged","normalize","framesInLayout","windowTop","frameLast","windowLen","visTop","visLen","f","_this$props8","onStartReached","onEndReached","_this$_scrollMetrics2","distanceFromStart","DEFAULT_THRESHOLD_PX","startThreshold","endThreshold","isWithinStartThreshold","isWithinEndThreshold","_this$state$cellsArou","_this$_scrollMetrics3","hiPri","distTop","distBottom","safeIsNaN","isEqual","second","areInputsEqual","newInputs","lastInputs","memoizeOne","resultFn","cache","memoized","newArgs","lastResult","removeClippedSubviewsOrDefault","removeClippedSubviews","numColumnsOrDefault","numColumns","isArrayLike","FlatList","kk","itemIndex","_item","items","_this$props$keyExtrac","columnWrapperStyle","cols","render","renderProp","_item2","it","React.Fragment","viewabilityConfigCallbackPairs","_this$props$keyExtrac2","viewableItems","_removeClippedSubviews","_this$props$strictMod","strictMode","restProps","renderer","backgroundColor","radii","spacings","shadows","animation","animations","VIEWPORT_WIDTH_THRESHOLD","Popover","memo","id","label","role","describedBy","matchReferenceWidth","matchReferenceMinWidth","onDismiss","noop","onEscapeKey","referenceRef","returnFocus","autoFocus","underlay","forcedMode","rootElement","setRootElement","useState","underlayRef","useRef","desktop","useResponsive","position","useContextualLayer","useEffect","onPressUnderlay","useCallback","onClickOutside","target","onPress","match","P","BottomPanel","jsxs","Portal","jsx","Pressable","TransitionView","FocusTrap"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]}