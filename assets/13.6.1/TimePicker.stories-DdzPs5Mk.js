import{R as Q,k as X,j as n,B as R,L as H,c as v,I as O,i as _,g as N,p as c,V as $,S as D,s as U}from"./ScrollView-CcIGNm4K.js";import{r as T}from"./iframe-Do3O1IWX.js";import{R as Z}from"./rifm.esm-2YonS-Wz.js";import{n as ee}from"./function-Df4mETnr.js";import{g as te}from"./rifm-BXzmu_Y4.js";import{F as re}from"./Fill-BZJMjkw0.js";import{L as ne}from"./LakeCombobox-CrzZtfhC.js";import{L as F}from"./LakeLabel-BbgmO5_v.js";import{S as z,a as W}from"./_StoriesComponents-DW759M3c.js";import"./index-C9ugfnLP.js";import"./preload-helper-D1IIBeq1.js";import"./Pressable-Bj74Kzq-.js";import"./FocusTrap-6YpJ5E2A.js";import"./array-BfAlyugE.js";import"./Popover-B_avZPKV.js";import"./useResponsive-D70rn8K8.js";import"./BottomPanel-hgjM-9dW.js";import"./commonStyles-BBEkV6IC.js";import"./useBodyClassName-C8Wy9VVG.js";import"./Suspendable-DFaxgPsb.js";import"./index-D5BqBGlF.js";import"./extends-CF3RwP-h.js";import"./TransitionView-XZak4qny.js";import"./index-BWxOZfMx.js";import"./LakeTextInput-5NEnuH7s.js";import"./LakeSelect-55WkI0Vn.js";import"./useDisclosure-D-yKdQsx.js";import"./Separator-dwUC6aX6.js";import"./index-DNq7kjEu.js";import"./v4-EwEgHOG0.js";const E=U.create({label:{flex:1},arrowContainer:{height:40}}),ie={hour:0,minute:0},se={hour:23,minute:59},Y=15,ae=te({accept:"numeric",charMap:{2:":"},maxLength:4}),V=e=>{const[t,r]=e.split(":").map(Number);return _(t)||Number.isNaN(t)||_(r)||Number.isNaN(r)?c.None():c.Some({hour:t,minute:r})},oe=e=>{const t=N(e.start)?V(e.start):c.None(),r=N(e.end)?V(e.end):c.None();return{start:t,end:r}},ue=e=>{const[t,r]=e.split(":");if(_(t)||t?.length!==2||N(r))return c.None();const i=Number(t);return i<0||i>23?c.None():Number.isNaN(i)?c.None():c.Some(i)},w=e=>`${e.hour.toString().padStart(2,"0")}:${e.minute.toString().padStart(2,"0")}`,a=e=>e.hour*60+e.minute,p=e=>({hour:Math.floor(e/60),minute:e%60}),me=(e,t)=>p(a(e)+t),le=(e,t)=>{const r=a(e),i=Math.floor(r/t)*t;return p(i)},ce=(e,t)=>a(e)<a(t),de=e=>e.start.isNone()||e.end.isNone()?!0:ce(e.start.value,e.end.value),pe=(...e)=>{const t=e.map(a),r=Math.min(...t);return p(r)},ge=(...e)=>{const t=e.map(a),r=Math.max(...t);return p(r)},fe=(e,t,r)=>{const i=a(e),o=a(t),l=[];for(let u=i;u<=o;u+=r){const g=p(u);l.push(g)}return l},ye=(e,t,r)=>e.hour===0?`${e.minute} ${t}`:e.minute===0?`${e.hour} ${r}`:`${e.hour} ${r} ${e.minute} ${t}`,b=({value:e,onChangeText:t,suggestionStart:r=ie,suggestionEnd:i=se,intervalInMinutes:o=Y,nbMaxSuggestions:l,suggestionSuffix:u,readOnly:g,disabled:j,error:q,hideErrors:L,noSuggestionLabel:x})=>{const d=ue(e??""),f=T.useMemo(()=>d.match({Some:m=>[ge({hour:m,minute:0},r),pe({hour:m,minute:59},i)],None:()=>[r,i]}),[d,r,i]),S=T.useMemo(()=>fe(f[0],f[1],o).slice(0,l),[f,o,l]),s=T.useMemo(()=>Q.Done(X.Ok(S)),[S]);return n.jsx(Z,{value:e??"",onChange:t,...ae,children:({value:m,onChange:I})=>n.jsx(ne,{keyExtractor:w,placeholder:"HH:MM",value:m,items:s,itemHeight:40,nbItemsDisplayed:4.5,renderItem:k=>{const M=w(k),P=M===m,C=u?.(k),K=N(C)?`${M} ${C}`:M;return n.jsxs(R,{direction:"row",alignItems:"center",children:[n.jsx(H,{color:P?v.gray[700]:v.gray[900],variant:P?"smallRegular":"medium",children:K}),n.jsx(re,{minWidth:8}),P&&n.jsx(O,{name:"checkmark-filled",color:v.positive[500],size:16})]})},readOnly:g,disabled:j,error:q,hideErrors:L,emptyResult:x,onChange:I,onValueChange:ee,onSelectItem:k=>t(w(k))})})},G=({value:e,onChange:t,intervalInMinutes:r=Y,nbMaxSuggestions:i,readOnly:o,disabled:l,error:u,startLabel:g,endLabel:j,minutesLabel:q,hoursLabel:L,noSuggestionLabel:x})=>{const d=V(e.start??""),f=s=>{t({start:s,end:e.end})},S=s=>{t({start:e.start,end:s})};return n.jsxs($,{children:[n.jsxs(R,{direction:"row",alignItems:"end",children:[n.jsx(F,{label:g,style:E.label,render:()=>n.jsx(b,{value:e.start,intervalInMinutes:r,nbMaxSuggestions:i,error:u,hideErrors:!0,disabled:l,readOnly:o,noSuggestionLabel:x,onChangeText:f})}),n.jsx(D,{width:12}),n.jsx(R,{style:E.arrowContainer,justifyContent:"center",children:n.jsx(O,{name:"arrow-right-filled",size:20})}),n.jsx(D,{width:12}),n.jsx(F,{label:j,style:E.label,render:()=>n.jsx(b,{value:e.end,intervalInMinutes:r,nbMaxSuggestions:i,suggestionStart:d.map(s=>le(s,r)).map(s=>me(s,r)).match({Some:s=>s,None:()=>{}}),suggestionSuffix:s=>{if(d.isNone())return"";const m=a(s)-a(d.value);if(m>0&&m<=60){const I=p(m);return`(${ye(I,q,L)})`}return""},error:u,hideErrors:!0,disabled:l,readOnly:o,noSuggestionLabel:x,onChangeText:S})})]}),n.jsx(D,{height:4}),n.jsx(H,{variant:"smallRegular",color:v.negative[500],children:u??" "})]})};b.__docgenInfo={description:"",methods:[],displayName:"TimePicker",props:{value:{required:!1,tsType:{name:"string"},description:""},onChangeText:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},suggestionStart:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  hour: number;
  minute: number;
}`,signature:{properties:[{key:"hour",value:{name:"number",required:!0}},{key:"minute",value:{name:"number",required:!0}}]}},description:"",defaultValue:{value:"{ hour: 0, minute: 0 }",computed:!1}},suggestionEnd:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  hour: number;
  minute: number;
}`,signature:{properties:[{key:"hour",value:{name:"number",required:!0}},{key:"minute",value:{name:"number",required:!0}}]}},description:"",defaultValue:{value:"{ hour: 23, minute: 59 }",computed:!1}},intervalInMinutes:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"15",computed:!1}},nbMaxSuggestions:{required:!1,tsType:{name:"number"},description:""},suggestionSuffix:{required:!1,tsType:{name:"signature",type:"function",raw:"(option: Time) => string",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  hour: number;
  minute: number;
}`,signature:{properties:[{key:"hour",value:{name:"number",required:!0}},{key:"minute",value:{name:"number",required:!0}}]}},name:"option"}],return:{name:"string"}}},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},error:{required:!1,tsType:{name:"string"},description:""},hideErrors:{required:!1,tsType:{name:"boolean"},description:""},noSuggestionLabel:{required:!0,tsType:{name:"string"},description:""}}};G.__docgenInfo={description:"",methods:[],displayName:"TimeRangePicker",props:{value:{required:!0,tsType:{name:"signature",type:"object",raw:"{ start?: string; end?: string }",signature:{properties:[{key:"start",value:{name:"string",required:!1}},{key:"end",value:{name:"string",required:!1}}]}},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: { start?: string; end?: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ start?: string; end?: string }",signature:{properties:[{key:"start",value:{name:"string",required:!1}},{key:"end",value:{name:"string",required:!1}}]}},name:"value"}],return:{name:"void"}}},description:""},intervalInMinutes:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"15",computed:!1}},nbMaxSuggestions:{required:!1,tsType:{name:"number"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},error:{required:!1,tsType:{name:"string"},description:""},startLabel:{required:!0,tsType:{name:"string"},description:""},endLabel:{required:!0,tsType:{name:"string"},description:""},minutesLabel:{required:!0,tsType:{name:"string"},description:""},hoursLabel:{required:!0,tsType:{name:"string"},description:""},noSuggestionLabel:{required:!0,tsType:{name:"string"},description:""}}};const J=U.create({container:{maxWidth:430}}),A=new Date;A.setDate(A.getDate()-15);const B=new Date;B.setDate(B.getDate()+15);const Je={title:"Forms/TimePicker",component:b},he=e=>{const[t,r]=T.useState();return n.jsx(b,{...e,value:t,onChangeText:r})},Te=e=>{const[t,r]=T.useState({}),i=oe(t),o=de(i)?void 0:"Start time must be before end time";return n.jsx(G,{...e,value:t,onChange:r,error:o})},y=()=>n.jsx(z,{title:"TimePicker",children:n.jsx(W,{title:"Default",children:n.jsx($,{style:J.container,children:n.jsx(he,{noSuggestionLabel:"No time available"})})})}),h=()=>n.jsx(z,{title:"TimeRangePicker",children:n.jsx(W,{title:"Default",children:n.jsx($,{style:J.container,children:n.jsx(Te,{startLabel:"Start",endLabel:"End",minutesLabel:"Mins",hoursLabel:"Hours",noSuggestionLabel:"No time available",intervalInMinutes:15})})})});y.__docgenInfo={description:"",methods:[],displayName:"Default"};h.__docgenInfo={description:"",methods:[],displayName:"RangePicker"};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:`() => {
  return <StoryBlock title="TimePicker">
      <StoryPart title="Default">
        <View style={styles.container}>
          <InteractiveTimePicker noSuggestionLabel="No time available" />
        </View>
      </StoryPart>
    </StoryBlock>;
}`,...y.parameters?.docs?.source}}};h.parameters={...h.parameters,docs:{...h.parameters?.docs,source:{originalSource:`() => {
  return <StoryBlock title="TimeRangePicker">
      <StoryPart title="Default">
        <View style={styles.container}>
          <InteractiveTimeRangePicker startLabel="Start" endLabel="End" minutesLabel="Mins" hoursLabel="Hours" noSuggestionLabel="No time available" intervalInMinutes={15} />
        </View>
      </StoryPart>
    </StoryBlock>;
}`,...h.parameters?.docs?.source}}};const Ke=["Default","RangePicker"];export{y as Default,h as RangePicker,Ke as __namedExportsOrder,Je as default};
//# sourceMappingURL=TimePicker.stories-DdzPs5Mk.js.map
