{"version":3,"mappings":"wlBAWA,MAAAA,EAAA,OAEA,IAAAC,EAEA,MAAAC,EAAAC,EAAA,UACA,cAAAC,CAAA,QAAAC,EAAA,sCACA,OAAAJ,EAAAG,EACAA,CACA,GAkBAE,EAAAC,GAAA,CACA,MAAAC,EAAA,SAAAD,IAAA,KAAAE,EAAAF,EAAA,MACAG,EAAAH,EAAA,UAEA,CAAAI,EAAAC,CAAA,EAAAC,WAAAZ,CAAA,EAEAa,YAAA,KACAb,GAAA,MACAC,EAAA,WAAAU,CAAA,CAEA,MAEA,MAAAG,EAAAC,UAAA,IACAC,EAAAT,CAAA,EACA,cAAAU,EAAA,SACA,cACA,IAAAlB,EAAAQ,EAAA,gCAAAR,EAAAQ,EAAA,6BACA,EACA,CAAAA,CAAA,GAGA,OAAAW,EAAA,IAAAC,GAAA,kCAAAV,EAAA,MAAAA,CAAA,EACA,SAAAC,GAAA,MAAAI,GAAA,KAAAI,MAAAE,EAAA,cAAAV,CAAA,IAAAI,CAAA,SACA,EAEA","names":["UNICODE_OFFSET","svgUrl","svgUrlGetter","Lazy","value","__vitePreload","Flag","props","code","getCCA2forCCA3","width","url","setUrl","useState","useEffect","flag","useMemo","match","getFlagGlyphName","jsx","Svg","Use"],"ignoreList":[],"sources":["../../../packages/lake/src/components/Flag.tsx"],"sourcesContent":["import { Lazy } from \"@swan-io/boxed\";\nimport {\n  CountryCCA2,\n  CountryCCA3,\n  getCCA2forCCA3,\n} from \"@swan-io/shared-business/src/constants/countries\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { match } from \"ts-pattern\";\nimport { getFlagGlyphName } from \"../utils/string\";\nimport { Svg, Use } from \"./Svg\";\n\nconst UNICODE_OFFSET = 127462 - 65;\n\nlet svgUrl: string | undefined;\n\nconst svgUrlGetter = Lazy(async () => {\n  const { default: value } = await import(\"../assets/images/flags.svg\");\n  svgUrl = value;\n  return value;\n});\n\nexport type FlagCode = CountryCCA2 | \"EU\";\n\ntype Props = {\n  width?: number;\n} & (\n  | {\n      /**\n       * @deprecated Use cca2 prop instead\n       */\n      icon: CountryCCA3;\n    }\n  | {\n      code: FlagCode;\n    }\n);\n\nexport const Flag = (props: Props) => {\n  const code = \"code\" in props ? props.code : getCCA2forCCA3(props.icon);\n  const width = props.width ?? 18;\n\n  const [url, setUrl] = useState(svgUrl);\n\n  useEffect(() => {\n    if (svgUrl == null) {\n      void svgUrlGetter.get().then(setUrl);\n    }\n  }, []);\n\n  const flag = useMemo(() => {\n    return match(code)\n      .with(\"EU\", () => getFlagGlyphName(\"ðŸ‡ªðŸ‡º\"))\n      .otherwise(() => {\n        return `${(UNICODE_OFFSET + code.charCodeAt(0)).toString(16)}-${(UNICODE_OFFSET + code.charCodeAt(1)).toString(16)}`;\n      });\n  }, [code]);\n\n  return (\n    <Svg viewBox=\"0 0 18 18\" style={{ height: width, width }}>\n      {url != null && flag != null ? <Use xlinkHref={`${url}#${flag}`} /> : null}\n    </Svg>\n  );\n};\n"],"file":"assets/8.10.3/Flag.stories-Z0Jj9TG5.js"}