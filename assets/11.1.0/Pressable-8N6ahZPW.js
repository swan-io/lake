import{j as se}from"./jsx-runtime-BlAj40OV.js";import{r as P}from"./index-Cs7sjTYM.js";import{ah as K,ai as W,s as re,y as ne,z as ae,V as ie,T as oe}from"./ScrollView-DAMcnhPN.js";import{g as B}from"./_commonjsHelpers-BosuxZz1.js";const q=S=>{const[E,v]=P.useState(!1);return[E||S,v]};var $={exports:{}},j={exports:{}};(function(S,E){var v=K.default;E.__esModule=!0,E.default=c,v(P);function c(){for(var d=arguments.length,i=new Array(d),_=0;_<d;_++)i[_]=arguments[_];return function(f){i.forEach(o=>{if(o!=null){if(typeof o=="function"){o(f);return}if(typeof o=="object"){o.current=f;return}console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(o))}})}}S.exports=E.default})(j,j.exports);var le=j.exports;(function(S,E){var v=W.default,c=K.default;E.__esModule=!0,E.default=_;var d=c(P),i=v(le);function _(){for(var R=arguments.length,f=new Array(R),o=0;o<R;o++)f[o]=arguments[o];return d.useMemo(()=>(0,i.default)(...f),[...f])}S.exports=E.default})($,$.exports);var ue=$.exports;const Ee=B(ue),ce=Ee;var F={exports:{}},U={exports:{}};(function(S,E){E.__esModule=!0,E.default=void 0;var v="DELAY",c="ERROR",d="LONG_PRESS_DETECTED",i="NOT_RESPONDER",_="RESPONDER_ACTIVE_LONG_PRESS_START",R="RESPONDER_ACTIVE_PRESS_START",f="RESPONDER_INACTIVE_PRESS_START",o="RESPONDER_GRANT",p="RESPONDER_RELEASE",m="RESPONDER_TERMINATED",N=Object.freeze({NOT_RESPONDER:{DELAY:c,RESPONDER_GRANT:f,RESPONDER_RELEASE:c,RESPONDER_TERMINATED:c,LONG_PRESS_DETECTED:c},RESPONDER_INACTIVE_PRESS_START:{DELAY:R,RESPONDER_GRANT:c,RESPONDER_RELEASE:i,RESPONDER_TERMINATED:i,LONG_PRESS_DETECTED:c},RESPONDER_ACTIVE_PRESS_START:{DELAY:c,RESPONDER_GRANT:c,RESPONDER_RELEASE:i,RESPONDER_TERMINATED:i,LONG_PRESS_DETECTED:_},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:c,RESPONDER_GRANT:c,RESPONDER_RELEASE:i,RESPONDER_TERMINATED:i,LONG_PRESS_DETECTED:_},ERROR:{DELAY:i,RESPONDER_GRANT:f,RESPONDER_RELEASE:i,RESPONDER_TERMINATED:i,LONG_PRESS_DETECTED:i}}),I=n=>n.getAttribute("role"),L=n=>n.tagName.toLowerCase(),y=n=>n===R||n===_,O=n=>I(n)==="button",b=n=>n===f||n===R||n===_,H=n=>n===m||n===p,x=n=>{var t=n.key,u=n.target,l=t===" "||t==="Spacebar",e=L(u)==="button"||O(u);return t==="Enter"||l&&e},G=450,C=50;class V{constructor(t){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=i,this._responderElement=null,this.configure(t)}configure(t){this._config=t}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return this._eventHandlers==null&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var t=(e,s)=>{e.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=i,this._isPointerTouch=e.nativeEvent.type==="touchstart",this._receiveSignal(o,e);var r=M(this._config.delayPressStart,0,C);s!==!1&&r>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(v,e)},r):this._receiveSignal(v,e);var a=M(this._config.delayLongPress,10,G);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(e)},a+r)},u=e=>{this._receiveSignal(p,e)},l=e=>{var s=this._config.onPress,r=e.target;if(this._touchState!==i&&x(e)){u(e),document.removeEventListener("keyup",l);var a=r.getAttribute("role"),h=L(r),g=a==="link"||h==="a"||h==="button"||h==="input"||h==="select"||h==="textarea",D=this._responderElement===r;s!=null&&!g&&D&&s(e),this._responderElement=null}};return{onStartShouldSetResponder:e=>{var s=this._config.disabled;return s&&O(e.currentTarget)&&e.stopPropagation(),s==null?!0:!s},onKeyDown:e=>{var s=this._config.disabled,r=e.key,a=e.target;if(!s&&x(e)){this._touchState===i&&(t(e,!1),this._responderElement=a,document.addEventListener("keyup",l));var h=r===" "||r==="Spacebar",g=I(a),D=g==="button"||g==="menuitem";h&&D&&L(a)!=="button"&&e.preventDefault(),e.stopPropagation()}},onResponderGrant:e=>t(e),onResponderMove:e=>{this._config.onPressMove!=null&&this._config.onPressMove(e);var s=w(e);if(this._touchActivatePosition!=null){var r=this._touchActivatePosition.pageX-s.pageX,a=this._touchActivatePosition.pageY-s.pageY;Math.hypot(r,a)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:e=>u(e),onResponderTerminate:e=>{e.nativeEvent.type==="selectionchange"&&(this._selectionTerminated=!0),this._receiveSignal(m,e)},onResponderTerminationRequest:e=>{var s=this._config,r=s.cancelable,a=s.disabled,h=s.onLongPress;return!a&&h!=null&&this._isPointerTouch&&e.nativeEvent.type==="contextmenu"?!1:r??!0},onClick:e=>{var s=this._config,r=s.disabled,a=s.onPress;r?O(e.currentTarget)&&e.stopPropagation():(e.stopPropagation(),this._longPressDispatched||this._selectionTerminated?e.preventDefault():a!=null&&e.altKey===!1&&a(e))},onContextMenu:e=>{var s=this._config,r=s.disabled,a=s.onLongPress;r?O(e.currentTarget)&&e.stopPropagation():a!=null&&this._isPointerTouch&&!e.defaultPrevented&&(e.preventDefault(),e.stopPropagation())}}}_receiveSignal(t,u){var l=this._touchState,e=null;N[l]!=null&&(e=N[l][t]),!(this._touchState===i&&t===p)&&(e==null||e===c?console.error("PressResponder: Invalid signal "+t+" for state "+l+" on responder"):l!==e&&(this._performTransitionSideEffects(l,e,t,u),this._touchState=e))}_performTransitionSideEffects(t,u,l,e){if(H(l)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),b(t)&&l===d){var s=this._config.onLongPress;s!=null&&e.nativeEvent.key==null&&(s(e),this._longPressDispatched=!0)}var r=y(t),a=y(u);if(!r&&a?this._activate(e):r&&!a&&this._deactivate(e),b(t)&&l===p){var h=this._config,g=h.onLongPress,D=h.onPress;if(D!=null){var A=g!=null&&t===_;A||!a&&!r&&(this._activate(e),this._deactivate(e))}}this._cancelPressDelayTimeout()}_activate(t){var u=this._config,l=u.onPressChange,e=u.onPressStart,s=w(t);this._touchActivatePosition={pageX:s.pageX,pageY:s.pageY},e!=null&&e(t),l!=null&&l(!0)}_deactivate(t){var u=this._config,l=u.onPressChange,e=u.onPressEnd;function s(){e!=null&&e(t),l!=null&&l(!1)}var r=M(this._config.delayPressEnd);r>0?this._pressOutDelayTimeout=setTimeout(()=>{s()},r):s()}_handleLongPress(t){(this._touchState===R||this._touchState===_)&&this._receiveSignal(d,t)}_cancelLongPressDelayTimeout(){this._longPressDelayTimeout!=null&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){this._pressDelayTimeout!=null&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){this._pressOutDelayTimeout!=null&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}E.default=V;function M(n,t,u){return t===void 0&&(t=0),u===void 0&&(u=0),Math.max(t,n??u)}function w(n){var t=n.nativeEvent,u=t.changedTouches,l=t.touches;return l!=null&&l.length>0?l[0]:u!=null&&u.length>0?u[0]:n.nativeEvent}S.exports=E.default})(U,U.exports);var _e=U.exports;(function(S,E){var v=W.default;E.__esModule=!0,E.default=i;var c=v(_e),d=P;function i(_,R){var f=(0,d.useRef)(null);f.current==null&&(f.current=new c.default(R));var o=f.current;return(0,d.useEffect)(()=>{o.configure(R)},[R,o]),(0,d.useEffect)(()=>()=>{o.reset()},[o]),(0,d.useDebugValue)(R),o.getEventHandlers()}S.exports=E.default})(F,F.exports);var fe=F.exports;const Re=B(fe),de=Re,z=re.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{cursor:"not-allowed"}}),J=(S,E={})=>{const{applyPressStyle:v=!0}=E;return P.forwardRef((c,d)=>{const{children:i,delayLongPress:_,delayPressIn:R,delayPressOut:f,disabled:o=!1,onBlur:p,onContextMenu:m,onFocus:N,onHoverIn:I,onHoverOut:L,onKeyDown:y,onLongPress:O,onPress:b,onPressIn:H,onPressMove:x,onPressOut:G,style:C,tabIndex:V,testOnly_hovered:M,testOnly_pressed:w,...n}=c,[t,u]=q(M===!0),[l,e]=q(!1),[s,r]=q(w===!0),a=P.useRef(null),h=ce(d,a),g=P.useMemo(()=>({delayLongPress:_,delayPressStart:R,delayPressEnd:f,disabled:o,onLongPress:O,onPress:b,onPressChange:r,onPressStart:H,onPressMove:x,onPressEnd:G}),[_,R,f,o,O,b,H,x,G,r]),D=de(a,g),{onContextMenu:A,onKeyDown:Y}=D;ne(a,{disabled:o,onHoverChange:u,onHoverStart:I,onHoverEnd:L});const X={hovered:t,focused:l,pressed:s},Q=P.useCallback(T=>{T.nativeEvent.target===a.current&&(e(!1),p==null||p(T))},[a,e,p]),Z=P.useCallback(T=>{T.nativeEvent.target===a.current&&(e(!0),N==null||N(T))},[a,e,N]),ee=P.useCallback(T=>{A==null||A(T),m==null||m(T)},[m,A]),te=P.useCallback(T=>{Y==null||Y(T),y==null||y(T)},[y,Y]);let k;return V!==void 0?k=V:k=o?-1:0,se.jsx(S,{...n,...D,"aria-disabled":o,onBlur:Q,onContextmenu:ee,onFocus:Z,onKeyDown:te,ref:h,style:[ae({disabled:o,applyPressStyle:v}).with({disabled:!1,applyPressStyle:!0},()=>z.active).with({disabled:!0},()=>z.disabled).otherwise(()=>null),typeof C=="function"?C(X):C],tabIndex:k,children:typeof i=="function"?i(X):i})})},pe=P.memo(J(ie,{applyPressStyle:!0})),he=P.memo(J(oe,{applyPressStyle:!0}));he.displayName="PressableText";export{pe as P,he as a,ce as u};
//# sourceMappingURL=Pressable-8N6ahZPW.js.map
