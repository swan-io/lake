{"version":3,"file":"Link-aVQ5rCte.js","sources":["../../../packages/lake/src/components/Link.tsx"],"sourcesContent":["import { useLinkProps } from \"@swan-io/chicane\";\nimport { forwardRef, memo } from \"react\";\nimport { HrefAttrs, PressableStateCallbackType, Text, TextProps } from \"react-native\";\nimport { Except } from \"type-fest\";\nimport { isNotNullish } from \"../utils/nullish\";\nimport { PressableText, PressableTextProps } from \"./Pressable\";\n\nexport type LinkProps = Except<\n  PressableTextProps,\n  \"hrefAttrs\" | \"style\" | \"onPress\" | \"children\"\n> & {\n  to: string;\n  replace?: boolean;\n  disabled?: boolean;\n  download?: boolean;\n  target?: NonNullable<HrefAttrs>[\"target\"];\n  style?:\n    | TextProps[\"style\"]\n    | ((state: PressableStateCallbackType & { active: boolean }) => TextProps[\"style\"]);\n  ariaCurrentValue?: \"page\" | \"location\";\n  onPress?: (e: React.MouseEvent<HTMLAnchorElement>) => void;\n  children?:\n    | TextProps[\"children\"]\n    | ((state: PressableStateCallbackType & { active: boolean }) => TextProps[\"children\"]);\n};\n\nexport const Link = memo(\n  forwardRef<Text, LinkProps>(\n    (\n      {\n        role = \"link\",\n        children,\n        disabled = false,\n        onPress,\n        replace = false,\n        download = false,\n        style,\n        target,\n        to,\n        ariaCurrentValue = \"page\",\n        tabIndex,\n        ...props\n      },\n      forwardedRef,\n    ) => {\n      const { active, onClick } = useLinkProps({ href: to, replace, target });\n\n      return (\n        <PressableText\n          {...props}\n          role={role}\n          disabled={disabled}\n          aria-disabled={disabled}\n          tabIndex={isNotNullish(tabIndex) ? tabIndex : disabled ? -1 : 0}\n          aria-current={active ? ariaCurrentValue : undefined}\n          href={!disabled ? to : undefined}\n          onPress={(event: unknown) => {\n            const e = event as React.MouseEvent<HTMLAnchorElement>;\n            if (disabled) {\n              e.preventDefault();\n            } else {\n              onPress?.(e);\n              onClick(e);\n            }\n          }}\n          ref={forwardedRef}\n          style={typeof style === \"function\" ? state => style({ ...state, active }) : style}\n          hrefAttrs={{\n            rel: target && target !== \"self\" ? \"noopener noreferrer\" : undefined,\n            download,\n            target,\n          }}\n        >\n          {typeof children === \"function\" ? state => children({ ...state, active }) : children}\n        </PressableText>\n      );\n    },\n  ),\n);\n\nLink.displayName = \"Link\";\n"],"names":["Link","memo","forwardRef","role","children","disabled","onPress","replace","download","style","target","to","ariaCurrentValue","tabIndex","props","forwardedRef","active","onClick","useLinkProps","jsx","PressableText","isNotNullish","event","e","state"],"mappings":"2KA0BO,MAAAA,EAAAC,EAAA,KAAaC,EAAA,WAClB,CAAA,CAEI,KAAAC,EAAA,OACS,SAAAC,EACP,SAAAC,EAAA,GACW,QAAAC,EACX,QAAAC,EAAA,GACU,SAAAC,EAAA,GACC,MAAAC,EACX,OAAAC,EACA,GAAAC,EACA,iBAAAC,EAAA,OACmB,SAAAC,EACnB,GAAAC,CACG,EAAAC,IAAA,CAIL,KAAA,CAAA,OAAAC,EAAA,QAAAC,CAAA,EAAAC,EAAA,CAAA,KAAAP,EAAA,QAAAJ,EAAA,OAAAG,CAAA,CAAA,EAEA,OAAAS,EACEC,EAAC,CAAA,GAAAN,EACK,KAAAX,EACJ,SAAAE,EACA,gBAAAA,EACe,SAAAgB,EAAAR,CAAA,EAAAA,EAAAR,EAAA,GAAA,EAC+C,eAAAW,EAAAJ,EAAA,OACpB,KAAAP,EAAA,OAAAM,EACnB,QAAAW,GAAA,CAErB,MAAAC,EAAAD,EACAjB,EACEkB,EAAA,eAAA,GAEAjB,GAAA,MAAAA,EAAAiB,GACAN,EAAAM,CAAA,EACF,EACF,IAAAR,EACK,MAAA,OAAAN,GAAA,WAAAe,GAAAf,EAAA,CAAA,GAAAe,EAAA,OAAAR,CAAA,CAAA,EAAAP,EACuE,UAAA,CACjE,IAAAC,GAAAA,IAAA,OAAA,sBAAA,OACkD,SAAAF,EAC3D,OAAAE,CACA,EACF,SAAA,OAAAN,GAAA,WAAAoB,GAAApB,EAAA,CAAA,GAAAoB,EAAA,OAAAR,CAAA,CAAA,EAAAZ,CAE4E,CAAA,CAC9E,CAEJ,CAEJ,EAEAJ,EAAA,YAAA;;"}