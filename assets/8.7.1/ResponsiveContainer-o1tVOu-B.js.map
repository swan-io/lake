{"version":3,"file":"ResponsiveContainer-o1tVOu-B.js","sources":["../../../packages/lake/src/components/ResponsiveContainer.tsx"],"sourcesContent":["import { ReactNode, useCallback, useLayoutEffect, useRef, useState } from \"react\";\nimport { LayoutChangeEvent, StyleSheet, View, ViewProps } from \"react-native\";\nimport { Merge } from \"type-fest\";\n\nconst styles = StyleSheet.create({\n  hidden: {\n    opacity: 0,\n  },\n});\n\nexport type Context = {\n  small: boolean;\n  large: boolean;\n};\n\ntype Props = Merge<\n  ViewProps,\n  {\n    breakpoint?: number;\n    children: (context: Context) => ReactNode;\n  }\n>;\n\nexport const ResponsiveContainer = ({ breakpoint = 1000, children, style, ...props }: Props) => {\n  const containerRef = useRef<View | null>(null);\n  const [small, setSmall] = useState<boolean | null>(null);\n\n  const onLayout = useCallback(\n    ({\n      nativeEvent: {\n        layout: { width },\n      },\n    }: LayoutChangeEvent) => {\n      setSmall(width < breakpoint);\n    },\n    [breakpoint],\n  );\n\n  useLayoutEffect(() => {\n    const element = containerRef.current as HTMLElement | null;\n\n    if (element != null) {\n      setSmall(element.offsetWidth < breakpoint);\n    }\n  }, [breakpoint]);\n\n  const isSmallWithDefault = small ?? false;\n\n  return (\n    <View\n      ref={containerRef}\n      onLayout={onLayout}\n      style={[style, small == null ? styles.hidden : null]}\n      {...props}\n    >\n      {children({ small: isSmallWithDefault, large: !isSmallWithDefault })}\n    </View>\n  );\n};\n"],"names":["styles","StyleSheet","ResponsiveContainer","breakpoint","children","style","props","containerRef","useRef","small","setSmall","useState","onLayout","useCallback","width","useLayoutEffect","element","isSmallWithDefault","jsx","View"],"mappings":"mGAIA,MAAAA,EAAAC,EAAA,OAAA,CACA,OAAA,CACA,QAAA,CACA,CACA,CAAA,EAeAC,EAAA,CAAA,CAAA,WAAAC,EAAA,IAAA,SAAAC,EAAA,MAAAC,EAAA,GAAAC,KAAA,CACA,MAAAC,EAAAC,SAAA,IAAA,EACA,CAAAC,EAAAC,CAAA,EAAAC,WAAA,IAAA,EAEAC,EAAAC,EAAA,YACA,CAAA,CACA,YAAA,CACA,OAAA,CAAA,MAAAC,CAAA,CACA,CAAA,IACA,CACAJ,EAAAI,EAAAX,CAAA,CACA,EACA,CAAAA,CAAA,CAAA,EAGAY,EAAAA,gBAAA,IAAA,CACA,MAAAC,EAAAT,EAAA,QAEAS,GAAA,MACAN,EAAAM,EAAA,YAAAb,CAAA,CACA,EACA,CAAAA,CAAA,CAAA,EAEA,MAAAc,EAAAR,GAAA,GAGA,OAAAS,EAAA,IAAAC,EAAA,CACA,IAAAZ,EACA,SAAAK,EACA,MAAA,CAAAP,EAAAI,GAAA,KAAAT,EAAA,OAAA,IAAA,EACA,GAAAM,EAEA,WAAA,CAAA,MAAAW,EAAA,MAAA,CAAAA,EAAA,CAAA,CAAA,CAGA"}