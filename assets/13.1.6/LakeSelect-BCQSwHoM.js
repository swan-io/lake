import{j as e,V as z,s as le,c as t,A as $,B as k,I as R,S as V,i as o,L as f,q as se,v as ne,d as A,a as d,r as h,t as B}from"./ScrollView-B3LxNPW3.js";import{r as m}from"./iframe-CGx-dyke.js";import{c as q}from"./commonStyles-BBEkV6IC.js";import{u as ie}from"./useDisclosure-CZfhUxsb.js";import{u as oe,P as H}from"./Pressable-BlbFV7Nx.js";import{g as de}from"./FocusTrap-DVX9rcey.js";import{F as N}from"./Fill-BjOJRNrO.js";import{P as ue,F as ce}from"./Popover-34qae_NI.js";import{S as me}from"./Separator-LwAMQvlh.js";const a=le.create({normal:{backgroundColor:t.gray.contrast,borderColor:t.gray[100],borderRadius:h[6],borderWidth:1,justifyContent:"center",minWidth:100,paddingHorizontal:d[16],height:40},borderless:{justifyContent:"center",height:40,paddingHorizontal:d[16],borderRadius:h[6],transitionProperty:"background-color",transitionDuration:"150ms"},small:{paddingVertical:5},shadowed:{position:"absolute",opacity:0,left:0,top:0,width:"100%",height:"100%",borderRadius:h[6],boxShadow:A.tile,transitionDuration:"150ms",transitionProperty:"opacity"},hovered:{opacity:1},selectPlaceholder:B.placeholder,selectSmallPlaceholder:B.smallPlaceholder,selected:{color:t.gray[800]},inputDisabled:{backgroundColor:t.gray[50],borderColor:t.gray[50],cursor:"not-allowed"},listContent:{paddingVertical:12},item:{display:"flex",paddingHorizontal:d[24],paddingVertical:d[8],flexDirection:"row",alignItems:"center"},itemHighlighted:{backgroundColor:t.gray[50]},itemFocused:{boxShadow:`inset 0 0 0 1px ${t.gray[500]}`,borderRadius:h[4],outlineStyle:"none"},itemDisabled:{opacity:.5},selectListTitle:{paddingHorizontal:d[24],paddingVertical:d[12]},inputBorderlessDisabled:{backgroundColor:$.transparent},itemText:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},errorText:{paddingTop:d[4]},focusedInput:{borderColor:t.gray[500],boxShadow:A.tile,outlineStyle:"none"},focusedWithoutShadow:{boxShadow:"none"},errorContainer:{borderColor:t.negative[500]}}),pe=({ref:O,title:C,items:u,valueStyle:_,size:P,color:K="current",disabled:y=!1,mode:p="normal",placeholder:M,readOnly:v=!1,id:U,matchReferenceWidth:G=!0,value:g,error:x,hideErrors:J=!1,icon:D,onValueChange:w,disabledItems:Q=[],PopoverFooter:X,style:Y})=>{const I=m.useRef(null),F=m.useRef(null),b=m.useRef(void 0),T=m.useRef(void 0),E=m.useRef(Array(u.length)),Z=oe(I,O),[c,{close:L,open:ee}]=ie(!1),re=o(g),j=P==="small",S=u.find(r=>r.value===g),W=m.useCallback(r=>{if(r.nativeEvent.key.length===1){r.nativeEvent.stopPropagation();const l=`${T.current??""}${r.nativeEvent.key.toLowerCase()}`;T.current=l;const s=u.findIndex(i=>i.name.toLowerCase().startsWith(l)),n=u[s];n!=null&&(c?F.current?.element!=null&&E.current[s]?.focus():w(n.value))}b.current!=null&&window.clearTimeout(b.current),b.current=window.setTimeout(()=>{T.current=void 0},300)},[u,w,c]),ae=S?.name??g;return e.jsxs(z,{style:q.fill,children:[e.jsx(H,{id:U,ref:Z,"aria-haspopup":"listbox",role:"button","aria-expanded":c,disabled:v||y,style:({focused:r,hovered:l,pressed:s})=>[p==="normal"?a.normal:a.borderless,P==="small"&&a.small,(y||v)&&a.inputDisabled,(c||r)&&a.focusedInput,p==="borderless"&&[{backgroundColor:s?t.gray[200]:l?t.gray[100]:$.transparent},a.focusedWithoutShadow],p!=="borderless"&&x!=null&&a.errorContainer,(y||v)&&p==="borderless"&&a.inputBorderlessDisabled,Y],onPress:ee,onKeyDown:W,"aria-errormessage":x,children:({hovered:r})=>e.jsxs(e.Fragment,{children:[p==="normal"&&e.jsx(z,{style:[a.shadowed,r&&a.hovered]}),e.jsxs(k,{direction:"row",justifyContent:"spaceBetween",alignItems:"center",children:[e.jsxs(k,{direction:"row",alignItems:"center",style:q.fill,children:[D&&e.jsxs(e.Fragment,{children:[e.jsx(R,{color:t[K].primary,name:D,size:j?16:18}),e.jsx(V,{width:8})]}),re?e.jsxs(k,{direction:"row",alignItems:"center",style:q.fill,children:[o(S?.icon)&&e.jsxs(e.Fragment,{children:[S?.icon,e.jsx(V,{width:12})]}),e.jsx(f,{color:t.gray[900],variant:j?"smallRegular":"regular",style:[a.itemText,_],children:ae})]}):e.jsx(f,{style:[a.itemText,a.selectPlaceholder,j&&a.selectSmallPlaceholder],children:M??" "})]}),e.jsx(N,{minWidth:8}),!y&&e.jsx(R,{color:t.gray[900],name:c?"chevron-up-filled":"chevron-down-filled",size:16})]})]})}),!J&&e.jsx(f,{variant:"smallRegular",color:t.negative[500],style:a.errorText,children:x??" "}),e.jsxs(ue,{role:"listbox",matchReferenceMinWidth:G,onDismiss:L,referenceRef:I,returnFocus:!0,visible:c,children:[o(C)&&e.jsxs(e.Fragment,{children:[e.jsx(f,{variant:"semibold",color:t.gray[900],style:a.selectListTitle,children:C}),e.jsx(me,{})]}),e.jsx(ce,{role:"list",data:u,ref:F,contentContainerStyle:a.listContent,onKeyDown:r=>{const{key:l}=r.nativeEvent;if((l==="ArrowDown"||l==="ArrowUp")&&(r.preventDefault(),o(r.currentTarget))){const s=de(r.currentTarget),n=s.indexOf(r.target),i=l==="ArrowDown"?n+1:n-1;s[i]?.focus()}},keyExtractor:(r,l)=>`select-item-${l}`,renderItem:({item:r,index:l})=>{const s=g===r.value,n=Q.find(({value:i})=>i===r.value);return e.jsx(se,{placement:"right",content:n?.message,disabled:ne(n?.message),children:e.jsxs(H,{ref:i=>{E.current[l]=i},onKeyDown:W,disabled:o(n),style:({hovered:i,focused:te})=>[a.item,(i||s)&&a.itemHighlighted,te&&a.itemFocused,o(n)&&a.itemDisabled],role:"option","aria-selected":!0,onPress:()=>{w(r.value),L()},children:[o(r.icon)&&e.jsxs(e.Fragment,{children:[r.icon,e.jsx(V,{width:12})]}),e.jsx(f,{color:t.gray[900],numberOfLines:1,style:[a.itemText,s&&a.selected],children:r.name}),e.jsx(N,{minWidth:12}),s&&e.jsx(R,{color:t.positive[500],name:"checkmark-filled",size:14})]})})}}),X]})]})};pe.__docgenInfo={description:"",methods:[],displayName:"LakeSelect",props:{ref:{required:!1,tsType:{name:"Ref",elements:[{name:"View"}],raw:"Ref<View>"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},items:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  name: string;
  value: V;
  icon?: ReactNode;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"value",value:{name:"V",required:!0}},{key:"icon",value:{name:"ReactNode",required:!1}}]}}],raw:"Item<V>[]"},description:""},matchReferenceWidth:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},mode:{required:!1,tsType:{name:"union",raw:'"normal" | "borderless"',elements:[{name:"literal",value:'"normal"'},{name:"literal",value:'"borderless"'}]},description:"",defaultValue:{value:'"normal"',computed:!1}},title:{required:!1,tsType:{name:"string"},description:""},valueStyle:{required:!1,tsType:{name:"StyleProp",elements:[{name:"TextStyle"}],raw:"StyleProp<TextStyle>"},description:""},PopoverFooter:{required:!1,tsType:{name:"ReactElement"},description:""},size:{required:!1,tsType:{name:"union",raw:'"small" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"large"'}]},description:""},icon:{required:!1,tsType:{name:"unknown"},description:""},color:{required:!1,tsType:{name:"union",raw:"keyof typeof colors",elements:[{name:"literal",value:"gray"},{name:"literal",value:"live"},{name:"literal",value:"sandbox"},{name:"literal",value:"positive"},{name:"literal",value:"warning"},{name:"literal",value:"negative"},{name:"literal",value:"current"},{name:"literal",value:"partner"},{name:"literal",value:"swan"},{name:"literal",value:"shakespear"},{name:"literal",value:"darkPink"},{name:"literal",value:"sunglow"},{name:"literal",value:"mediumSladeBlue"}]},description:"",defaultValue:{value:'"current"',computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},value:{required:!1,tsType:{name:"V"},description:""},onValueChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: V) => void",signature:{arguments:[{type:{name:"V"},name:"value"}],return:{name:"void"}}},description:""},disabledItems:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: V; message?: string }",signature:{properties:[{key:"value",value:{name:"V",required:!0}},{key:"message",value:{name:"string",required:!1}}]}}],raw:"{ value: V; message?: string }[]"},description:"",defaultValue:{value:"[]",computed:!1}},hideErrors:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},id:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},style:{required:!1,tsType:{name:"StyleProp",elements:[{name:"ViewStyle"}],raw:"StyleProp<ViewStyle>"},description:""}}};export{pe as L};
//# sourceMappingURL=LakeSelect-BCQSwHoM.js.map
