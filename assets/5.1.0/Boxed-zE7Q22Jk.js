function v(){return v=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},v.apply(this,arguments)}var b,y,k,m=function(t){return Object.keys(t)},g=function(t){return Object.values(t)},q={__proto__:null,entries:function(t){return Object.entries(t)},keys:m,values:g},O=function(t,n){for(var r=Math.min(t.length,n.length),e=Array(r),u=-1;++u<r;)e[u]=[t[u],n[u]];return e},_={map:function(t){return this.tag==="Some"?h(t(this.value)):this},flatMap:function(t){return this.tag==="Some"?t(this.value):this},filter:function(t){return this.tag==="Some"&&t(this.value)?this:s.None()},getWithDefault:function(t){return this.tag==="Some"?this.value:t},match:function(t){return this.tag==="Some"?t.Some(this.value):t.None()},tap:function(t){return t(this),this},toUndefined:function(){return this.tag==="Some"?this.value:void 0},toNull:function(){return this.tag==="Some"?this.value:null},toResult:function(t){return this.match({Some:function(n){return c.Ok(n)},None:function(){return c.Error(t)}})},isSome:function(){return this.tag==="Some"},isNone:function(){return this.tag==="None"},__boxed_type__:"Option"},D=v({},_,{get:function(){return this.value}}),h=function(t){var n=Object.create(D);return n.tag="Some",n.value=t,n},x=((b=Object.create(_)).tag="None",b),p=function(){return x},s={Some:h,None:p,isOption:function(t){return t!=null&&(Object.prototype.isPrototypeOf.call(_,t)||Object.prototype.isPrototypeOf.call(D,t))},fromNullable:function(t){return t==null?p():h(t)},fromNull:function(t){return t===null?p():h(t)},fromUndefined:function(t){return t===void 0?p():h(t)},all:function(t){for(var n,r=t.length,e=s.Some([]),u=0,o=function(){if(u>=r)return{v:e};var i=t[u];i!=null&&(e=e.flatMap(function(a){return i.map(function(f){return a.push(f),a})})),u++};;)if(n=o())return n.v},allFromDict:function(t){var n=m(t);return this.all(g(t)).map(function(r){return Object.fromEntries(O(n,r))})},equals:function(t,n,r){return t.tag==="Some"&&n.tag==="Some"?r(t.value,n.value):t.tag===n.tag},P:{Some:function(t){return{tag:"Some",value:t}},None:{tag:"None"}}},S={map:function(t){return this.tag==="Ok"?M(t(this.value)):this},mapError:function(t){return this.tag==="Ok"?this:A(t(this.value))},flatMap:function(t){return this.tag==="Ok"?t(this.value):this},flatMapError:function(t){return this.tag==="Ok"?this:t(this.value)},getWithDefault:function(t){return this.tag==="Ok"?this.value:t},match:function(t){return this.tag==="Ok"?t.Ok(this.value):t.Error(this.value)},tap:function(t){return t(this),this},tapOk:function(t){return this.tag==="Ok"&&t(this.value),this},tapError:function(t){return this.tag==="Error"&&t(this.value),this},toOption:function(){return this.tag==="Ok"?h(this.value):p()},isOk:function(){return this.tag==="Ok"},isError:function(){return this.tag==="Error"},__boxed_type__:"Result"},N=v({},S,{get:function(){return this.value}}),R=v({},S,{getError:function(){return this.value}}),M=function(t){var n=Object.create(N);return n.tag="Ok",n.value=t,n},A=function(t){var n=Object.create(R);return n.tag="Error",n.value=t,n},c={Ok:M,Error:A,isResult:function(t){return t!=null&&(Object.prototype.isPrototypeOf.call(N,t)||Object.prototype.isPrototypeOf.call(R,t))},fromExecution:function(t){try{return c.Ok(t())}catch(n){return c.Error(n)}},fromPromise:function(t){try{return Promise.resolve(function(n,r){try{var e=Promise.resolve(t).then(function(u){return c.Ok(u)})}catch(u){return r(u)}return e&&e.then?e.then(void 0,r):e}(0,function(n){return c.Error(n)}))}catch(n){return Promise.reject(n)}},fromOption:function(t,n){return t.toResult(n)},all:function(t){for(var n,r=t.length,e=c.Ok([]),u=0,o=function(){if(u>=r)return{v:e};var i=t[u];i!=null&&(e=e.flatMap(function(a){return i.map(function(f){return a.push(f),a})})),u++};;)if(n=o())return n.v},allFromDict:function(t){var n=m(t);return c.all(g(t)).map(function(r){return Object.fromEntries(O(n,r))})},equals:function(t,n,r){return t.tag===n.tag&&(t.tag==="Error"&&n.tag==="Error"||r(t.value,n.value))},P:{Ok:function(t){return{tag:"Ok",value:t}},Error:function(t){return{tag:"Error",value:t}}}},w=function(t,n){return t===n?0:t>n?1:-1},W={__proto__:null,from:Array.from,of:Array.of,isArray:Array.isArray,findMap:function(t,n){for(var r=-1;++r<t.length;){var e=n(t[r]);if(e.isSome())return e}return s.None()},filterMap:function(t,n){var r=[];return t.forEach(function(e){var u=n(e);u.isSome()&&r.push(u.get())}),r},find:function(t,n){for(var r=-1;++r<t.length;){var e=t[r];if(n(e))return s.Some(e)}return s.None()},findIndex:function(t,n){for(var r=-1;++r<t.length;)if(n(t[r]))return s.Some(r);return s.None()},binarySearchBy:function(t,n,r){if(r===void 0&&(r=w),t.length===0)return-1;for(var e=0,u=t.length-1;;){var o=e+(u-e)/2|0;if(o===e||o===u)return u;var i=r(n,t[o]);if(i===0)return o;i>0?e=o:i<0&&(u=o)}},unzip:function(t){for(var n=t.length,r=Array(n),e=Array(n),u=-1;++u<n;){var o=t[u];o!==void 0&&(r[u]=o[0],e[u]=o[1])}return[r,e]},zip:O},E={map:function(t){return this.tag==="Done"?d(t(this.value)):this},flatMap:function(t){return this.tag==="Done"?t(this.value):this},mapOkToResult:function(t){return this.map(function(n){return n.match({Ok:function(r){return t(r)},Error:function(){return n}})})},mapErrorToResult:function(t){return this.map(function(n){return n.match({Error:function(r){return t(r)},Ok:function(){return n}})})},mapOk:function(t){return this.map(function(n){return n.match({Ok:function(r){return c.Ok(t(r))},Error:function(){return n}})})},mapError:function(t){return this.map(function(n){return n.match({Ok:function(){return n},Error:function(r){return c.Error(t(r))}})})},flatMapOk:function(t){return this.flatMap(function(n){return n.match({Ok:function(r){return t(r)},Error:function(){return d(n)}})})},flatMapError:function(t){return this.flatMap(function(n){return n.match({Ok:function(){return d(n)},Error:function(r){return t(r)}})})},getWithDefault:function(t){return this.tag==="Done"?this.value:t},match:function(t){return this.tag==="Done"?t.Done(this.value):this.tag==="Loading"?t.Loading():t.NotAsked()},tap:function(t){return t(this),this},toOption:function(){return this.tag==="Done"?s.Some(this.value):s.None()},isDone:function(){return this.tag==="Done"},isLoading:function(){return this.tag==="Loading"},isNotAsked:function(){return this.tag==="NotAsked"},__boxed_type__:"AsyncData"},C=v({},E,{get:function(){return this.value}}),d=function(t){var n=Object.create(C);return n.tag="Done",n.value=t,n},F=((y=Object.create(E)).tag="Loading",y),T=function(){var t=Object.create(E);return t.tag="NotAsked",t}(),j={Done:d,Loading:function(){return F},NotAsked:function(){return T},all:function(t){for(var n,r=t.length,e=j.Done([]),u=0,o=function(){if(u>=r)return{v:e};var i=t[u];i!=null&&(e=e.flatMap(function(a){return i.map(function(f){return a.push(f),a})})),u++};;)if(n=o())return n.v},allFromDict:function(t){var n=m(t);return j.all(g(t)).map(function(r){return Object.fromEntries(O(n,r))})},equals:function(t,n,r){return t.tag==="Done"&&n.tag==="Done"?r(t.value,n.value):t.tag===n.tag},isAsyncData:function(t){return t!=null&&(Object.prototype.isPrototypeOf.call(C,t)||Object.prototype.isPrototypeOf.call(E,t))},P:{Done:function(t){return{tag:"Done",value:t}},NotAsked:{tag:"NotAsked"},Loading:{tag:"Loading"}}},l=function(){function t(r){var e=this;this._state=void 0,this._state={tag:"Pending"},this._state.cancel=r(function(u){if(e._state.tag==="Pending"){var o=e._state.resolveCallbacks;e._state={tag:"Resolved",value:u},o==null||o.forEach(function(i){return i(u)})}})}t.fromPromise=function(r){return t.make(function(e){r.then(function(u){return e(c.Ok(u))},function(u){return e(c.Error(u))})})};var n=t.prototype;return n.onResolve=function(r){var e;this._state.tag==="Pending"?(this._state.resolveCallbacks=(e=this._state.resolveCallbacks)!=null?e:[],this._state.resolveCallbacks.push(r)):this._state.tag==="Resolved"&&r(this._state.value)},n.onCancel=function(r){var e;this._state.tag==="Pending"?(this._state.cancelCallbacks=(e=this._state.cancelCallbacks)!=null?e:[],this._state.cancelCallbacks.push(r)):this._state.tag==="Cancelled"&&r()},n.cancel=function(){if(this._state.tag==="Pending"){var r=this._state,e=r.cancel,u=r.cancelCallbacks;this._state={tag:"Cancelled"},e==null||e(),u==null||u.forEach(function(o){return o()})}},n.map=function(r,e){var u=this;e===void 0&&(e=!1);var o=t.make(function(i){if(u.onResolve(function(a){i(r(a))}),e)return function(){u.cancel()}});return this.onCancel(function(){o.cancel()}),o},n.then=function(r){return this.onResolve(r),this},n.flatMap=function(r,e){var u=this;e===void 0&&(e=!1);var o=t.make(function(i){if(u.onResolve(function(a){var f=r(a);f.onResolve(i),f.onCancel(function(){return o.cancel()})}),e)return function(){u.cancel()}});return this.onCancel(function(){o.cancel()}),o},n.tap=function(r){return this.onResolve(r),this},n.tapOk=function(r){return this.onResolve(function(e){e.match({Ok:function(u){return r(u)},Error:function(){}})}),this},n.tapError=function(r){return this.onResolve(function(e){e.match({Ok:function(){},Error:function(u){return r(u)}})}),this},n.mapOkToResult=function(r,e){return e===void 0&&(e=!1),this.map(function(u){return u.match({Ok:function(o){return r(o)},Error:function(){return u}})},e)},n.mapErrorToResult=function(r,e){return e===void 0&&(e=!1),this.map(function(u){return u.match({Error:function(o){return r(o)},Ok:function(){return u}})},e)},n.mapOk=function(r,e){return e===void 0&&(e=!1),this.map(function(u){return u.match({Ok:function(o){return c.Ok(r(o))},Error:function(){return u}})},e)},n.mapError=function(r,e){return e===void 0&&(e=!1),this.map(function(u){return u.match({Ok:function(){return u},Error:function(o){return c.Error(r(o))}})},e)},n.flatMapOk=function(r,e){return e===void 0&&(e=!1),this.flatMap(function(u){return u.match({Ok:function(o){return r(o)},Error:function(){return t.value(u)}})},e)},n.flatMapError=function(r,e){return e===void 0&&(e=!1),this.flatMap(function(u){return u.match({Ok:function(){return t.value(u)},Error:function(o){return r(o)}})},e)},n.toPromise=function(){var r=this;return new Promise(function(e){r.onResolve(e)})},n.resultToPromise=function(){var r=this;return new Promise(function(e,u){r.onResolve(function(o){o.match({Ok:e,Error:u})})})},t}();k=l,l.make=function(t){return new k(t)},l.isFuture=function(t){return t!=null&&Object.prototype.isPrototypeOf.call(P,t)},l.value=function(t){var n=Object.create(P);return n._state={tag:"Resolved",value:t},n},l.all=function(t,n){n===void 0&&(n=!1);for(var r,e=t.length,u=k.value([]),o=0,i=function(){if(o>=e)return{v:u};var a=t[o];a!=null&&(u=u.flatMap(function(f){return a.map(function(L){return f.push(L),f},n)},n)),o++};;)if(r=i())return r.v},l.allFromDict=function(t){var n=m(t);return k.all(g(t)).map(function(r){return Object.fromEntries(O(n,r))})};var P=Object.create(null,Object.getOwnPropertyDescriptors(l.prototype)),z={make:function(){var t=void 0;return[l.make(function(n){t=n}),t]}};export{z as A,l as P,q as i,j,c as k,s as v,W as y};
//# sourceMappingURL=Boxed-zE7Q22Jk.js.map
