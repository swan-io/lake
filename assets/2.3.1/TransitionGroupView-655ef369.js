import{a as c,V as g}from"./Space-b7c957fc.js";import{b as d,v as l}from"./Boxed-dafb0729.js";import{r as o}from"./index-ebeaab24.js";import{Q as v,H as I}from"./index-993549f2.js";import{u as _,T as x}from"./TransitionView-4a7d1f84.js";const u=({children:a,enter:p,leave:y,style:f,childStyle:m})=>{const n=o.useRef([]),[,h]=o.useReducer(()=>[],[]),V=e=>{n.current=n.current.filter(r=>r.key!==e),h()},s=o.useMemo(()=>d.filterMap(o.Children.toArray(a),e=>v(e).with({key:I.string},r=>l.Some({key:r.key,child:r})).otherwise(()=>l.None())),[a]),w=_(s),S=new Set(s.map(e=>e.key));n.current=[...n.current,...d.filterMap(w.map((e,r)=>({item:e,index:r})),({item:e,index:r})=>S.has(e.key)||n.current.find(t=>t.key===e.key)?l.None():l.Some({key:e.key,index:r}))];const i=[];return s.forEach((e,r)=>{i.push({key:e.key,originalIndex:r,child:e.child})}),n.current.forEach(({index:e,key:r})=>{const t=i.findIndex(k=>k.originalIndex===e);t===-1?i.push({key:r,originalIndex:e,child:null}):i.splice(t,0,{key:r,originalIndex:e,child:null})}),c(g,{style:f,children:i.map(({key:e,child:r})=>c(x,{enter:p,leave:y,style:m,onLeave:()=>V(e),children:r},e))})};try{u.displayName="TransitionGroupView",u.__docgenInfo={description:"",displayName:"TransitionGroupView",props:{enter:{defaultValue:null,description:"",name:"enter",required:!1,type:{name:"AnimationStyles"}},leave:{defaultValue:null,description:"",name:"leave",required:!1,type:{name:"AnimationStyles"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"StyleProp<ViewStyle>"}},childStyle:{defaultValue:null,description:"",name:"childStyle",required:!1,type:{name:"StyleProp<ViewStyle>"}}}}}catch{}export{u as T};
//# sourceMappingURL=TransitionGroupView-655ef369.js.map
