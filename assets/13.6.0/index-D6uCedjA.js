import{r as u}from"./iframe-UnSFTajO.js";import{a1 as V,K as Ie,a2 as He,a3 as $e,a4 as Be,a5 as je,N as Ge,a6 as qe,G as Ae,a7 as Ue,s as Ve,a8 as We,a9 as Je,aa as Ne,ab as Qe,ac as Xe,ad as Ye,ae as Ze,af as et}from"./ScrollView-C19etCwk.js";var S={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(e){e!==null&&(this._currentlyFocusedNode=e,document.activeElement!==e&&V.focus(e))},blurTextInput(e){e!==null&&(this._currentlyFocusedNode=null,document.activeElement===e&&V.blur(e))}},tt=(e,l)=>{var i=e.selectionEnd,v=e.selectionStart,m=l.start,R=l.end;return m!==v||R!==i},W=(e,l)=>{if(tt(e,l)){var i=l.start,v=l.end;try{e.setSelectionRange(i,v||i)}catch{}}},nt=Object.assign({},We,Je,Ne,Qe,Xe,Ye,Ze,et,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0}),rt=e=>Ue(e,nt);function at(e){return e.isComposing||e.keyCode===229}var k=null,J=u.forwardRef((e,l)=>{var i=e.autoCapitalize,v=i===void 0?"sentences":i,m=e.autoComplete,R=e.autoCompleteType,w=e.autoCorrect,O=w===void 0?!0:w,g=e.blurOnSubmit,N=e.caretHidden,Q=e.clearTextOnFocus,M=e.dir,X=e.editable,Y=e.enterKeyHint,d=e.inputMode,P=e.keyboardType,_=e.multiline,c=_===void 0?!1:_,Z=e.numberOfLines,z=e.onBlur,K=e.onChange,L=e.onChangeText,b=e.onContentSizeChange,D=e.onFocus,I=e.onKeyPress,ee=e.onLayout,te=e.onMoveShouldSetResponder,ne=e.onMoveShouldSetResponderCapture,re=e.onResponderEnd,ae=e.onResponderGrant,oe=e.onResponderMove,le=e.onResponderReject,ue=e.onResponderRelease,ie=e.onResponderStart,ce=e.onResponderTerminate,se=e.onResponderTerminationRequest,de=e.onScrollShouldSetResponder,fe=e.onScrollShouldSetResponderCapture,H=e.onSelectionChange,ve=e.onSelectionChangeShouldSetResponder,he=e.onSelectionChangeShouldSetResponderCapture,Se=e.onStartShouldSetResponder,me=e.onStartShouldSetResponderCapture,$=e.onSubmitEditing,Ce=e.placeholderTextColor,B=e.readOnly,ye=B===void 0?!1:B,Re=e.returnKeyType,j=e.rows,G=e.secureTextEntry,C=G===void 0?!1:G,p=e.selection,ge=e.selectTextOnFocus,be=e.showSoftInputOnFocus,q=e.spellCheck,a,y;if(d!=null)y=d,d==="email"?a="email":d==="tel"?a="tel":d==="search"?a="search":d==="url"?a="url":a="text";else if(P!=null)switch(P){case"email-address":a="email";break;case"number-pad":case"numeric":y="numeric";break;case"decimal-pad":y="decimal";break;case"phone-pad":a="tel";break;case"search":case"web-search":a="search";break;case"url":a="url";break;default:a="text"}C&&(a="password");var f=u.useRef({height:null,width:null}),s=u.useRef(null),x=u.useRef(null),A=u.useRef(!1);u.useEffect(()=>{s.current&&x.current&&W(s.current,x.current),A.current=C},[C]);var T=u.useCallback(t=>{if(c&&b&&t!=null){var r=t.scrollHeight,o=t.scrollWidth;(r!==f.current.height||o!==f.current.width)&&(f.current.height=r,f.current.width=o,b({nativeEvent:{contentSize:{height:f.current.height,width:f.current.width}}}))}},[c,b]),pe=u.useMemo(()=>t=>{t!=null&&(t.clear=function(){t!=null&&(t.value="")},t.isFocused=function(){return t!=null&&S.currentlyFocusedField()===t},T(t))},[T]);function xe(t){S._currentlyFocusedNode=null,z&&(t.nativeEvent.text=t.target.value,z(t))}function Te(t){var r=t.target,o=r.value;t.nativeEvent.text=o,T(r),K&&K(t),L&&L(o)}function Ee(t){var r=t.target;D&&(t.nativeEvent.text=r.value,D(t)),r!=null&&(S._currentlyFocusedNode=r,Q&&(r.value=""),ge&&(k!=null&&clearTimeout(k),k=setTimeout(()=>{r!=null&&document.activeElement===r&&r.select()},0)))}function ke(t){var r=t.target;t.stopPropagation();var o=!c,E=g??o,h=t.nativeEvent,U=at(h);I&&I(t),t.key==="Enter"&&!t.shiftKey&&!U&&!t.isDefaultPrevented()&&((g||!c)&&$&&(t.preventDefault(),h.text=t.target.value,$(t)),E&&r!=null&&setTimeout(()=>r.blur(),0))}function Fe(t){try{var r=t.target,o=r.selectionStart,E=r.selectionEnd,h={start:o,end:E};H&&(t.nativeEvent.selection=h,t.nativeEvent.text=t.target.value,H(t)),A.current===C&&(x.current=h)}catch{}}Ie(()=>{var t=s.current;t!=null&&p!=null&&W(t,p),document.activeElement===t&&(S._currentlyFocusedNode=t)},[s,p]);var we=c?"textarea":"input";He(s,ee),$e(s,{onMoveShouldSetResponder:te,onMoveShouldSetResponderCapture:ne,onResponderEnd:re,onResponderGrant:ae,onResponderMove:oe,onResponderReject:le,onResponderRelease:ue,onResponderStart:ie,onResponderTerminate:ce,onResponderTerminationRequest:se,onScrollShouldSetResponder:de,onScrollShouldSetResponderCapture:fe,onSelectionChangeShouldSetResponder:ve,onSelectionChangeShouldSetResponderCapture:he,onStartShouldSetResponder:Se,onStartShouldSetResponderCapture:me});var Oe=Be(),Me=Oe.direction,n=rt(e);n.autoCapitalize=v,n.autoComplete=m||R||"on",n.autoCorrect=O?"on":"off",n.dir=M!==void 0?M:"auto",n.enterKeyHint=Y||Re,n.inputMode=y,n.onBlur=xe,n.onChange=Te,n.onFocus=Ee,n.onKeyDown=ke,n.onSelect=Fe,n.readOnly=ye===!0||X===!1,n.rows=c?j??Z:1,n.spellCheck=q??O,n.style=[{"--placeholderTextColor":Ce},F.textinput$raw,F.placeholder,e.style,N&&F.caretHidden],n.type=c?void 0:a,n.virtualkeyboardpolicy=be===!1?"manual":"auto";var Pe=je(n),_e=Ge(s,Pe,pe,l);n.ref=_e;var ze=e.lang!=null?qe(e.lang):null,Ke=e.dir||ze,Le=Ke||Me,De=Ae(we,n,{writingDirection:Le});return De});J.displayName="TextInput";J.State=S;var F=Ve.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});export{J as T};
//# sourceMappingURL=index-D6uCedjA.js.map
