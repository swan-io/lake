import{i as W,S as v,c as y,e as I,f as q,r as E,j as e,a as s,V as g,m as N,F as T,b as k,L as b}from"./Space-294dc0e7.js";import{r as c}from"./index-76fb7be0.js";import{u as j}from"./useBoolean-c5f67bf0.js";import{a as M}from"./LakeButton-a6bb28bd.js";import{L as $}from"./LakeTextInput-3ce37610.js";import{R as z}from"./ResponsiveContainer-d41a5821.js";import{S as A,L as C}from"./Svg-50738634.js";import{T as H}from"./TransitionView-1cba9f6d.js";import{P as O}from"./index-dfc02a66.js";import{T as G}from"./Tag-6df8004b.js";import{S as J,a as x}from"./_StoriesComponents-9b274240.js";import"./extends-98964cd2.js";import"./_commonjsHelpers-de833af9.js";import"./index-704795fc.js";import"./Icon-32362032.js";import"./Pressable-2a516de8.js";import"./useMergeRefs-946e2a98.js";import"./index-d56bcc75.js";import"./commonStyles-d52fedae.js";import"./Fill-845a762b.js";const K=(r,a)=>{const t=c.useRef(void 0);return c.useCallback(o=>(W(t.current)&&clearTimeout(t.current),t.current=window.setTimeout(r,a,o),()=>clearTimeout(t.current)),[r,a])},d=v.create({input:{transition:"300ms ease-in-out border-color",maxWidth:202,minWidth:38},focus:{outlineStyle:"none",borderColor:y.current.primary},clearButton:{marginRight:I[8]},clear:{width:8,height:8},smallButtonContainer:{flexDirection:"row",justifyContent:"flex-end"},openSearchFieldContainer:{position:"absolute",right:0,top:0,bottom:0},openSearchField:{position:"absolute",right:0,top:0,bottom:0,boxShadow:`0 0 20px 20px ${q.default}`,borderRadius:E[6]}}),Q=({inputRef:r,placeholder:a,initialValue:t,onChange:o,setFocused:i,hasFocus:u,clear:h,currentValue:l,renderEnd:n})=>s(g,{style:d.smallButtonContainer,children:[e(M,{mode:"secondary",size:"small",ariaLabel:a,icon:"search-filled",onPress:()=>{i.on()},pill:l!==""}),e(H,{style:d.openSearchFieldContainer,...N.fadeAndSlideInFromRight,children:u?e(g,{style:d.openSearchField,children:e(R,{inputRef:r,placeholder:a,initialValue:t,onChange:o,setFocused:i,hasFocus:u,clear:h,currentValue:l,renderEnd:n})}):null})]}),R=({inputRef:r,placeholder:a,initialValue:t,onChange:o,setFocused:i,hasFocus:u,clear:h,renderEnd:l})=>{const n=c.useRef(null);return e($,{ref:r,autoFocus:u,icon:"search-filled",placeholder:a,defaultValue:t,inputMode:"search",onChangeText:o,hideErrors:!0,renderEnd:()=>s(T,{children:[e(O,{onPress:()=>{n.current!=null&&clearTimeout(n.current),h()},style:d.clearButton,children:e(A,{viewBox:"0 0 16 16",style:d.clear,children:s(T,{children:[e(C,{x1:"0",x2:"16",y1:"0",y2:"16",strokeLinecap:"round",stroke:y.gray[500],strokeWidth:2}),e(C,{x1:"0",x2:"16",y1:"16",y2:"0",strokeLinecap:"round",stroke:y.gray[500],strokeWidth:2})]})})}),l==null?void 0:l()]}),onFocus:()=>{n.current!=null&&clearTimeout(n.current),i.on()},onBlur:()=>{n.current=window.setTimeout(()=>{i.off()},300)},style:[d.input,u?d.focus:null]})},p=({initialValue:r,placeholder:a,onChangeText:t,debounceDuration:o=500,maxWidth:i,renderEnd:u})=>{const[h,l]=j(!1),n=c.useRef(null),[B,S]=c.useState(r),_=K(m=>{t(m),S(m.trim())},o),w=c.useCallback(()=>{n.current instanceof HTMLInputElement&&(n.current.clear(),n.current.focus(),t(""),S(""))},[t]),D={inputRef:n,placeholder:a,initialValue:r,onChange:_,setFocused:l,hasFocus:h,clear:w,currentValue:B,renderEnd:u};return e(z,{breakpoint:200,style:i!=null&&{maxWidth:i},children:({large:m})=>e(m?R:Q,{...D})})};try{p.displayName="LakeSearchField",p.__docgenInfo={description:"",displayName:"LakeSearchField",props:{initialValue:{defaultValue:null,description:"",name:"initialValue",required:!0,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},onChangeText:{defaultValue:null,description:"",name:"onChangeText",required:!0,type:{name:"(text: string) => void"}},debounceDuration:{defaultValue:{value:"500"},description:"",name:"debounceDuration",required:!1,type:{name:"number"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!1,type:{name:"number"}},renderEnd:{defaultValue:null,description:"",name:"renderEnd",required:!1,type:{name:"(() => ReactNode)"}}}}}catch{}const V=v.create({container:{maxWidth:600}}),ye={title:"Forms/SearchField",component:p},f=()=>{const[r,a]=c.useState(),[t,o]=c.useState();return s(J,{title:"SearchField",children:[s(x,{title:"Default",style:V.container,children:[e(p,{initialValue:"",placeholder:"Placeholder",onChangeText:a}),e(k,{height:12}),s(b,{children:["Debounced value: ",r]})]}),s(x,{title:"With initialValue",style:V.container,children:[e(p,{initialValue:"Initial value",placeholder:"Placeholder",onChangeText:o}),e(k,{height:12}),s(b,{children:["Debounced value: ",t]})]}),e(x,{title:"With counter",children:e(p,{initialValue:"Initial value",placeholder:"Placeholder",onChangeText:o,renderEnd:()=>e(G,{children:"44"})})})]})};var L,F,P;f.parameters={...f.parameters,docs:{...(L=f.parameters)==null?void 0:L.docs,source:{originalSource:`() => {
  const [text1, setText1] = useState<string>();
  const [text2, setText2] = useState<string>();
  return <StoryBlock title="SearchField">
      <StoryPart title="Default" style={styles.container}>
        <LakeSearchField initialValue="" placeholder="Placeholder" onChangeText={setText1} />
        <Space height={12} />
        <LakeText>Debounced value: {text1}</LakeText>
      </StoryPart>

      <StoryPart title="With initialValue" style={styles.container}>
        <LakeSearchField initialValue="Initial value" placeholder="Placeholder" onChangeText={setText2} />

        <Space height={12} />
        <LakeText>Debounced value: {text2}</LakeText>
      </StoryPart>

      <StoryPart title="With counter">
        <LakeSearchField initialValue="Initial value" placeholder="Placeholder" onChangeText={setText2} renderEnd={() => <Tag>44</Tag>} />
      </StoryPart>
    </StoryBlock>;
}`,...(P=(F=f.parameters)==null?void 0:F.docs)==null?void 0:P.source}}};const Se=["Variations"];export{f as Variations,Se as __namedExportsOrder,ye as default};
//# sourceMappingURL=SearchField.stories-e87bcf96.js.map
