import{S as dl,e as de,c as C,j as e,h as ee,V as r,a as y,L as B,i as h,F as kl,b as N,g as Ll,f as Q,s as je,r as A,n as ye}from"./Space-8b9461bb.js";import{r as a}from"./index-76fb7be0.js";import{R as be,B as Ke}from"./index-39866dda.js";import{v as El}from"./commonStyles-d52fedae.js";import{I as _e}from"./Icon-c0d6058a.js";import{L as Il}from"./LakeTooltip-f67d8434.js";import{P as Ae}from"./Pressable-b97aa921.js";import{C as Hl}from"./index-ca925b5c.js";import{a as cl}from"./useMergeRefs-3337b521.js";import{g as ml,f as Ve,l as Te,s as Vl}from"./array-a4405b3e.js";import{n as Ce}from"./function-30fe01e9.js";import{B as Tl}from"./BorderedIcon-04a2a154.js";import{L as ql}from"./LakeHeading-25f6f785.js";import{v as Ml}from"./v4-a960c1f4.js";const p=dl.create({cellContainer:{display:"flex",flexGrow:1,flexDirection:"row",alignItems:"center"},balanceCellContainer:{width:"100%"},cell:{display:"flex",paddingHorizontal:de[16],flexGrow:1,flexDirection:"row",alignItems:"center"},icon:{alignSelf:"stretch",alignItems:"center",justifyContent:"center",paddingHorizontal:de[4]},iconContainer:{flexDirection:"row",alignSelf:"stretch",alignItems:"stretch",justifyContent:"center"},centeredCell:{justifyContent:"center"},endAlignedCell:{justifyContent:"flex-end"},regularText:{overflow:"hidden",textOverflow:"ellipsis",width:1,flexGrow:1,whiteSpace:"nowrap"},mediumText:{overflow:"hidden",textOverflow:"ellipsis",width:1,flexGrow:1,whiteSpace:"nowrap",flexDirection:"row",alignItems:"center"},colorPatch:{flexGrow:1},alternativeText:El,sortIcon:{transitionProperty:"transform",transitionDuration:"300ms",transitionTimingFunction:"ease-in-out"},sortIconReversed:{transform:"rotate(-180deg)"},cellAction:{paddingVertical:de[16],paddingHorizontal:de[8]},underline:{boxShadow:"inset 0 -2px currentColor"},sortHorizontalBar:{position:"absolute",width:"100%",height:2,bottom:-10,backgroundColor:C.current[500],borderBottomColor:C.current[500]}}),Ye=({text:t,sort:n,justifyContent:u="flex-start",onPress:s})=>{const o=h(n)&&h(s);return e(Ae,{onPress:()=>{s==null||s(be(n).returnType().with("Desc",()=>"Asc").with("Asc",()=>"Desc").otherwise(()=>"Desc"))},disabled:ee(s),style:p.cellContainer,children:({hovered:c})=>e(r,{style:[p.cell,{justifyContent:u}],children:y(r,{children:[y(Ke,{direction:"row",alignItems:"center",children:[e(B,{numberOfLines:1,variant:"medium",color:o?C.current[500]:C.gray[900],style:{textAlign:be(u).with("flex-start",()=>"left").with("center",()=>"center").with("flex-end",()=>"right").exhaustive()},children:t}),h(s)?y(kl,{children:[e(N,{width:8}),e(Ke,{style:[p.sortIcon,n==="Asc"&&p.sortIconReversed],children:e(_e,{size:15,color:o?C.current[500]:C.gray[500],name:o?"arrow-down-filled":"chevron-up-down-regular"})})]}):null]}),o?e(r,{style:p.sortHorizontalBar}):c?e(r,{style:[p.sortHorizontalBar,{backgroundColor:C.gray[900]}]}):null]})})})},Ze=({isHovered:t,alternativeText:n,color:u})=>t?e(r,{style:[p.colorPatch,{backgroundColor:C[u].primary}],children:h(n)?e(B,{style:p.alternativeText,children:n}):null}):null,Je=({isHighlighted:t=!1,text:n})=>e(r,{style:p.cell,children:e(B,{numberOfLines:1,color:t?C.current.primary:C.gray[900],style:p.regularText,variant:"medium",children:n})}),Ue=({variant:t="regular",text:n,textAlign:u="left",color:s=C.gray[900]})=>e(r,{style:p.cell,children:e(B,{align:u,color:s,style:p.regularText,variant:t,children:n})}),Xe=({variant:t="regular",text:n,copyWording:u,copiedWording:s})=>{const[o,c]=a.useState("copy"),d=a.useCallback(w=>{w.preventDefault(),Hl.setString(n),c("copied")},[n]);return y(r,{style:p.cell,children:[e(Il,{placement:"top",onHide:()=>c("copy"),togglableOnFocus:!0,content:o==="copy"?u:s,containerStyle:p.iconContainer,children:e(Ae,{role:"button","aria-label":u,onPress:d,style:({hovered:w})=>[p.icon,w&&p.underline],children:({hovered:w})=>e(_e,{name:w?"copy-filled":"copy-regular",color:"currentColor",size:14})})}),e(N,{width:4}),e(B,{color:C.gray[900],style:p.regularText,variant:t,children:n})]})},Qe=({value:t,currency:n,originalValue:u,formatCurrency:s,textAlign:o="right",variant:c="medium"})=>y(r,{style:p.balanceCellContainer,children:[e(r,{style:p.cell,children:y(B,{align:o,color:C.gray[900],variant:c,style:[p.mediumText,{justifyContent:be(o).with("left",()=>"flex-start").with("center",()=>"center").with("right",()=>"flex-end").exhaustive()},t>0&&{color:C.positive.primary},t<0&&{color:C.negative.primary}],children:[t>0&&"+",s(t,n)]})}),h(u)&&u.currency!==n&&e(r,{style:p.cell,children:y(B,{style:p.mediumText,align:o,color:C.gray[500],variant:"smallRegular",children:[u.value>0&&"+",s(u.value,u.currency)]})})]}),el=({children:t,external:n=!1,onPress:u,variant:s="medium"})=>y(r,{style:p.cell,children:[e(Ae,{style:({hovered:o})=>[p.icon,o&&p.underline],onPress:o=>{o.preventDefault(),u()},children:e(_e,{size:14,name:n?"open-regular":"arrow-right-filled"})}),e(N,{width:8}),e(B,{color:C.gray[900],variant:s,style:p.mediumText,children:t})]}),ll=({children:t})=>e(r,{style:p.cell,children:t}),tl=({children:t})=>e(r,{style:[p.cell,p.centeredCell],children:t}),rl=({children:t})=>e(r,{style:[p.cell,p.endAlignedCell],children:t}),al=({children:t})=>e(r,{style:p.cellAction,children:t});try{Ye.displayName="SimpleHeaderCell",Ye.__docgenInfo={description:"",displayName:"SimpleHeaderCell",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},justifyContent:{defaultValue:{value:"flex-start"},description:"",name:"justifyContent",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"flex-start"'},{value:'"flex-end"'}]}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"enum",value:[{value:'"Desc"'},{value:'"Asc"'}]}},onPress:{defaultValue:null,description:"",name:"onPress",required:!1,type:{name:"((direction: SortDirection) => void)"}}}}}catch{}try{Ze.displayName="ColorPatchCell",Ze.__docgenInfo={description:"",displayName:"ColorPatchCell",props:{isHovered:{defaultValue:null,description:"",name:"isHovered",required:!0,type:{name:"boolean"}},alternativeText:{defaultValue:null,description:"",name:"alternativeText",required:!1,type:{name:"string"}},color:{defaultValue:{value:"colors.gray[900]"},description:"",name:"color",required:!1,type:{name:"enum",value:[{value:'"gray"'},{value:'"live"'},{value:'"sandbox"'},{value:'"positive"'},{value:'"warning"'},{value:'"negative"'},{value:'"current"'},{value:'"partner"'},{value:'"swan"'},{value:'"shakespear"'},{value:'"darkPink"'},{value:'"sunglow"'},{value:'"mediumSladeBlue"'}]}}}}}catch{}try{Je.displayName="SimpleTitleCell",Je.__docgenInfo={description:"",displayName:"SimpleTitleCell",props:{isHighlighted:{defaultValue:{value:"false"},description:"",name:"isHighlighted",required:!1,type:{name:"boolean"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}}}}}catch{}try{Ue.displayName="SimpleRegularTextCell",Ue.__docgenInfo={description:"",displayName:"SimpleRegularTextCell",props:{variant:{defaultValue:{value:"medium"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"semibold"'},{value:'"medium"'},{value:'"regular"'},{value:'"light"'},{value:'"smallSemibold"'},{value:'"smallMedium"'},{value:'"smallRegular"'}]}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},textAlign:{defaultValue:{value:"right"},description:"",name:"textAlign",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},color:{defaultValue:{value:"colors.gray[900]"},description:"",name:"color",required:!1,type:{name:"string"}}}}}catch{}try{Xe.displayName="CopyableRegularTextCell",Xe.__docgenInfo={description:"",displayName:"CopyableRegularTextCell",props:{variant:{defaultValue:{value:"medium"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"semibold"'},{value:'"medium"'},{value:'"regular"'},{value:'"light"'},{value:'"smallSemibold"'},{value:'"smallMedium"'},{value:'"smallRegular"'}]}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},copyWording:{defaultValue:null,description:"",name:"copyWording",required:!0,type:{name:"string"}},copiedWording:{defaultValue:null,description:"",name:"copiedWording",required:!0,type:{name:"string"}}}}}catch{}try{Qe.displayName="BalanceCell",Qe.__docgenInfo={description:"",displayName:"BalanceCell",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},currency:{defaultValue:null,description:"",name:"currency",required:!0,type:{name:"string"}},originalValue:{defaultValue:null,description:"",name:"originalValue",required:!1,type:{name:"{ value: number; currency: string; }"}},formatCurrency:{defaultValue:null,description:"",name:"formatCurrency",required:!0,type:{name:"(value: number, currency: string) => string"}},textAlign:{defaultValue:{value:"right"},description:"",name:"textAlign",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'},{value:'"right"'}]}},variant:{defaultValue:{value:"medium"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"semibold"'},{value:'"medium"'},{value:'"regular"'},{value:'"light"'},{value:'"smallSemibold"'},{value:'"smallMedium"'},{value:'"smallRegular"'}]}}}}}catch{}try{el.displayName="LinkCell",el.__docgenInfo={description:"",displayName:"LinkCell",props:{onPress:{defaultValue:null,description:"",name:"onPress",required:!0,type:{name:"() => void"}},external:{defaultValue:{value:"false"},description:"",name:"external",required:!1,type:{name:"boolean"}},variant:{defaultValue:{value:"medium"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"semibold"'},{value:'"medium"'},{value:'"regular"'},{value:'"light"'},{value:'"smallSemibold"'},{value:'"smallMedium"'},{value:'"smallRegular"'}]}}}}}catch{}try{ll.displayName="StartAlignedCell",ll.__docgenInfo={description:"",displayName:"StartAlignedCell",props:{}}}catch{}try{tl.displayName="CenteredCell",tl.__docgenInfo={description:"",displayName:"CenteredCell",props:{}}}catch{}try{rl.displayName="EndAlignedCell",rl.__docgenInfo={description:"",displayName:"EndAlignedCell",props:{}}}catch{}try{al.displayName="CellAction",al.__docgenInfo={description:"",displayName:"CellAction",props:{}}}catch{}const le=10,we=20,l=dl.create({root:{height:1,alignSelf:"stretch",flexGrow:1},container:{height:1,alignSelf:"stretch",flexGrow:1},containerTile:{marginHorizontal:-le},contentContainer:{flexDirection:"row",alignItems:"stretch",flexGrow:1},scrollContentContainer:{flexGrow:1,flexDirection:"row",alignItems:"stretch"},centerColumnsContainer:{width:1,flexGrow:1,flexDirection:"column",alignItems:"stretch"},centerColumns:{flexGrow:1},centerColumnsContentContainer:{flexDirection:"column",flexGrow:1},stickyColumn:{flexGrow:0,zIndex:1},stickyColumnStartOverflow:{position:"absolute",top:0,bottom:0,right:"100%"},stickyColumnEndOverflow:{position:"absolute",top:0,bottom:0,left:"100%"},rowSegment:{position:"absolute",left:0,right:0,display:"flex",flexGrow:1,alignSelf:"stretch",flexDirection:"row",alignItems:"stretch",transitionProperty:"top",transitionDuration:"300ms",transitionTimingFunction:"ease-in-out",overflow:"hidden"},headingSegment:{position:"sticky",top:0,flexDirection:"row",alignItems:"stretch",zIndex:2},segment:{flexDirection:"row",alignItems:"stretch",overflow:"hidden"},segmentOverflow:{overflow:"hidden",flexDirection:"row",alignItems:"stretch"},visibleGradient:{opacity:1},leftToRightGradient:{position:"absolute",left:0,top:0,height:"100%",width:10,backgroundImage:"linear-gradient(to right, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0))",opacity:0,transition:"150ms ease-in-out opacity",pointerEvents:"none"},rightToLeftGradient:{position:"absolute",right:0,top:0,height:"100%",width:10,backgroundImage:"linear-gradient(to left, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0))",opacity:0,transition:"150ms ease-in-out opacity",pointerEvents:"none"},horizontalScrollbar:{position:"sticky",bottom:0,borderBottomWidth:5,borderBottomColor:Ll.transparent,flexGrow:0,height:we},cell:{flexDirection:"row",alignItems:"stretch"},evenRow:{backgroundColor:Q.accented},oddRow:{backgroundColor:Q.default},rowShadow:{boxShadow:je.tile},hoveredRowShadow:{boxShadow:je.tileHover},highlightedRow:{borderColor:C.current.primary,borderWidth:1},segmentHeaderCell:{display:"flex",flexDirection:"row",flexGrow:1,alignItems:"center"},rowBackground:{borderRadius:A[4],transitionProperty:"top",transitionDuration:"300ms",transitionTimingFunction:"ease-in-out"},rowPlainBackground:{transitionProperty:"top",transitionDuration:"300ms",transitionTimingFunction:"ease-in-out"},rowBackgroundContainer:{position:"absolute",left:0,right:0,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"center",transitionProperty:"top",transitionDuration:"300ms",transitionTimingFunction:"ease-in-out"},rowBackgroundContainerPlain:{left:-10,right:-10,boxShadow:`inset 0 -1px ${C.gray[100]}`},backgroundRows:{position:"absolute",left:le,right:le,top:0,bottom:0},placeholderRowContainer:{flexDirection:"row",alignItems:"center",position:"absolute",top:0,left:20,right:20,animationKeyframes:{"50%":{opacity:.6}},animationDuration:"2000ms",animationTimingFunction:"linear",animationIterationCount:"infinite"},placeholderRowContainerPlain:{left:10},placeholderRow:{height:14,width:"30%",backgroundColor:C.gray[200],borderRadius:A[6]},placeholderRowEnd:{flexGrow:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},smallPlaceholderRow:{width:"10%"},centerSegmentContainer:{flexGrow:1},rowLeftRadii:{borderTopLeftRadius:A[4],borderBottomLeftRadius:A[4]},rowRightRadii:{borderTopRightRadius:A[4],borderBottomRightRadius:A[4]},emptyListContainer:{position:"absolute",top:0,left:0,right:0,bottom:0,flexDirection:"column",alignItems:"center",justifyContent:"center",padding:de[48],backgroundColor:Q.default},emptyList:{flexDirection:"column",alignItems:"center",justifyContent:"center"},loadingPlaceholder:{position:"absolute",left:0,right:0},topGradient:{height:30,position:"absolute",left:0,right:0,top:"100%",backgroundImage:`linear-gradient(to bottom, ${Q.default}, ${Q.defaultTransparent})`,opacity:0,transition:"200ms ease-in-out opacity",pointerEvents:"none"},visibleTopGradient:{opacity:1}}),Al=({absoluteIndex:t,id:n,isHovered:u,isHighlighted:s,top:o,rowHeight:c,rowVerticalSpacing:d,onMouseEnter:w,onMouseLeave:v,mode:R})=>{const V=a.useRef(null);return cl(V,{onHoverStart:()=>w(n),onHoverEnd:()=>v()}),e(r,{style:[l.rowBackgroundContainer,R==="plain"&&l.rowBackgroundContainerPlain,{top:o,paddingVertical:d/2}],ref:V,children:R==="tile"?e(r,{style:[l.rowBackground,u?l.hoveredRowShadow:l.rowShadow,s&&l.highlightedRow,t%2===0?l.evenRow:l.oddRow,{height:c}]}):e(r,{style:[l.rowPlainBackground,{height:c}]})})},Ne=a.memo(Al),Nl={start:"0",center:"1",end:"2"},Gl=({columns:t,item:n,style:u,absoluteIndex:s,viewId:o,segmentColumn:c,rowVerticalSpacing:d,width:w,id:v,isHovered:R,extraInfo:V,onMouseEnter:te,onMouseLeave:$,createRowWrapper:G,focusId:T,top:O,totalRowHeight:X,minWidth:re})=>{const W=a.useRef(null);cl(W,{onHoverStart:()=>te(v),onHoverEnd:()=>$()});const H=G({item:n,absoluteIndex:s,extraInfo:V});return a.cloneElement(H,{id:T,tabIndex:0,style:[l.rowSegment,{top:O,height:X,width:ee(re)?w:void 0,minWidth:re}]},e(r,{style:[l.segment,{width:w,paddingVertical:d/2},c==="center"&&l.centerSegmentContainer,c==="start"&&{borderTopLeftRadius:A[4],borderBottomLeftRadius:A[4]},c==="end"&&{borderTopRightRadius:A[4],borderBottomRightRadius:A[4]}],ref:W,"aria-hidden":!1,children:e(r,{style:[l.segmentOverflow,u],children:t.map(({id:z,width:j,renderCell:K},S)=>{const P=`${o}_${z}`,Y=String(s).padStart(10,"0"),q=String(S).padStart(10,"0"),ae=`${o}__Row_${Y}_Segment_${Nl[c]}_Cell_${q}`;return e(r,{style:[l.cell,{width:j}],"aria-describedby":P,id:ae,children:K({columnId:P,item:n,index:s,extraInfo:V,isHovered:R})},P)})})}))},Ie=a.memo(Gl),He=({columns:t,viewId:n,extraInfo:u,width:s})=>e(r,{style:[l.segment,{width:s}],children:t.map(({id:o,width:c,title:d,renderTitle:w})=>{const v=`${n}_${o}`;return e(r,{style:[l.segmentHeaderCell,{width:c}],id:v,children:w({title:d,extraInfo:u,id:o})},v)})}),nl=(t,n,u)=>{let s=n+u;for(;s>=0&&s<t.length;){const o=t[s];if(h(o)){const c=document.getElementById(o);if(h(c)){const d=ml(c,!1),w=u===-1?Te(d):Ve(d);if(h(w))return w}}s=s+u}},ol=[],il=0,ul=({data:t,mode:n="tile",keyExtractor:u,highlightedRowId:s,rowHeight:o,rowVerticalSpacing:c,horizontalPadding:d=le,headerBackgroundColor:w=Q.default,headerHeight:v,renderThreshold:R=1e3,stickedToStartColumns:V=ol,columns:te,stickedToEndColumns:$=ol,extraInfo:G,onEndReached:T,onEndReachedThresholdPx:O=200,getRowLink:X,renderEmptyList:re,loading:W})=>{const[H]=a.useState(()=>Ml()),z=a.useRef(null),j=a.useRef(null),K=a.useRef(null),S=o+c,P=t.length*S,Y=v+P,[{data:q,range:[ae,Ge]},Re]=a.useState({data:t,range:[0,20]}),De=a.useRef(null),Fe=a.useRef(null),[Be,pl]=a.useState(!1),[Oe,fl]=a.useState(!1),[gl,xe]=a.useState(!1),[vl,Se]=a.useState(!0),[We,ne]=a.useState(void 0),ce=a.useRef(0),me=a.useRef(0),{stickedToStartColumns:E,columns:oe,stickedToEndColumns:I}=a.useMemo(()=>Oe?{stickedToStartColumns:[],columns:[...V,...te,...$],stickedToEndColumns:[]}:{stickedToStartColumns:V,columns:te,stickedToEndColumns:$},[V,te,$,Oe]),[ke,hl]=a.useState(!1),ie=a.useCallback(()=>{ne(void 0)},[]),Pe=a.useMemo(()=>V.reduce((i,{width:m})=>i+m,0),[V]),$e=a.useMemo(()=>$.reduce((i,{width:m})=>i+m,0),[$]),pe=a.useMemo(()=>E.reduce((i,{width:m})=>i+m,0),[E]),fe=a.useMemo(()=>I.reduce((i,{width:m})=>i+m,0),[I]),D=a.useMemo(()=>oe.reduce((i,{width:m})=>i+m,0),[oe]),ze=a.useMemo(()=>[E.length===0&&l.rowLeftRadii,I.length===0&&l.rowRightRadii],[E,I]),ge=a.useCallback(({item:i,absoluteIndex:m,extraInfo:b})=>{const g=X==null?void 0:X({item:i,index:m,extraInfo:b});return ee(g)?e(r,{}):g},[X]),[yl,wl,bl,Cl]=a.useMemo(()=>{const i=Math.max(0,Ge-ae),m=Array(i),b=Array(i),g=Array(i),L=Array(i);let k=-1;for(;++k<i;){const x=ae+k,_=q[x];if(ee(_))continue;const f=u(_,x),J=x*S,M=We===f,he=s===f,Ee=String(x).padStart(10,"0"),se=`${H}__Row_${Ee}`;m[k]=e(Ne,{mode:n,isHovered:M,isHighlighted:he,absoluteIndex:x,top:J,id:f,rowHeight:o,rowVerticalSpacing:c,onMouseEnter:ne,onMouseLeave:ie},f),E.length>0&&(b[k]=e(Ie,{createRowWrapper:ge,focusId:se,top:J,totalRowHeight:S,id:f,style:l.rowLeftRadii,onMouseEnter:ne,onMouseLeave:ie,segmentColumn:"start",columns:E,width:pe,item:_,absoluteIndex:x,rowVerticalSpacing:c,viewId:H,isHovered:M,extraInfo:G},f)),g[k]=e(Ie,{mode:n,createRowWrapper:ge,focusId:se,top:J,totalRowHeight:S,minWidth:D,id:f,style:ze,onMouseEnter:ne,onMouseLeave:ie,segmentColumn:"center",columns:oe,width:D,item:_,absoluteIndex:x,rowVerticalSpacing:c,viewId:H,isHovered:M,extraInfo:G},f),I.length>0&&(L[k]=e(Ie,{createRowWrapper:ge,focusId:se,top:J,totalRowHeight:S,id:f,style:l.rowLeftRadii,onMouseEnter:ne,onMouseLeave:ie,segmentColumn:"end",columns:I,width:fe,item:_,absoluteIndex:x,rowVerticalSpacing:c,viewId:H,isHovered:M,extraInfo:G},f))}return[m,b,g,L]},[q,ae,Ge,u,s,o,S,oe,I,E,H,pe,D,fe,We,c,G,ie,ze,ge,n]);a.useLayoutEffect(()=>{z.current instanceof Element&&z.current.setAttribute("data-hide-scrollbar",String(!0)),j.current instanceof Element&&j.current.setAttribute("data-hide-scrollbar",String(!0)),K.current instanceof Element&&K.current.setAttribute("data-force-scrollbar",String(!0))},[]);const F=a.useRef({initiator:"columns",date:0});a.useEffect(()=>{if(h(z.current)&&h(j.current)&&h(K.current)){const m=j.current,b=z.current,g=K.current,L=()=>{const _=Date.now();if(F.current.initiator==="columns"||_-F.current.date>500){const f=m.scrollLeft;xe(f>0),Se(m.scrollWidth-d*2>=f+m.clientWidth),b.scrollLeft=f,g.scrollLeft=f,F.current={initiator:"columns",date:_}}},k=()=>{const _=Date.now();if(F.current.initiator==="headers"||_-F.current.date>500){const f=b.scrollLeft;xe(f>0),Se(b.scrollWidth-d*2>=f+b.clientWidth),m.scrollLeft=f,g.scrollLeft=f,F.current={initiator:"headers",date:_}}},x=()=>{const _=Date.now();if(F.current.initiator==="scrollbar"||_-F.current.date>500){const f=g.scrollLeft;xe(f>0),Se(g.scrollWidth-d*2>=f+g.clientWidth),b.scrollLeft=f,m.scrollLeft=f,F.current={initiator:"scrollbar",date:_}}};return m.addEventListener("scroll",L,{passive:!0}),b.addEventListener("scroll",k,{passive:!0}),g.addEventListener("scroll",x,{passive:!0}),()=>{m.removeEventListener("scroll",L),b.removeEventListener("scroll",k),g.removeEventListener("scroll",x)}}},[d]);const _l=a.useCallback(i=>{var k,x;const m=i.nativeEvent.target,b=i.nativeEvent.currentTarget,g=m.closest(`[id^="${H}__Row"]`),L=g==null?void 0:g.id;if(i.nativeEvent.key==="Tab"&&h(g)){const _=ml(g,!1),f=Ve(_),J=Te(_),M=Array.from(b.querySelectorAll(`[id^="${H}__Row"]`),U=>U.id).sort(),he=Vl(M,L),Ee=ee(f)||f===m,se=ee(J)||J===m;if(Ee&&i.nativeEvent.shiftKey&&Ve(M)!==L){const U=nl(M,he,-1);h(U)?(i.preventDefault(),U.focus()):(i.preventDefault(),(k=De.current)==null||k.focus())}if(se&&!i.nativeEvent.shiftKey&&Te(M)!==L){const U=nl(M,he,1);h(U)?(i.preventDefault(),U.focus()):(i.preventDefault(),(x=Fe.current)==null||x.focus())}}},[H]);a.useEffect(()=>{const i=Math.max(0,Math.floor((ce.current-R)/S)),m=Math.min(t.length,i+Math.ceil((me.current+R*2)/S));Re(b=>{const{data:g,range:[L,k]}=b;return L===i&&k===m&&g===t?b:{data:t,range:[i,m]}})},[t,R,S]);const Rl=a.useCallback(({nativeEvent:{layout:{height:i,width:m}}})=>{me.current=i;const b=Math.max(0,Math.floor((ce.current-R)/S)),g=Math.min(t.length,b+Math.ceil((i+R*2)/S));Re(L=>{const{data:k,range:[x,_]}=L;return x===b&&_===g&&k===t?L:{data:t,range:[b,g]}}),h(T)&&!Z.current&&i>=Y-O&&(Z.current=!0,T()),fl(m-(Pe+$e)<300)},[t,R,S,T,O,Y,Pe,$e]),Le=a.useRef(void 0),ue=a.useRef(null),Z=a.useRef(!1);a.useEffect(()=>{if(h(T)&&!Z.current&&me.current>=Y-O){Z.current=!0,T();return}Z.current=!1},[q,T,O,Y]);const xl=a.useCallback(({nativeEvent:{contentOffset:{y:i},layoutMeasurement:{height:m},contentSize:{height:b}}})=>{hl(i>0),me.current=m,ce.current=i,h(Le.current)&&clearTimeout(Le.current),ue.current instanceof HTMLElement&&(ue.current.style.pointerEvents="none"),Le.current=window.setTimeout(()=>{ue.current instanceof HTMLElement&&(ue.current.style.pointerEvents="auto")},100);const g=Math.max(0,Math.floor((ce.current-R)/S)),L=Math.min(q.length,g+Math.ceil((m+R*2)/S));Re(k=>{const{data:x,range:[_,f]}=k;return _===g&&f===L&&x===x?k:{data:x,range:[g,L]}}),h(T)&&!Z.current&&i+m>=b-O&&(Z.current=!0,T())},[q.length,R,S,T,O]),Sl=a.useCallback(({nativeEvent:{layout:{width:i}}})=>{pl(D>i)},[D]),ve=h(W)&&W.isLoading;return y(r,{style:l.root,children:[e(r,{ref:De,tabIndex:0}),y(ye,{onKeyDown:_l,onLayout:Rl,onScroll:xl,scrollEventThrottle:32,style:[l.container,n==="tile"&&l.containerTile],contentContainerStyle:[l.contentContainer,{height:Y+we+(ve?W.count*(o+c):0)}],children:[e(r,{"aria-busy":ve,style:[l.loadingPlaceholder,{top:P,marginLeft:d*2,marginRight:d*2}],children:ve?be(n).with("tile",()=>e(qe,{count:W.count,rowHeight:o,rowVerticalSpacing:c,paddingHorizontal:0})).with("plain",()=>e(Me,{count:W.count,rowHeight:o,rowVerticalSpacing:c,paddingHorizontal:0})).exhaustive():null}),e(r,{style:[l.backgroundRows,{top:v}],children:yl}),y(r,{style:l.scrollContentContainer,ref:ue,children:[E.length>0?y(r,{style:[l.stickyColumn,{width:pe+d,paddingLeft:d}],children:[y(r,{style:[l.headingSegment,{height:v,backgroundColor:w}],children:[e(He,{columns:E,extraInfo:G,viewId:H,width:pe}),e(r,{style:[l.stickyColumnStartOverflow,{width:d,backgroundColor:w}]}),e(r,{style:[l.topGradient,ke&&l.visibleTopGradient]})]}),e(r,{style:{height:P},children:wl})]}):null,y(r,{style:[l.centerColumnsContainer,{paddingLeft:E.length===0?d:il,paddingRight:I.length===0?d:il}],children:[y(r,{style:[l.headingSegment,{height:v,backgroundColor:w}],children:[e(ye,{ref:z,horizontal:!0,onLayout:Sl,style:l.centerColumns,contentContainerStyle:{minWidth:D+(E.length===0?d:0)+(I.length===0?d:0)},children:e(He,{columns:oe,extraInfo:G,viewId:H,width:D})}),e(r,{style:[l.topGradient,ke&&l.visibleTopGradient]})]}),e(ye,{horizontal:!0,ref:j,style:l.centerColumns,contentContainerStyle:[l.centerColumnsContentContainer,{minWidth:D+(E.length===0?d:0)+(I.length===0?d:0)}],children:bl}),e(ye,{ref:K,horizontal:!0,style:l.horizontalScrollbar,contentContainerStyle:{minWidth:D+(E.length===0?d:0)+(I.length===0?d:0)}}),E.length>0&&Be?e(r,{style:[l.leftToRightGradient,{maxHeight:q.length*S,top:v,bottom:we+c/2},gl&&l.visibleGradient]}):null,I.length>0&&Be?e(r,{style:[l.rightToLeftGradient,{maxHeight:q.length*S,top:v,bottom:we+c/2},vl&&l.visibleGradient]}):null]}),I.length>0?y(r,{style:[l.stickyColumn,{width:fe+d,paddingRight:d}],children:[y(r,{style:[l.headingSegment,{height:v,backgroundColor:w}],children:[e(r,{style:[l.stickyColumnEndOverflow,{width:d,backgroundColor:w}]}),e(He,{columns:I,extraInfo:G,viewId:H,width:fe}),e(r,{style:[l.topGradient,ke&&l.visibleTopGradient]})]}),e(r,{style:{height:P},children:Cl})]}):null]})]}),q.length===0&&h(re)&&!ve?e(r,{style:l.emptyListContainer,children:re()}):null,e(r,{ref:Fe,tabIndex:0})]})},qe=({count:t,rowHeight:n,rowVerticalSpacing:u,groupHeaderHeight:s,headerHeight:o,paddingHorizontal:c=le})=>{const d=n+u;return y(r,{style:[l.container,l.containerTile,{paddingHorizontal:c}],children:[h(o)?e(r,{style:{height:o}}):null,h(s)?e(r,{style:{height:o}}):null,e(r,{children:Array.from({length:t},(w,v)=>{const R=v*d+u/2;return y(a.Fragment,{children:[e(Ne,{isHovered:!1,isHighlighted:!1,absoluteIndex:v,top:R,rowVerticalSpacing:u,id:String(v),rowHeight:n,onMouseEnter:Ce,onMouseLeave:Ce,mode:"tile"}),y(r,{style:[l.placeholderRowContainer,{top:R,height:d}],children:[e(r,{style:l.placeholderRow}),e(N,{width:32}),e(r,{style:[l.placeholderRow,l.smallPlaceholderRow]}),e(N,{width:32}),e(r,{style:l.placeholderRowEnd,children:e(r,{style:[l.placeholderRow,l.smallPlaceholderRow]})})]},String(v))]},String(v))})})]})},Me=({count:t,rowHeight:n,rowVerticalSpacing:u,groupHeaderHeight:s,headerHeight:o,paddingHorizontal:c=le})=>{const d=n+u;return y(r,{style:[l.container,{paddingHorizontal:c}],children:[h(o)?e(r,{style:{height:o}}):null,h(s)?e(r,{style:{height:o}}):null,e(r,{children:Array.from({length:t},(w,v)=>{const R=v*d+u/2;return y(a.Fragment,{children:[e(Ne,{isHovered:!1,isHighlighted:!1,absoluteIndex:v,top:R,rowVerticalSpacing:u,id:String(v),rowHeight:n,onMouseEnter:Ce,onMouseLeave:Ce,mode:"plain"}),y(r,{style:[l.placeholderRowContainer,l.placeholderRowContainerPlain,{top:R,height:d}],children:[e(r,{style:l.placeholderRow}),e(N,{width:32}),e(r,{style:[l.placeholderRow,l.smallPlaceholderRow]}),e(N,{width:32}),e(r,{style:l.placeholderRowEnd,children:e(r,{style:[l.placeholderRow,l.smallPlaceholderRow]})})]},String(v))]},String(v))})})]})},sl=({icon:t,borderedIcon:n=!1,title:u,subtitle:s,children:o})=>y(r,{style:l.emptyList,children:[n?e(Tl,{name:t}):e(_e,{name:t,size:96,color:C.current.primary}),e(N,{height:32}),h(u)&&e(ql,{level:3,variant:"h3",color:C.gray[700],align:"center",children:u}),e(N,{height:8}),h(s)&&e(B,{align:"center",children:s}),e(N,{height:8}),o]});try{ul.displayName="FixedListView",ul.__docgenInfo={description:"",displayName:"FixedListView",props:{mode:{defaultValue:{value:"tile"},description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"tile"'},{value:'"plain"'}]}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"T[]"}},keyExtractor:{defaultValue:null,description:"",name:"keyExtractor",required:!0,type:{name:"(item: T, index: number) => string"}},highlightedRowId:{defaultValue:null,description:"",name:"highlightedRowId",required:!1,type:{name:"string"}},headerBackgroundColor:{defaultValue:{value:"backgroundColor.default"},description:"",name:"headerBackgroundColor",required:!1,type:{name:"string"}},headerHeight:{defaultValue:null,description:"",name:"headerHeight",required:!0,type:{name:"number"}},rowHeight:{defaultValue:null,description:"",name:"rowHeight",required:!0,type:{name:"number"}},rowVerticalSpacing:{defaultValue:null,description:"",name:"rowVerticalSpacing",required:!0,type:{name:"number"}},horizontalPadding:{defaultValue:{value:"10"},description:"",name:"horizontalPadding",required:!1,type:{name:"number"}},extraInfo:{defaultValue:null,description:"",name:"extraInfo",required:!0,type:{name:"ExtraInfo"}},stickedToStartColumns:{defaultValue:null,description:"",name:"stickedToStartColumns",required:!1,type:{name:"ColumnConfig<T, ExtraInfo>[]"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnConfig<T, ExtraInfo>[]"}},stickedToEndColumns:{defaultValue:null,description:"",name:"stickedToEndColumns",required:!1,type:{name:"ColumnConfig<T, ExtraInfo>[]"}},renderThreshold:{defaultValue:{value:"1000"},description:"",name:"renderThreshold",required:!1,type:{name:"number"}},onEndReached:{defaultValue:null,description:"",name:"onEndReached",required:!1,type:{name:"(() => void)"}},onEndReachedThresholdPx:{defaultValue:{value:"200"},description:"",name:"onEndReachedThresholdPx",required:!1,type:{name:"number"}},getRowLink:{defaultValue:null,description:"",name:"getRowLink",required:!1,type:{name:"((config: LinkConfig<T, ExtraInfo>) => ReactElement<any, string | JSXElementConstructor<any>>)"}},renderEmptyList:{defaultValue:null,description:"",name:"renderEmptyList",required:!1,type:{name:"(() => ReactNode)"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"{ isLoading: boolean; count: number; }"}}}}}catch{}try{qe.displayName="FixedListViewPlaceholder",qe.__docgenInfo={description:"",displayName:"FixedListViewPlaceholder",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},rowHeight:{defaultValue:null,description:"",name:"rowHeight",required:!0,type:{name:"number"}},rowVerticalSpacing:{defaultValue:null,description:"",name:"rowVerticalSpacing",required:!0,type:{name:"number"}},groupHeaderHeight:{defaultValue:null,description:"",name:"groupHeaderHeight",required:!1,type:{name:"number"}},headerHeight:{defaultValue:null,description:"",name:"headerHeight",required:!1,type:{name:"number"}},paddingHorizontal:{defaultValue:{value:"10"},description:"",name:"paddingHorizontal",required:!1,type:{name:"number"}}}}}catch{}try{Me.displayName="PlainListViewPlaceholder",Me.__docgenInfo={description:"",displayName:"PlainListViewPlaceholder",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},rowHeight:{defaultValue:null,description:"",name:"rowHeight",required:!0,type:{name:"number"}},rowVerticalSpacing:{defaultValue:null,description:"",name:"rowVerticalSpacing",required:!0,type:{name:"number"}},groupHeaderHeight:{defaultValue:null,description:"",name:"groupHeaderHeight",required:!1,type:{name:"number"}},headerHeight:{defaultValue:null,description:"",name:"headerHeight",required:!1,type:{name:"number"}},paddingHorizontal:{defaultValue:{value:"10"},description:"",name:"paddingHorizontal",required:!1,type:{name:"number"}}}}}catch{}try{sl.displayName="FixedListViewEmpty",sl.__docgenInfo={description:"",displayName:"FixedListViewEmpty",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"enum",value:[{value:'"lake-building-bank"'},{value:'"lake-calendar-arrow-swap"'},{value:'"lake-card"'},{value:'"lake-card-filled"'},{value:'"lake-card-one-off"'},{value:'"lake-card-physical"'},{value:'"lake-card-recurring"'},{value:'"lake-card-single-use"'},{value:'"lake-card-virtual"'},{value:'"lake-chevron-double"'},{value:'"lake-clipboard-bullet"'},{value:'"lake-clock"'},{value:'"lake-clock-arrow-swap"'},{value:'"lake-close"'},{value:'"lake-currencies"'},{value:'"lake-delivery-grouped"'},{value:'"lake-delivery-individual"'},{value:'"lake-document-csv"'},{value:'"lake-document-jpg"'},{value:'"lake-document-pdf"'},{value:'"lake-document-png"'},{value:'"lake-document-xls"'},{value:'"lake-email"'},{value:'"lake-id-card"'},{value:'"lake-inbox-empty"'},{value:'"lake-menu"'},{value:'"lake-people"'},{value:'"lake-person-arrow-swap"'},{value:'"lake-phone"'},{value:'"lake-receipt"'},{value:'"lake-settings"'},{value:'"lake-signature"'},{value:'"lake-transfer"'},{value:'"lake-world-map"'},{value:'"add-circle-filled"'},{value:'"add-circle-regular"'},{value:'"add-filled"'},{value:'"approvals-app-filled"'},{value:'"apps-list-filled"'},{value:'"apps-list-regular"'},{value:'"arrow-counterclockwise-filled"'},{value:'"arrow-down-filled"'},{value:'"arrow-down-regular"'},{value:'"arrow-download-filled"'},{value:'"arrow-left-filled"'},{value:'"arrow-left-regular"'},{value:'"arrow-right-filled"'},{value:'"arrow-right-regular"'},{value:'"arrow-swap-filled"'},{value:'"arrow-swap-regular"'},{value:'"arrow-up-filled"'},{value:'"arrow-up-regular"'},{value:'"arrow-upload-filled"'},{value:'"arrow-upload-regular"'},{value:'"beaker-filled"'},{value:'"beaker-regular"'},{value:'"board-regular"'},{value:'"box-regular"'},{value:'"building-bank-filled"'},{value:'"building-bank-regular"'},{value:'"building-filled"'},{value:'"building-multiple-regular"'},{value:'"building-regular"'},{value:'"building-shop-regular"'},{value:'"calendar-ltr-regular"'},{value:'"cart-regular"'},{value:'"chat-help-filled"'},{value:'"chat-help-regular"'},{value:'"check-filled"'},{value:'"check-regular"'},{value:'"checkmark-circle-regular"'},{value:'"checkmark-filled"'},{value:'"chevron-down-filled"'},{value:'"chevron-left-filled"'},{value:'"chevron-right-filled"'},{value:'"chevron-up-down-regular"'},{value:'"chevron-up-filled"'},{value:'"clipboard-search-regular"'},{value:'"clock-filled"'},{value:'"clock-regular"'},{value:'"cloud-sync-filled"'},{value:'"cloud-sync-regular"'},{value:'"code-filled"'},{value:'"code-regular"'},{value:'"color-regular"'},{value:'"comment-note-regular"'},{value:'"copy-filled"'},{value:'"copy-regular"'},{value:'"cursor-click-regular"'},{value:'"database-filled"'},{value:'"database-regular"'},{value:'"delete-filled"'},{value:'"delete-regular"'},{value:'"desktop-regular"'},{value:'"device-meeting-room-regular"'},{value:'"dismiss-circle-regular"'},{value:'"dismiss-filled"'},{value:'"dismiss-regular"'},{value:'"document-regular"'},{value:'"earth-regular"'},{value:'"edit-filled"'},{value:'"edit-regular"'},{value:'"error-circle-filled"'},{value:'"error-circle-regular"'},{value:'"eye-filled"'},{value:'"eye-off-filled"'},{value:'"eye-regular"'},{value:'"filter-filled"'},{value:'"flag-filled"'},{value:'"flag-regular"'},{value:'"flash-filled"'},{value:'"flash-regular"'},{value:'"form-new-filled"'},{value:'"form-new-regular"'},{value:'"hand-right-regular"'},{value:'"image-add-filled"'},{value:'"image-add-regular"'},{value:'"image-filled"'},{value:'"image-regular"'},{value:'"info-filled"'},{value:'"info-regular"'},{value:'"key-regular"'},{value:'"link-filled"'},{value:'"live-filled"'},{value:'"live-regular"'},{value:'"lock-closed-filled"'},{value:'"lock-closed-regular"'},{value:'"lock-open-filled"'},{value:'"lock-open-regular"'},{value:'"mail-filled"'},{value:'"mail-regular"'},{value:'"money-regular"'},{value:'"more-vertical-filled"'},{value:'"open-filled"'},{value:'"open-regular"'},{value:'"options-regular"'},{value:'"paint-brush-filled"'},{value:'"paint-brush-regular"'},{value:'"pause-regular"'},{value:'"payment-filled"'},{value:'"payment-regular"'},{value:'"people-add-regular"'},{value:'"people-community-filled"'},{value:'"people-community-regular"'},{value:'"people-filled"'},{value:'"people-regular"'},{value:'"people-team-regular"'},{value:'"person-accounts-filled"'},{value:'"person-accounts-regular"'},{value:'"person-add-regular"'},{value:'"person-call-filled"'},{value:'"person-call-regular"'},{value:'"person-filled"'},{value:'"person-lock-regular"'},{value:'"person-regular"'},{value:'"phone-filled"'},{value:'"phone-regular"'},{value:'"pin-regular"'},{value:'"play-filled"'},{value:'"play-regular"'},{value:'"preview-link-filled"'},{value:'"question-circle-regular"'},{value:'"receipt-money-filled"'},{value:'"receipt-money-regular"'},{value:'"rocket-regular"'},{value:'"search-filled"'},{value:'"send-filled"'},{value:'"send-regular"'},{value:'"settings-filled"'},{value:'"settings-regular"'},{value:'"shield-checkmark-filled"'},{value:'"shield-checkmark-regular"'},{value:'"shield-error-regular"'},{value:'"shield-regular"'},{value:'"sign-out-regular"'},{value:'"signature-filled"'},{value:'"signature-regular"'},{value:'"subtract-circle-filled"'},{value:'"subtract-circle-regular"'},{value:'"target-arrow-regular"'},{value:'"warning-filled"'},{value:'"warning-regular"'},{value:'"window-dev-tools-filled"'},{value:'"window-dev-tools-regular"'}]}},borderedIcon:{defaultValue:{value:"false"},description:"",name:"borderedIcon",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},subtitle:{defaultValue:null,description:"",name:"subtitle",required:!1,type:{name:"ReactNode"}}}}}catch{}export{Ze as C,ul as F,Me as P,Ye as S,qe as a,Je as b,Ue as c};
//# sourceMappingURL=FixedListView-9c2864c7.js.map
