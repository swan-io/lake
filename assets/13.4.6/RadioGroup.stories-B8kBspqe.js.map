{"version":3,"file":"RadioGroup.stories-B8kBspqe.js","sources":["../../../packages/lake/src/components/RadioGroup.tsx","../../../packages/lake/__stories__/RadioGroup.stories.tsx"],"sourcesContent":["import { Fragment } from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport { colors, ColorVariants, spacings } from \"../constants/design\";\nimport { isNotNullishOrEmpty, isNullish } from \"../utils/nullish\";\nimport { Box } from \"./Box\";\nimport { LakeRadio } from \"./LakeRadio\";\nimport { LakeText } from \"./LakeText\";\nimport { Pressable } from \"./Pressable\";\nimport { Space } from \"./Space\";\n\nconst styles = StyleSheet.create({\n  container: {\n    flexWrap: \"wrap\",\n  },\n  item: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  withRightSpace: {\n    // use margin instead of <Space /> to avoid line starting with <Space /> because of flex-wrap\n    marginRight: spacings[24],\n  },\n  // We need this bottom margin in case there are too much items and some of them are wrapped to next line\n  withBottomSpace: {\n    // use margin instead of <Space /> to avoid making height bigger than expected\n    marginBottom: spacings[12],\n  },\n  errorContainer: {\n    paddingTop: spacings[4],\n  },\n});\n\nexport type RadioGroupItem<V> = {\n  name: string;\n  value: V;\n  disabled?: boolean;\n};\n\nexport type RadioGroupProps<V> = {\n  items: RadioGroupItem<V>[];\n  direction?: \"column\" | \"row\";\n  color?: ColorVariants;\n  disabled?: boolean;\n  value?: V;\n  error?: string;\n  help?: string;\n  hideErrors?: boolean;\n  onValueChange: (value: V) => void;\n};\n\nexport function RadioGroup<V>({\n  items,\n  direction = \"column\",\n  color = \"current\",\n  disabled = false,\n  hideErrors = false,\n  error,\n  help,\n  value,\n  onValueChange,\n}: RadioGroupProps<V>) {\n  const hasError = isNotNullishOrEmpty(error);\n\n  return (\n    <>\n      <Box direction={direction} style={styles.container}>\n        {items.map((item, index) => {\n          const isLast = index === items.length - 1;\n          const isDisabled = disabled || !isNullish(item.disabled);\n\n          return (\n            <Fragment key={index}>\n              <Pressable\n                disabled={isDisabled}\n                onPress={() => {\n                  if (item.value !== value) {\n                    onValueChange(item.value);\n                  }\n                }}\n                style={[\n                  styles.item,\n                  direction === \"row\" && styles.withBottomSpace,\n                  direction === \"row\" && !isLast && styles.withRightSpace,\n                ]}\n              >\n                <LakeRadio\n                  isError={hasError}\n                  disabled={isDisabled}\n                  color={color}\n                  value={item.value === value}\n                />\n\n                <Space width={12} />\n\n                <LakeText color={isDisabled ? colors.gray[300] : colors.gray[900]}>\n                  {item.name}\n                </LakeText>\n              </Pressable>\n\n              {!isLast && <Space height={direction === \"column\" ? 12 : undefined} />}\n            </Fragment>\n          );\n        })}\n      </Box>\n\n      {!hideErrors && (\n        <Box direction=\"row\" style={styles.errorContainer}>\n          {isNotNullishOrEmpty(error) ? (\n            <LakeText variant=\"smallRegular\" color={colors.negative[500]}>\n              {error}\n            </LakeText>\n          ) : (\n            <LakeText variant=\"smallRegular\" color={colors.gray[500]}>\n              {help ?? \" \"}\n            </LakeText>\n          )}\n        </Box>\n      )}\n    </>\n  );\n}\n","import { Meta } from \"@storybook/react\";\nimport { useState } from \"react\";\nimport { Except } from \"type-fest\";\nimport { RadioGroup, RadioGroupItem, RadioGroupProps } from \"../src/components/RadioGroup\";\nimport { StoryBlock, StoryPart } from \"./_StoriesComponents\";\n\nexport default {\n  title: \"Forms/RadioGroup\",\n  component: RadioGroup,\n} as Meta<typeof RadioGroup>;\n\nfunction EditableRadioGroup<T>(props: Except<RadioGroupProps<T>, \"value\" | \"onValueChange\">) {\n  const [value, setValue] = useState<T>();\n\n  return <RadioGroup {...props} value={value} onValueChange={setValue} />;\n}\n\ntype ItemValue =\n  | \"LessThan500\"\n  | \"Between500And1500\"\n  | \"Between1500And3000\"\n  | \"Between3000And4500\"\n  | \"MoreThan4500\";\n\nconst items: RadioGroupItem<ItemValue>[] = [\n  { name: \"Less than €500\", value: \"LessThan500\" },\n  { name: \"Between €500 and €1,500\", value: \"Between500And1500\" },\n  { name: \"Between €1,500 and €3,000\", value: \"Between1500And3000\" },\n  { name: \"Between €3,000 and €4,500\", value: \"Between3000And4500\" },\n  { name: \"More than €4,500\", value: \"MoreThan4500\" },\n];\n\nconst itemsWithDisabled: RadioGroupItem<ItemValue>[] = [\n  { name: \"Less than €500\", value: \"LessThan500\" },\n  { name: \"Between €500 and €1,500\", value: \"Between500And1500\" },\n  { name: \"Between €1,500 and €3,000\", value: \"Between1500And3000\", disabled: true },\n  { name: \"Between €3,000 and €4,500\", value: \"Between3000And4500\" },\n  { name: \"More than €4,500\", value: \"MoreThan4500\" },\n];\n\nexport const Default = () => {\n  return (\n    <StoryBlock title=\"RadioGroup\">\n      <StoryPart title=\"Default\">\n        <EditableRadioGroup items={items} />\n      </StoryPart>\n\n      <StoryPart title=\"Row direction\">\n        <EditableRadioGroup items={items} direction=\"row\" />\n      </StoryPart>\n\n      <StoryPart title=\"Disabled\">\n        <EditableRadioGroup items={items} disabled={true} />\n      </StoryPart>\n\n      <StoryPart title=\"With disabled item\">\n        <EditableRadioGroup items={itemsWithDisabled} />\n      </StoryPart>\n\n      <StoryPart title=\"With color\">\n        <EditableRadioGroup items={items} color=\"live\" />\n      </StoryPart>\n\n      <StoryPart title=\"With help\">\n        <EditableRadioGroup items={items} help=\"Select a value\" />\n      </StoryPart>\n\n      <StoryPart title=\"With error\">\n        <EditableRadioGroup items={items} error=\"This is an error\" />\n      </StoryPart>\n\n      <StoryPart title=\"With hidden error\">\n        <EditableRadioGroup items={items} error=\"I'm hidden :(\" hideErrors={true} />\n      </StoryPart>\n    </StoryBlock>\n  );\n};\n"],"names":["styles","StyleSheet","spacings","RadioGroup","items","direction","color","disabled","hideErrors","error","help","value","onValueChange","hasError","isNotNullishOrEmpty","jsxs","Fragment","jsx","Box","item","index","isLast","isDisabled","isNullish","Pressable","LakeRadio","Space","LakeText","colors","RadioGroup_stories","title","component","EditableRadioGroup","props","setValue","useState","name","itemsWithDisabled","Default","StoryBlock","StoryPart"],"mappings":"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"}