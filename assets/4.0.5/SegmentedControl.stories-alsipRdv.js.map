{"version":3,"file":"SegmentedControl.stories-alsipRdv.js","sources":["../../../packages/lake/src/components/SegmentedControl.tsx"],"sourcesContent":["import { ReactNode } from \"react\";\nimport { StyleSheet, View } from \"react-native\";\nimport { backgroundColor, colors, radii, spacings, texts } from \"../constants/design\";\nimport { isNotNullish } from \"../utils/nullish\";\nimport { Box } from \"./Box\";\nimport { LakeText } from \"./LakeText\";\nimport { Pressable } from \"./Pressable\";\nimport { Space } from \"./Space\";\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: colors.gray[50],\n    borderRadius: radii[8],\n    padding: spacings[4],\n  },\n  selectedItemIndicator: {\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    flexGrow: 1,\n    flexShrink: 1,\n    transitionProperty: \"transform\",\n    transitionDuration: \"250ms\",\n    transitionTimingFunction: \"ease\",\n    padding: spacings[4],\n    borderRadius: radii[4],\n    backgroundColor: backgroundColor.accented,\n  },\n  item: {\n    flexBasis: \"0%\",\n    flexGrow: 1,\n    flexShrink: 1,\n    alignItems: \"center\",\n    padding: spacings[16],\n    flexDirection: \"column\",\n  },\n  itemDesktop: {\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n  },\n  itemText: {\n    userSelect: \"none\",\n    lineHeight: texts.regular.fontSize,\n  },\n  selectedItemMobile: {\n    right: 0,\n  },\n  selectedItemDesktop: {\n    bottom: 0,\n  },\n});\n\nexport type Item<T extends string> = {\n  name: string;\n  id: T;\n  icon?: ReactNode;\n};\n\ntype Props<T extends string> = {\n  mode?: \"desktop\" | \"mobile\";\n  selected: T;\n  items: ReadonlyArray<Item<T>>;\n  onValueChange: (value: T) => void;\n};\n\nexport const SegmentedControl = <T extends string>({\n  mode = \"desktop\",\n  selected,\n  items,\n  onValueChange,\n}: Props<T>) => {\n  const selectedItemIndex = items.findIndex(item => item.id === selected);\n\n  return (\n    <Box style={styles.container}>\n      <Box direction={mode === \"mobile\" ? \"column\" : \"row\"}>\n        <View\n          role=\"none\"\n          style={[\n            styles.selectedItemIndicator,\n            mode === \"mobile\" ? styles.selectedItemMobile : styles.selectedItemDesktop,\n            mode === \"mobile\"\n              ? {\n                  height: `${(1 / items.length) * 100}%`,\n                  transform: `translateY(${selectedItemIndex * 100}%)`,\n                }\n              : {\n                  width: `${(1 / items.length) * 100}%`,\n                  transform: `translateX(${selectedItemIndex * 100}%)`,\n                },\n          ]}\n        />\n\n        {items.map(item => (\n          <Pressable\n            key={item.id}\n            style={[styles.item, mode === \"desktop\" && styles.itemDesktop]}\n            onPress={() => {\n              onValueChange(item.id);\n            }}\n          >\n            {isNotNullish(item.icon) && (\n              <>\n                {item.icon}\n\n                <Space height={8} width={12} />\n              </>\n            )}\n\n            <LakeText\n              color={colors.gray[900]}\n              numberOfLines={1}\n              variant=\"regular\"\n              style={styles.itemText}\n            >\n              {item.name}\n            </LakeText>\n          </Pressable>\n        ))}\n      </Box>\n    </Box>\n  );\n};\n"],"names":["styles","StyleSheet","colors","radii","spacings","backgroundColor","texts","SegmentedControl","mode","selected","items","onValueChange","selectedItemIndex","item","jsx","Box","jsxs","View","Pressable","isNotNullish","Fragment","Space","LakeText"],"mappings":"2vBASA,MAAAA,EAAAC,EAAA,OAAA,CAAiC,UAAA,CACpB,gBAAAC,EAAA,KAAA,EAAA,EACsB,aAAAC,EAAA,CAAA,EACV,QAAAC,EAAA,CAAA,CACF,EACrB,sBAAA,CACuB,SAAA,WACX,KAAA,EACJ,IAAA,EACD,SAAA,EACK,WAAA,EACE,mBAAA,YACQ,mBAAA,QACA,yBAAA,OACM,QAAAA,EAAA,CAAA,EACP,aAAAD,EAAA,CAAA,EACE,gBAAAE,EAAA,QACY,EACnC,KAAA,CACM,UAAA,KACO,SAAA,EACD,WAAA,EACE,WAAA,SACA,QAAAD,EAAA,EAAA,EACQ,cAAA,QACL,EACjB,YAAA,CACa,cAAA,MACI,eAAA,QACC,EAClB,SAAA,CACU,WAAA,OACI,WAAAE,EAAA,QAAA,QACc,EAC5B,mBAAA,CACoB,MAAA,CACX,EACT,oBAAA,CACqB,OAAA,CACX,CAEZ,CAAA,EAeOC,EAAA,CAAA,CAA4C,KAAAC,EAAA,UAC1C,SAAAC,EACP,MAAAC,EACA,cAAAC,CAEF,IAAA,CACE,MAAAC,EAAAF,EAAA,UAAAG,GAAAA,EAAA,KAAAJ,CAAA,EAEA,OAAAK,EAAAC,EAAA,CAAA,MAAAf,EAAA,UAAA,SAAAgB,EAAAD,EAAA,CAAA,UAAAP,IAAA,SAAA,SAAA,MAAA,SAAA,CAGMM,EAAAG,EAAC,CAAA,KAAA,OACM,MAAA,CACEjB,EAAA,sBACEQ,IAAA,SAAAR,EAAA,mBAAAA,EAAA,oBACgDQ,IAAA,SAAA,CAEnD,OAAA,GAAA,EAAAE,EAAA,OAAA,GAAA,IACqC,UAAA,cAAAE,EAAA,GAAA,IACa,EAAA,CAElD,MAAA,GAAA,EAAAF,EAAA,OAAA,GAAA,IACoC,UAAA,cAAAE,EAAA,GAAA,IACc,CAClD,CACN,CAAA,EACFF,EAAA,IAAAG,GAAAG,EAGEE,EAAC,CAAA,MAAA,CAAAlB,EAAA,KAAAQ,IAAA,WAAAR,EAAA,WAAA,EAE8D,QAAA,IAAA,CAE3DW,EAAAE,EAAA,EAAA,CAAqB,EACvB,SAAA,CAECM,EAAAN,EAAA,IAAA,GAAAG,EAAAI,EAAA,CAAA,SAAA,CAEIP,EAAA,KAAKC,EAAAO,EAAA,CAAA,OAAA,EAAA,MAAA,GAAA,CAEuB,EAAA,EAC/BP,EAGFQ,EAAC,CAAA,MAAApB,EAAA,KAAA,GAAA,EACuB,cAAA,EACP,QAAA,UACP,MAAAF,EAAA,SACM,SAAAa,EAAA,IAER,CAAA,CACR,CAAA,EAAAA,EAAA,EArBU,CAAA,CAuBb,CAAA,CAAA,CAAA,CAAA,CAIT;;;;;"}