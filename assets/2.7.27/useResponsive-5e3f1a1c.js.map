{"version":3,"file":"useResponsive-5e3f1a1c.js","sources":["../../../packages/lake/src/hooks/useResponsive.ts"],"sourcesContent":["// Based on https://github.com/necolas/react-native-web/blob/0.17.7/packages/react-native-web/src/exports/useWindowDimensions/index.js\n\nimport { useCallback, useSyncExternalStore } from \"react\";\nimport { Dimensions, ScaledSize } from \"react-native\";\nimport { isNotNullish } from \"../utils/nullish\";\n\nconst BREAKPOINT = 992;\nconst isDesktop = ({ width }: ScaledSize, breakpoint: number) => width >= breakpoint;\n\nexport const useResponsive = (breakpoint: number | undefined = BREAKPOINT) => {\n  const desktop = useSyncExternalStore(\n    onStoreChange => {\n      const subscription = Dimensions.addEventListener(\"change\", ({ window }) => {\n        if (isNotNullish(window)) {\n          onStoreChange();\n        }\n      });\n\n      return () => {\n        subscription.remove();\n      };\n    },\n    () => isDesktop(Dimensions.get(\"window\"), breakpoint),\n  );\n\n  const media = useCallback(\n    <T>(values: { mobile: T; desktop?: T }): T =>\n      desktop ? values.desktop ?? values.mobile : values.mobile,\n    [desktop],\n  );\n\n  return { desktop, media };\n};\n"],"names":["BREAKPOINT","isDesktop","width","breakpoint","useResponsive","desktop","useSyncExternalStore","onStoreChange","subscription","Dimensions","window","isNotNullish","media","useCallback","values"],"mappings":"uFAMA,MAAMA,EAAa,IACbC,EAAY,CAAC,CAAE,MAAAC,CAAM,EAAeC,IAAuBD,GAASC,EAE7DC,EAAgB,CAACD,EAAiCH,IAAe,CAC5E,MAAMK,EAAUC,EAAA,qBACGC,GAAA,CACf,MAAMC,EAAeC,EAAW,iBAAiB,SAAU,CAAC,CAAE,OAAAC,KAAa,CACrEC,EAAaD,CAAM,GACPH,GAChB,CACD,EAED,MAAO,IAAM,CACXC,EAAa,OAAO,CAAA,CAExB,EACA,IAAMP,EAAUQ,EAAW,IAAI,QAAQ,EAAGN,CAAU,CAAA,EAGhDS,EAAQC,EAAA,YACRC,GACFT,EAAUS,EAAO,SAAWA,EAAO,OAASA,EAAO,OACrD,CAACT,CAAO,CAAA,EAGH,MAAA,CAAE,QAAAA,EAAS,MAAAO,EACpB"}