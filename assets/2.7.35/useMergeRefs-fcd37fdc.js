import{r as s}from"./index-1e572255.js";import{R as qe,U as He,X as je,Y as Be,Z as Ae,$ as Ie,a0 as We,a1 as Ge,a2 as x,a3 as Ue,a4 as Ve,a5 as Xe,a6 as Ye,a7 as Ze,a8 as Je,a9 as Qe,u as Ne,S as et,aa as tt,ab as J,ac as nt}from"./Space-e959b53a.js";import{g as rt}from"./_commonjsHelpers-de833af9.js";var at=(e,a)=>{var l=e.selectionEnd,c=e.selectionStart,d=a.start,h=a.end;return d!==c||h!==l},Z=(e,a)=>{if(at(e,a)){var l=a.start,c=a.end;try{e.setSelectionRange(l,c||l)}catch{}}},ot=Object.assign({},qe,He,je,Be,Ae,Ie,We,Ge,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0}),ut=e=>tt(e,ot);function lt(e){return e.isComposing||e.keyCode===229}var F=null,z=s.forwardRef((e,a)=>{var l=e.autoCapitalize,c=l===void 0?"sentences":l,d=e.autoComplete,h=e.autoCompleteType,f=e.autoCorrect,R=f===void 0?!0:f,i=e.blurOnSubmit,o=e.caretHidden,Q=e.clearTextOnFocus,L=e.dir,N=e.editable,ee=e.enterKeyHint,g=e.inputMode,K=e.keyboardType,$=e.multiline,S=$===void 0?!1:$,te=e.numberOfLines,_=e.onBlur,q=e.onChange,H=e.onChangeText,E=e.onContentSizeChange,j=e.onFocus,B=e.onKeyPress,ne=e.onLayout,re=e.onMoveShouldSetResponder,ae=e.onMoveShouldSetResponderCapture,oe=e.onResponderEnd,ue=e.onResponderGrant,le=e.onResponderMove,ie=e.onResponderReject,se=e.onResponderRelease,ce=e.onResponderStart,de=e.onResponderTerminate,fe=e.onResponderTerminationRequest,ve=e.onScrollShouldSetResponder,he=e.onScrollShouldSetResponderCapture,A=e.onSelectionChange,Se=e.onSelectionChangeShouldSetResponder,me=e.onSelectionChangeShouldSetResponderCapture,Re=e.onStartShouldSetResponder,ge=e.onStartShouldSetResponderCapture,I=e.onSubmitEditing,Ce=e.placeholderTextColor,W=e.readOnly,pe=W===void 0?!1:W,xe=e.returnKeyType,G=e.rows,U=e.secureTextEntry,y=U===void 0?!1:U,T=e.selection,ye=e.selectTextOnFocus,V=e.spellCheck,u,b;if(g!=null)b=g,g==="email"?u="email":g==="tel"?u="tel":g==="search"?u="search":g==="url"?u="url":u="text";else if(K!=null)switch(K){case"email-address":u="email";break;case"number-pad":case"numeric":b="numeric";break;case"decimal-pad":b="decimal";break;case"phone-pad":u="tel";break;case"search":case"web-search":u="search";break;case"url":u="url";break;default:u="text"}y&&(u="password");var C=s.useRef({height:null,width:null}),m=s.useRef(null),M=s.useRef(null),X=s.useRef(!1);s.useEffect(()=>{m.current&&M.current&&Z(m.current,M.current),X.current=y},[y]);var w=s.useCallback(t=>{if(S&&E&&t!=null){var r=t.scrollHeight,v=t.scrollWidth;(r!==C.current.height||v!==C.current.width)&&(C.current.height=r,C.current.width=v,E({nativeEvent:{contentSize:{height:C.current.height,width:C.current.width}}}))}},[S,E]),be=s.useMemo(()=>t=>{t!=null&&(t.clear=function(){t!=null&&(t.value="")},t.isFocused=function(){return t!=null&&x.currentlyFocusedField()===t},w(t))},[w]);function Ee(t){x._currentlyFocusedNode=null,_&&(t.nativeEvent.text=t.target.value,_(t))}function Te(t){var r=t.target,v=r.value;t.nativeEvent.text=v,w(r),q&&q(t),H&&H(v)}function Me(t){var r=t.target;j&&(t.nativeEvent.text=r.value,j(t)),r!=null&&(x._currentlyFocusedNode=r,Q&&(r.value=""),ye&&(F!=null&&clearTimeout(F),F=setTimeout(()=>{r!=null&&r.select()},0)))}function we(t){var r=t.target;t.stopPropagation();var v=!S,k=i??v,p=t.nativeEvent,Y=lt(p);B&&B(t),t.key==="Enter"&&!t.shiftKey&&!Y&&!t.isDefaultPrevented()&&((i||!S)&&I&&(t.preventDefault(),p.text=t.target.value,I(t)),k&&r!=null&&setTimeout(()=>r.blur(),0))}function ke(t){try{var r=t.target,v=r.selectionStart,k=r.selectionEnd,p={start:v,end:k};A&&(t.nativeEvent.selection=p,t.nativeEvent.text=t.target.value,A(t)),X.current===y&&(M.current=p)}catch{}}Ue(()=>{var t=m.current;t!=null&&T!=null&&Z(t,T),document.activeElement===t&&(x._currentlyFocusedNode=t)},[m,T]);var Fe=S?"textarea":"input";Ve(m,ne),Xe(m,{onMoveShouldSetResponder:re,onMoveShouldSetResponderCapture:ae,onResponderEnd:oe,onResponderGrant:ue,onResponderMove:le,onResponderReject:ie,onResponderRelease:se,onResponderStart:ce,onResponderTerminate:de,onResponderTerminationRequest:fe,onScrollShouldSetResponder:ve,onScrollShouldSetResponderCapture:he,onSelectionChangeShouldSetResponder:Se,onSelectionChangeShouldSetResponderCapture:me,onStartShouldSetResponder:Re,onStartShouldSetResponderCapture:ge});var Oe=Ye(),Pe=Oe.direction,n=ut(e);n.autoCapitalize=c,n.autoComplete=d||h||"on",n.autoCorrect=R?"on":"off",n.dir=L!==void 0?L:"auto",n.enterKeyHint=ee||xe,n.inputMode=b,n.onBlur=Ee,n.onChange=Te,n.onFocus=Me,n.onKeyDown=we,n.onSelect=ke,n.readOnly=pe===!0||N===!1,n.rows=S?G??te:1,n.spellCheck=V??R,n.style=[{"--placeholderTextColor":Ce},O.textinput$raw,O.placeholder,e.style,o&&O.caretHidden],n.type=S?void 0:u;var De=Ze(n),ze=Je(m,De,be,a);n.ref=ze;var Le=e.lang!=null?Qe(e.lang):null,Ke=e.dir||Le,$e=Ke||Pe,_e=Ne(Fe,n,{writingDirection:$e});return _e});z.displayName="TextInput";z.State=x;var O=et.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});const ht=z;var P={exports:{}},D={exports:{}};(function(e,a){var l=J.default;a.__esModule=!0,a.default=c,l(s);function c(){for(var d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return function(i){h.forEach(o=>{if(o!=null){if(typeof o=="function"){o(i);return}if(typeof o=="object"){o.current=i;return}console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(o))}})}}e.exports=a.default})(D,D.exports);var it=D.exports;(function(e,a){var l=nt.default,c=J.default;a.__esModule=!0,a.default=f;var d=c(s),h=l(it);function f(){for(var R=arguments.length,i=new Array(R),o=0;o<R;o++)i[o]=arguments[o];return d.useMemo(()=>(0,h.default)(...i),[...i])}e.exports=a.default})(P,P.exports);var st=P.exports;const ct=rt(st),St=ct;export{ht as T,St as u};
//# sourceMappingURL=useMergeRefs-fcd37fdc.js.map
