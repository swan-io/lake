import{Y as O,_ as X,V as S,a1 as re,s as u,a2 as te,a3 as ne,a4 as E,b as D,d as W,g as le,x as K,j as a,P as se,k as ae,I as ie,c as ce,S as B}from"./ScrollView-CouMEPyK.js";import{F as de}from"./FocusTrap-Dqfzx5pd.js";import{L as he}from"./LakeButton-BwiyaqXB.js";import{L as ue}from"./LakeHeading-DpkooDnt.js";import{S as pe,L as me}from"./Suspendable-BDNGDgDB.js";import{b as N,P as fe}from"./Pressable-XeZGT766.js";import{R as Se}from"./ResponsiveContainer-9tUOmTLf.js";import{T as A}from"./TransitionView-DifTnmGJ.js";import{c as P}from"./commonStyles-t4XfA7cz.js";import{u as ge}from"./useBodyClassName-CiTylq2A.js";import{r as v,R as m}from"./index-uCp2LrAq.js";import{t as ve}from"./i18n-BSiWFgB7.js";import{_ as V}from"./extends-CF3RwP-h.js";import{g as J}from"./_commonjsHelpers-BosuxZz1.js";function Re(r,e){for(var o=arguments.length,t=new Array(o>2?o-2:0),n=2;n<o;n++)t[n-2]=arguments[n];if(!r){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;l=new Error(e.replace(/%s/g,function(){return String(t[s++])})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var ye=Re;const L=J(ye);var R={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},f={},G=O;function Q(){if(O){var r=window,e,o;if(r.visualViewport){var t=r.visualViewport;e=Math.round(t.height*t.scale),o=Math.round(t.width*t.scale)}else{var n=r.document.documentElement;e=n.clientHeight,o=n.clientWidth}R.window={fontScale:1,height:e,scale:r.devicePixelRatio||1,width:o},R.screen={fontScale:1,height:r.screen.height,scale:r.devicePixelRatio||1,width:r.screen.width}}}function $(){Q(),Array.isArray(f.change)&&f.change.forEach(r=>r(R))}class we{static get(e){return G&&(G=!1,Q()),L(R[e],"No dimension set for key "+e),R[e]}static set(e){e&&(O?L(!1,"Dimensions cannot be set in the browser"):(e.screen!=null&&(R.screen=e.screen),e.window!=null&&(R.window=e.window)))}static addEventListener(e,o){return f[e]=f[e]||[],f[e].push(o),{remove:()=>{this.removeEventListener(e,o)}}}static removeEventListener(e,o){Array.isArray(f[e])&&(f[e]=f[e].filter(t=>t!==o))}}O&&(window.visualViewport?window.visualViewport.addEventListener("resize",$,!1):window.addEventListener("resize",$,!1));var be=()=>{N.blurTextInput(N.currentlyFocusedField())},Te=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function q(r){return{nativeEvent:{contentOffset:{get x(){return r.target.scrollLeft},get y(){return r.target.scrollTop}},contentSize:{get height(){return r.target.scrollHeight},get width(){return r.target.scrollWidth}},layoutMeasurement:{get height(){return r.target.offsetHeight},get width(){return r.target.offsetWidth}}},timeStamp:Date.now()}}function Ee(r,e){var o=Date.now()-r;return e>0&&o>=e}var xe=v.forwardRef((r,e)=>{var o=r.onScroll,t=r.onTouchMove,n=r.onWheel,l=r.scrollEnabled,s=l===void 0?!0:l,d=r.scrollEventThrottle,w=d===void 0?0:d,h=r.showsHorizontalScrollIndicator,b=r.showsVerticalScrollIndicator,C=r.style,z=X(r,Te),g=v.useRef({isScrolling:!1,scrollLastTick:0}),x=v.useRef(null),I=v.useRef(null);function H(c){return oe=>{s&&c&&c(oe)}}function k(c){c.stopPropagation(),c.target===I.current&&(c.persist(),x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{_(c)},100),g.current.isScrolling?Ee(g.current.scrollLastTick,w)&&T(c):M(c))}function M(c){g.current.isScrolling=!0,T(c)}function T(c){g.current.scrollLastTick=Date.now(),o&&o(q(c))}function _(c){g.current.isScrolling=!1,o&&o(q(c))}var j=h===!1||b===!1;return v.createElement(S,V({},z,{onScroll:k,onTouchMove:H(t),onWheel:H(n),ref:re(I,e),style:[C,!s&&Y.scrollDisabled,j&&Y.hideScrollbar]}))}),Y=u.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}});function F(r){return function(){return r}}var y=function(){};y.thatReturns=F;y.thatReturnsFalse=F(!1);y.thatReturnsTrue=F(!0);y.thatReturnsNull=F(null);y.thatReturnsThis=function(){return this};y.thatReturnsArgument=function(r){return r};var He=y,Ce=He,Ie=Ce,ke=Ie;const Me=J(ke);var je=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],U={},De=16;class Ne extends m.Component{constructor(){super(...arguments),this._scrollNodeRef=null,this._innerViewRef=null,this.isTouching=!1,this.lastMomentumScrollBeginTime=0,this.lastMomentumScrollEndTime=0,this.observedScrollSinceBecomingResponder=!1,this.becameResponderWhileAnimating=!1,this.scrollResponderHandleScrollShouldSetResponder=()=>this.isTouching,this.scrollResponderHandleStartShouldSetResponderCapture=e=>this.scrollResponderIsAnimating(),this.scrollResponderHandleTerminationRequest=()=>!this.observedScrollSinceBecomingResponder,this.scrollResponderHandleTouchEnd=e=>{var o=e.nativeEvent;this.isTouching=o.touches.length!==0,this.props.onTouchEnd&&this.props.onTouchEnd(e)},this.scrollResponderHandleResponderRelease=e=>{this.props.onResponderRelease&&this.props.onResponderRelease(e);var o=N.currentlyFocusedField();!this.props.keyboardShouldPersistTaps&&o!=null&&e.target!==o&&!this.observedScrollSinceBecomingResponder&&!this.becameResponderWhileAnimating&&(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),N.blurTextInput(o))},this.scrollResponderHandleScroll=e=>{this.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},this.scrollResponderHandleResponderGrant=e=>{this.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},this.scrollResponderHandleScrollBeginDrag=e=>{this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this.scrollResponderHandleScrollEndDrag=e=>{this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this.scrollResponderHandleMomentumScrollBegin=e=>{this.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this.scrollResponderHandleMomentumScrollEnd=e=>{this.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this.scrollResponderHandleTouchStart=e=>{this.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},this.scrollResponderHandleTouchMove=e=>{this.props.onTouchMove&&this.props.onTouchMove(e)},this.scrollResponderIsAnimating=()=>{var e=Date.now(),o=e-this.lastMomentumScrollEndTime,t=o<De||this.lastMomentumScrollEndTime<this.lastMomentumScrollBeginTime;return t},this.scrollResponderScrollTo=(e,o,t)=>{if(typeof e=="number")console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var n=e||U;e=n.x,o=n.y,t=n.animated}var l=this.getScrollableNode(),s=e||0,d=o||0;l!=null&&(typeof l.scroll=="function"?l.scroll({top:d,left:s,behavior:t?"smooth":"auto"}):(l.scrollLeft=s,l.scrollTop=d))},this.scrollResponderZoomTo=(e,o)=>{L("zoomToRect is not implemented")},this.scrollResponderScrollNativeHandleToKeyboard=(e,o,t)=>{this.additionalScrollOffset=o||0,this.preventNegativeScrollOffset=!!t,te.measureLayout(e,this.getInnerViewNode(),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},this.scrollResponderInputMeasureAndScrollToKeyboard=(e,o,t,n)=>{var l=we.get("window").height;this.keyboardWillOpenTo&&(l=this.keyboardWillOpenTo.endCoordinates.screenY);var s=o-l+n+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(s=Math.max(0,s)),this.scrollResponderScrollTo({x:0,y:s,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},this.scrollResponderKeyboardWillShow=e=>{this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},this.scrollResponderKeyboardWillHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},this.scrollResponderKeyboardDidShow=e=>{e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},this.scrollResponderKeyboardDidHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)},this.flashScrollIndicators=()=>{this.scrollResponderFlashScrollIndicators()},this.getScrollResponder=()=>this,this.getScrollableNode=()=>this._scrollNodeRef,this.getInnerViewRef=()=>this._innerViewRef,this.getInnerViewNode=()=>this._innerViewRef,this.getNativeScrollRef=()=>this._scrollNodeRef,this.scrollTo=(e,o,t)=>{if(typeof e=="number")console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var n=e||U;o=n.x,e=n.y,t=n.animated}this.scrollResponderScrollTo({x:o||0,y:e||0,animated:t!==!1})},this.scrollToEnd=e=>{var o=(e&&e.animated)!==!1,t=this.props.horizontal,n=this.getScrollableNode(),l=t?n.scrollWidth:0,s=t?0:n.scrollHeight;this.scrollResponderScrollTo({x:l,y:s,animated:o})},this._handleContentOnLayout=e=>{var o=e.nativeEvent.layout,t=o.width,n=o.height;this.props.onContentSizeChange(t,n)},this._handleScroll=e=>{this.props.keyboardDismissMode==="on-drag"&&be(),this.scrollResponderHandleScroll(e)},this._setInnerViewRef=e=>{this._innerViewRef=e},this._setScrollNodeRef=e=>{this._scrollNodeRef=e,e!=null&&(e.getScrollResponder=this.getScrollResponder,e.getInnerViewNode=this.getInnerViewNode,e.getInnerViewRef=this.getInnerViewRef,e.getNativeScrollRef=this.getNativeScrollRef,e.getScrollableNode=this.getScrollableNode,e.scrollTo=this.scrollTo,e.scrollToEnd=this.scrollToEnd,e.flashScrollIndicators=this.flashScrollIndicators,e.scrollResponderZoomTo=this.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard);var o=ne(this.props.forwardedRef);o(e)}}scrollResponderHandleStartShouldSetResponder(){return!1}scrollResponderHandleResponderReject(){Me(!1,"ScrollView doesn't take rejection well - scrolls anyway")}scrollResponderFlashScrollIndicators(){}scrollResponderTextInputFocusError(e){console.error("Error measuring text field: ",e)}render(){var e=this.props,o=e.contentContainerStyle,t=e.horizontal,n=e.onContentSizeChange,l=e.refreshControl,s=e.stickyHeaderIndices,d=e.pagingEnabled;e.forwardedRef,e.keyboardDismissMode,e.onScroll;var w=e.centerContent,h=X(e,je),b={};n&&(b={onLayout:this._handleContentOnLayout});var C=!t&&Array.isArray(s),z=C||d?m.Children.map(this.props.children,(T,_)=>{var j=C&&s.indexOf(_)>-1;return T!=null&&(j||d)?m.createElement(S,{style:[j&&p.stickyHeader,d&&p.pagingEnabledChild]},T):T}):this.props.children,g=m.createElement(S,V({},b,{children:z,collapsable:!1,ref:this._setInnerViewRef,style:[t&&p.contentContainerHorizontal,w&&p.contentContainerCenterContent,o]})),x=t?p.baseHorizontal:p.baseVertical,I=t?p.pagingEnabledHorizontal:p.pagingEnabledVertical,H=E(E({},h),{},{style:[x,d&&I,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),k=xe;L(k!==void 0,"ScrollViewClass must not be undefined");var M=m.createElement(k,V({},H,{ref:this._setScrollNodeRef}),g);return l?m.cloneElement(l,{style:H.style},M):M}}var Z={flexGrow:1,flexShrink:1,transform:"translateZ(0)",WebkitOverflowScrolling:"touch"},p=u.create({baseVertical:E(E({},Z),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:E(E({},Z),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),ee=m.forwardRef((r,e)=>m.createElement(Ne,V({},r,{forwardedRef:e})));ee.displayName="ScrollView";const Ve="rgba(0, 0, 0, 0.6)",i=u.create({root:{...u.absoluteFillObject},container:{...u.absoluteFillObject,position:"fixed"},inert:{pointerEvents:"none"},fill:{...u.absoluteFillObject,animationFillMode:"forwards"},overlay:{...u.absoluteFillObject,position:"fixed",backgroundColor:Ve},overlayEnter:{animationKeyframes:{"0%":{opacity:0}},animationDuration:"200ms",animationTimingFunction:"ease-in-out"},overlayLeave:{animationKeyframes:{"100%":{opacity:0}},animationDuration:"200ms",animationTimingFunction:"ease-in-out"},modalEnter:{animationKeyframes:{"0%":{opacity:0,transform:"translateY(-20px)"}},animationDuration:"300ms",animationTimingFunction:"ease-in-out"},modalLeave:{animationKeyframes:{"100%":{opacity:0,transform:"translateY(-20px)"}},animationDuration:"300ms",animationTimingFunction:"ease-in-out"},modalContainer:{...u.absoluteFillObject},modalContentContainer:{padding:D[24],justifyContent:"center",flexGrow:1},modalContentContainerSmall:{padding:D[8],flexGrow:1,justifyContent:"center"},modal:{backgroundColor:W.default,borderRadius:24,padding:D[48],boxShadow:le.modal,alignSelf:"stretch",width:"100%",marginHorizontal:"auto"},modalSmall:{borderRadius:16,backgroundColor:W.default,width:"100%",padding:D[24],alignSelf:"stretch",marginHorizontal:"auto"},modalHeader:{display:"flex",flexDirection:"row",justifyContent:"space-between"},modalIconTitle:{...P.fill},trap:{...P.fill},pressableOverlay:{...u.absoluteFillObject},closeButton:{top:K[16],right:K[16]}}),Le=({visible:r,icon:e,title:o,color:t="current",children:n,maxWidth:l=570,onPressClose:s})=>{const[d,w]=v.useState(()=>{});return v.useEffect(()=>{const h=document.createElement("div");return document.body.append(h),w(h),()=>{h.remove(),w(void 0)}},[]),ge("ModalOpen",{enabled:r}),d==null?null:a.jsx(se,{container:d,children:a.jsxs(S,{"aria-modal":!0,style:[i.container,!r&&i.inert],children:[a.jsx(A,{style:i.fill,enter:i.overlayEnter,leave:i.overlayLeave,children:r?a.jsx(S,{style:i.overlay}):null}),a.jsx(pe,{fallback:a.jsx(me,{color:W.accented,delay:0}),children:a.jsx(A,{style:i.fill,enter:i.modalEnter,leave:i.modalLeave,children:r?a.jsx(Se,{style:i.root,breakpoint:ae.tiny,children:({large:h,small:b})=>a.jsx(de,{autoFocus:!0,focusLock:!0,returnFocus:!0,onEscapeKey:s,style:i.trap,children:a.jsxs(ee,{style:i.modalContainer,contentContainerStyle:h?i.modalContentContainer:i.modalContentContainerSmall,children:[s!=null?a.jsx(fe,{onPress:s,style:i.pressableOverlay}):null,a.jsxs(S,{role:"dialog",style:[h?i.modal:i.modalSmall,{maxWidth:l}],children:[a.jsxs(S,{style:i.modalHeader,children:[a.jsxs(S,{style:i.modalIconTitle,children:[e!=null?a.jsx(ie,{name:e,size:h?40:32,color:ce[t][500]}):null,e!=null&&o!=null?a.jsx(B,{height:12}):null,o!=null?a.jsxs(a.Fragment,{children:[a.jsx(ue,{level:2,variant:"h3",children:o}),a.jsx(B,{height:12})]}):null]}),s!=null?a.jsx(he,{style:i.closeButton,mode:"tertiary",onPress:s,icon:"lake-close",ariaLabel:ve("common.close")}):null]}),typeof n=="function"?n({large:h,small:b}):n]})]})})}):null})})]})})};Le.__docgenInfo={description:"",methods:[],displayName:"LakeModal",props:{visible:{required:!0,tsType:{name:"boolean"},description:""},title:{required:!1,tsType:{name:"string"},description:""},icon:{required:!1,tsType:{name:"unknown"},description:""},color:{required:!1,tsType:{name:"union",raw:"keyof typeof colors",elements:[{name:"literal",value:"gray"},{name:"literal",value:"live"},{name:"literal",value:"sandbox"},{name:"literal",value:"positive"},{name:"literal",value:"warning"},{name:"literal",value:"negative"},{name:"literal",value:"current"},{name:"literal",value:"partner"},{name:"literal",value:"swan"},{name:"literal",value:"shakespear"},{name:"literal",value:"darkPink"},{name:"literal",value:"sunglow"},{name:"literal",value:"mediumSladeBlue"}]},description:"",defaultValue:{value:'"current"',computed:!1}},children:{required:!0,tsType:{name:"union",raw:"ReactNode | ((context: Context) => ReactNode)",elements:[{name:"ReactNode"},{name:"unknown"}]},description:""},maxWidth:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"570",computed:!1}},onPressClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{Le as L};
//# sourceMappingURL=LakeModal-CBNwPgnY.js.map
