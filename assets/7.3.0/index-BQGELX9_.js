import{r as u}from"./index-CBqU2yxZ.js";import"./with-selector-D-Y2eL2T.js";const m=e=>e[e.length-1],f=()=>{},E=e=>e!=="",L=e=>e[0]==="/"?e:"/"+e,R=(e,t)=>e.length===t.length&&e.every((a,r)=>a===t[r]),O=e=>{const t=new URLSearchParams(e),a={};for(const[r,o]of t){const s=a[r];a[r]=s!=null?typeof s=="string"?[s,o]:s.concat(o):o}return a},P=/=&/g,U=/=$/g,K=e=>{const t=Object.keys(e);if(t.length===0)return"";const a=new URLSearchParams;t.sort();for(const o of t){const s=e[o];if(s!=null)if(typeof s=="string")a.append(o,s);else for(const n of s)a.append(o,n)}const r=a.toString().replace(P,"&").replace(U,"");return r===""?"":"?"+r};let b=!1;const S=e=>{const t=e.indexOf("#"),a=L(t<0?e:e.substring(0,t)),r=a.indexOf("?");return r<0?{path:a,search:""}:{path:a.substring(0,r),search:a.substring(r)}},g=e=>{const t=S(e),a=t.path.substring(1),r=a!==""?b?a.split("/").map(decodeURIComponent):a.split("/").filter(E).map(decodeURIComponent):[],o=t.search!==""?O(t.search):{},s="/"+r.map(encodeURIComponent).join("/"),n=K(o),c=s+n;return{path:r,search:o,raw:{path:s,search:n},toString:()=>c}},y=e=>{e.preventDefault(),e.returnValue=""},d=typeof window<"u"?(()=>{const e=new Set;let t=[];const a=window.history,r=window.location;let o=g(r.pathname+r.search);const s=()=>{const n=g(r.pathname+r.search);if(n.toString()===o.toString())return;b=!0;const c=n.raw.search!==o.raw.search,p=c?{}:o.search;if(c){for(const i in n.search)if(Object.prototype.hasOwnProperty.call(n.search,i)){const l=n.search[i];if(l==null)continue;const h=o.search[i];p[i]=h!=null&&typeof h!="string"&&typeof l!="string"&&R(l,h)?h:l}}o={path:n.raw.path!==o.raw.path?n.path:o.path,search:p,raw:n.raw,toString:n.toString},e.forEach(i=>i(o))};return window.addEventListener("popstate",()=>{s()}),{get location(){return o},subscribe:n=>(e.add(n),()=>{e.delete(n)}),push:n=>{const c=m(t);if(c==null||window.confirm(c.message)){try{a.pushState(null,"",n)}catch{r.assign(n)}s()}},replace:n=>{const c=m(t);(c==null||window.confirm(c.message))&&(a.replaceState(null,"",n),s())},block:n=>(t.push(n),t.length===1&&window.addEventListener("beforeunload",y,{capture:!0}),()=>{t=t.filter(c=>{let{id:p}=c;return p!==n.id}),t.length===0&&window.removeEventListener("beforeunload",y,{capture:!0})})}})():{location:g("/"),subscribe:()=>f,push:f,replace:f,block:()=>f},N=()=>d.location,v=d.subscribe,j=d.push,I=d.replace,C=u.createContext(N);C.Provider;const k=()=>u.useContext(C),J=()=>{const e=k();return u.useSyncExternalStore(v,e,e)},D=e=>{let{href:t,replace:a=!1,target:r}=e;const o=u.useMemo(()=>S(t).path,[t]),s=k(),n=()=>o===s().raw.path,c=u.useSyncExternalStore(v,n,n),p=a||c,i=r==null||r==="_self";return{active:c,onClick:u.useCallback(l=>{l.defaultPrevented||!i||l.button!==0||l.metaKey||l.altKey||l.ctrlKey||l.shiftKey||(l.preventDefault(),p?I(t):j(t))},[p,i,t])}},V=u.forwardRef((e,t)=>{let{onClick:a,className:r,replace:o,style:s,target:n,to:c,activeClassName:p,activeStyle:i,...l}=e;const{active:h,onClick:x}=D({href:c,replace:o,target:n});return u.createElement("a",{...l,ref:t,href:c,onClick:w=>{a==null||a(w),x(w)},target:n,className:h&&p!=null?r==null?p:r+" "+p:r,style:h&&i!=null?s==null?i:{...s,...i}:s})});V.displayName="Link";export{V as $,J as V,D as X};
//# sourceMappingURL=index-BQGELX9_.js.map
