{"version":3,"file":"Accordion.stories-cdde3f86.js","sources":["../../../packages/lake/src/hooks/useFirstMountState.ts","../../../packages/lake/src/components/Accordion.tsx"],"sourcesContent":["import { useRef } from \"react\";\n\nexport const useFirstMountState = (): boolean => {\n  const isFirstMount = useRef(true);\n\n  if (isFirstMount.current) {\n    isFirstMount.current = false;\n    return true;\n  }\n\n  return isFirstMount.current;\n};\n","import { ReactNode, useEffect, useRef } from \"react\";\nimport { Pressable, StyleSheet, View } from \"react-native\";\nimport { backgroundColor, colors, spacings } from \"../constants/design\";\nimport { useDisclosure } from \"../hooks/useDisclosure\";\nimport { useFirstMountState } from \"../hooks/useFirstMountState\";\nimport { Icon } from \"./Icon\";\nimport { LakeText } from \"./LakeText\";\nimport { Space } from \"./Space\";\n\nconst styles = StyleSheet.create({\n  trigger: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: backgroundColor.accented,\n    paddingVertical: spacings[12],\n    paddingHorizontal: spacings[20],\n  },\n  arrow: {\n    transitionProperty: \"transform\",\n    transitionDuration: \"200ms\",\n  },\n  arrowOpen: {\n    transform: \"rotate(90deg)\",\n  },\n  content: {\n    display: \"none\",\n    paddingVertical: spacings[12],\n    paddingHorizontal: spacings[20],\n  },\n  contentDisplayed: {\n    display: \"flex\",\n  },\n});\n\ntype Props = {\n  trigger: ReactNode;\n  children: ReactNode;\n};\n\nexport const Accordion = ({ trigger, children }: Props) => {\n  const isFirstMount = useFirstMountState();\n  const content = useRef<View | null>(null);\n  const [isOpen, { toggle }] = useDisclosure(false);\n\n  useEffect(() => {\n    if (!isFirstMount && content.current instanceof HTMLDivElement) {\n      if (isOpen) {\n        console.log(\"OPEN ANIMATION\");\n      } else {\n        console.log(\"CLOSE ANIMATION\");\n      }\n    }\n  }, [isFirstMount, isOpen]);\n\n  return (\n    <View>\n      <Pressable style={styles.trigger} onPress={toggle}>\n        <Icon\n          name=\"chevron-right-filled\"\n          size={12}\n          color={colors.gray[500]}\n          style={[styles.arrow, isOpen && styles.arrowOpen]}\n        />\n\n        <Space width={20} />\n\n        {typeof trigger === \"string\" ? (\n          <LakeText variant=\"smallMedium\" color={colors.gray[900]}>\n            {trigger}\n          </LakeText>\n        ) : (\n          trigger\n        )}\n      </Pressable>\n\n      <View ref={content} style={[styles.content, isOpen && styles.contentDisplayed]}>\n        {children}\n      </View>\n    </View>\n  );\n};\n"],"names":["useFirstMountState","isFirstMount","useRef","styles","StyleSheet","backgroundColor","spacings","Accordion","trigger","children","content","isOpen","toggle","useDisclosure","useEffect","jsxs","View","Pressable","jsx","Icon","colors","Space","LakeText"],"mappings":"+qBAEO,MAAMA,EAAqB,IAAe,CACzC,MAAAC,EAAeC,SAAO,EAAI,EAEhC,OAAID,EAAa,SACfA,EAAa,QAAU,GAChB,IAGFA,EAAa,OACtB,ECFAE,EAAAC,EAAA,OAAA,CAAiC,QAAA,CACtB,cAAA,MACQ,WAAA,SACH,gBAAAC,EAAA,SACqB,gBAAAC,EAAA,EAAA,EACL,kBAAAA,EAAA,EAAA,CACE,EAChC,MAAA,CACO,mBAAA,YACe,mBAAA,OACA,EACtB,UAAA,CACW,UAAA,eACE,EACb,QAAA,CACS,QAAA,OACE,gBAAAA,EAAA,EAAA,EACmB,kBAAAA,EAAA,EAAA,CACE,EAChC,iBAAA,CACkB,QAAA,MACP,CAEb,CAAA,EAOOC,EAAA,CAAA,CAAA,QAAAC,EAAA,SAAAC,KAAA,CACL,MAAAR,EAAAD,IACAU,EAAAR,SAAA,IAAA,EACA,CAAAS,EAAA,CAAA,OAAAC,CAAA,CAAA,EAAAC,EAAA,EAAA,EAEAC,OAAAA,EAAAA,UAAA,IAAA,CACE,CAAAb,GAAAS,EAAA,mBAAA,gBAEI,QAAA,IADFC,EACE,iBAEA,iBAFA,CAIJ,EAAA,CAAAV,EAAAU,CAAA,CAAA,EAGFI,EAAAC,EAAA,CAAA,SAAA,CAEID,EAAAE,EAAA,CAAA,MAAAd,EAAA,QAAA,QAAAS,EAAA,SAAA,CACEM,EAAAC,EAAC,CAAA,KAAA,uBACM,KAAA,GACC,MAAAC,EAAA,KAAA,GAAA,EACgB,MAAA,CAAAjB,EAAA,MAAAQ,GAAAR,EAAA,SAAA,CAC0B,CAAA,EAClDe,EAAAG,EAAA,CAAA,MAAA,EAAA,CAAA,EAEkB,OAAAb,GAAA,SAAAU,EAAAI,EAAA,CAAA,QAAA,cAAA,MAAAF,EAAA,KAAA,GAAA,EAAA,SAAAZ,CAAA,CAAA,EAAAA,CAOhB,EAAA,EAEJU,EAAAF,EAAA,CAAA,IAAAN,EAAA,MAAA,CAAAP,EAAA,QAAAQ,GAAAR,EAAA,gBAAA,EAAA,SAAAM,CAAA,CAAA,CAIA,CAAA,CAAA,CAGN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}