{"version":3,"mappings":"0kBASA,MAAAA,EAAA,OAEA,IAAAC,EAEA,MAAAC,EAAAC,EAAA,UACA,cAAAC,CAAA,QAAAC,EAAA,sCACA,OAAAJ,EAAAG,EACAA,CACA,GAgBAE,EAAAC,GAAA,CACA,MAAAC,EAAA,SAAAD,IAAA,KAAAE,EAAAF,EAAA,MACAG,EAAAH,EAAA,UAEA,CAAAI,EAAAC,CAAA,EAAAC,WAAAZ,CAAA,EAEAa,YAAA,KACAb,GAAA,MACAC,EAAA,WAAAU,CAAA,CAEA,MAEA,MAAAG,EAAAC,EAAA,QACA,IACA,IAAAhB,EAAAQ,EAAA,gCAAAR,EAAAQ,EAAA,8BACA,CAAAA,CAAA,GAIA,OAAAS,EAAA,IAAAC,GAAA,kCAAAR,EAAA,MAAAA,CAAA,EACA,SAAAC,GAAA,MAAAI,GAAA,KAAAE,MAAAE,EAAA,cAAAR,CAAA,IAAAI,CAAA,SACA,EAEA","names":["UNICODE_OFFSET","svgUrl","svgUrlGetter","Lazy","value","__vitePreload","Flag","props","cca2","getCCA2forCCA3","width","url","setUrl","useState","useEffect","flag","useMemo","jsx","Svg","Use"],"ignoreList":[],"sources":["../../../packages/lake/src/components/Flag.tsx"],"sourcesContent":["import { Lazy } from \"@swan-io/boxed\";\nimport {\n  CountryCCA2,\n  CountryCCA3,\n  getCCA2forCCA3,\n} from \"@swan-io/shared-business/src/constants/countries\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { Svg, Use } from \"./Svg\";\n\nconst UNICODE_OFFSET = 127462 - 65;\n\nlet svgUrl: string | undefined;\n\nconst svgUrlGetter = Lazy(async () => {\n  const { default: value } = await import(\"../assets/images/flags.svg\");\n  svgUrl = value;\n  return value;\n});\n\ntype Props = {\n  width?: number;\n} & (\n  | {\n      /**\n       * @deprecated Use cca2 prop instead\n       */\n      icon: CountryCCA3;\n    }\n  | {\n      cca2: CountryCCA2;\n    }\n);\n\nexport const Flag = (props: Props) => {\n  const cca2 = \"cca2\" in props ? props.cca2 : getCCA2forCCA3(props.icon);\n  const width = props.width ?? 18;\n\n  const [url, setUrl] = useState(svgUrl);\n\n  useEffect(() => {\n    if (svgUrl == null) {\n      void svgUrlGetter.get().then(setUrl);\n    }\n  }, []);\n\n  const flag = useMemo(\n    () =>\n      `${(UNICODE_OFFSET + cca2.charCodeAt(0)).toString(16)}-${(UNICODE_OFFSET + cca2.charCodeAt(1)).toString(16)}`,\n    [cca2],\n  );\n\n  return (\n    <Svg viewBox=\"0 0 18 18\" style={{ height: width, width }}>\n      {url != null && flag != null ? <Use xlinkHref={`${url}#${flag}`} /> : null}\n    </Svg>\n  );\n};\n"],"file":"assets/8.8.4/Flag.stories-Bu3l2ncf.js"}