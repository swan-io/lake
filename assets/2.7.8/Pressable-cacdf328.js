import{ac as W,S as Z,C as ee,j as ae,V as te,T as re}from"./Space-d5dd6734.js";import{r as f}from"./index-b9a8c83f.js";import{u as se,T as ne}from"./useMergeRefs-1e14b057.js";import{g as ie}from"./_commonjsHelpers-de833af9.js";const K=R=>{const[p,g]=f.useState(!1);return[p||R,g]};var Y={exports:{}},U={exports:{}};(function(R,p){p.__esModule=!0,p.default=void 0;var g="DELAY",u="ERROR",h="LONG_PRESS_DETECTED",o="NOT_RESPONDER",m="RESPONDER_ACTIVE_LONG_PRESS_START",v="RESPONDER_ACTIVE_PRESS_START",_="RESPONDER_INACTIVE_PRESS_START",d="RESPONDER_GRANT",P="RESPONDER_RELEASE",S="RESPONDER_TERMINATED",T=Object.freeze({NOT_RESPONDER:{DELAY:u,RESPONDER_GRANT:_,RESPONDER_RELEASE:u,RESPONDER_TERMINATED:u,LONG_PRESS_DETECTED:u},RESPONDER_INACTIVE_PRESS_START:{DELAY:v,RESPONDER_GRANT:u,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:u},RESPONDER_ACTIVE_PRESS_START:{DELAY:u,RESPONDER_GRANT:u,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:m},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:u,RESPONDER_GRANT:u,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:m},ERROR:{DELAY:o,RESPONDER_GRANT:_,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:o}}),C=r=>r.getAttribute("role"),O=r=>r.tagName.toLowerCase(),D=r=>r===v||r===m,b=r=>C(r)==="button",V=r=>r===_||r===v||r===m,I=r=>r===S||r===P,q=r=>{var a=r.key,l=r.target,i=a===" "||a==="Spacebar",e=O(l)==="button"||b(l);return a==="Enter"||i&&e},w=450,L=50;class H{constructor(a){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=o,this.configure(a)}configure(a){this._config=a}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return this._eventHandlers==null&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var a=(e,t)=>{e.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=o,this._isPointerTouch=e.nativeEvent.type==="touchstart",this._receiveSignal(d,e);var s=x(this._config.delayPressStart,0,L);t!==!1&&s>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(g,e)},s):this._receiveSignal(g,e);var n=x(this._config.delayLongPress,10,w);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(e)},n+s)},l=e=>{this._receiveSignal(P,e)},i=e=>{var t=this._config.onPress,s=e.target;if(this._touchState!==o&&q(e)){l(e),document.removeEventListener("keyup",i);var n=s.getAttribute("role"),c=O(s),y=n==="link"||c==="a"||c==="button"||c==="input"||c==="select"||c==="textarea";t!=null&&!y&&t(e)}};return{onStartShouldSetResponder:e=>{var t=this._config.disabled;return t&&b(e.currentTarget)&&e.stopPropagation(),t==null?!0:!t},onKeyDown:e=>{var t=this._config.disabled,s=e.key,n=e.target;if(!t&&q(e)){this._touchState===o&&(a(e,!1),document.addEventListener("keyup",i));var c=s===" "||s==="Spacebar",y=C(n),N=y==="button"||y==="menuitem";c&&N&&O(n)!=="button"&&e.preventDefault(),e.stopPropagation()}},onResponderGrant:e=>a(e),onResponderMove:e=>{this._config.onPressMove!=null&&this._config.onPressMove(e);var t=M(e);if(this._touchActivatePosition!=null){var s=this._touchActivatePosition.pageX-t.pageX,n=this._touchActivatePosition.pageY-t.pageY;Math.hypot(s,n)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:e=>l(e),onResponderTerminate:e=>{e.nativeEvent.type==="selectionchange"&&(this._selectionTerminated=!0),this._receiveSignal(S,e)},onResponderTerminationRequest:e=>{var t=this._config,s=t.cancelable,n=t.disabled,c=t.onLongPress;return!n&&c!=null&&this._isPointerTouch&&e.nativeEvent.type==="contextmenu"?!1:s??!0},onClick:e=>{var t=this._config,s=t.disabled,n=t.onPress;s?b(e.currentTarget)&&e.stopPropagation():(e.stopPropagation(),this._longPressDispatched||this._selectionTerminated?e.preventDefault():n!=null&&e.altKey===!1&&n(e))},onContextMenu:e=>{var t=this._config,s=t.disabled,n=t.onLongPress;s?b(e.currentTarget)&&e.stopPropagation():n!=null&&this._isPointerTouch&&!e.defaultPrevented&&(e.preventDefault(),e.stopPropagation())}}}_receiveSignal(a,l){var i=this._touchState,e=null;T[i]!=null&&(e=T[i][a]),!(this._touchState===o&&a===P)&&(e==null||e===u?console.error("PressResponder: Invalid signal "+a+" for state "+i+" on responder"):i!==e&&(this._performTransitionSideEffects(i,e,a,l),this._touchState=e))}_performTransitionSideEffects(a,l,i,e){if(I(i)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),V(a)&&i===h){var t=this._config.onLongPress;t!=null&&e.nativeEvent.key==null&&(t(e),this._longPressDispatched=!0)}var s=D(a),n=D(l);if(!s&&n?this._activate(e):s&&!n&&this._deactivate(e),V(a)&&i===P){var c=this._config,y=c.onLongPress,N=c.onPress;if(N!=null){var A=y!=null&&a===m;A||!n&&!s&&(this._activate(e),this._deactivate(e))}}this._cancelPressDelayTimeout()}_activate(a){var l=this._config,i=l.onPressChange,e=l.onPressStart,t=M(a);this._touchActivatePosition={pageX:t.pageX,pageY:t.pageY},e!=null&&e(a),i!=null&&i(!0)}_deactivate(a){var l=this._config,i=l.onPressChange,e=l.onPressEnd;function t(){e!=null&&e(a),i!=null&&i(!1)}var s=x(this._config.delayPressEnd);s>0?this._pressOutDelayTimeout=setTimeout(()=>{t()},s):t()}_handleLongPress(a){(this._touchState===v||this._touchState===m)&&this._receiveSignal(h,a)}_cancelLongPressDelayTimeout(){this._longPressDelayTimeout!=null&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){this._pressDelayTimeout!=null&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){this._pressOutDelayTimeout!=null&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}p.default=H;function x(r,a,l){return a===void 0&&(a=0),l===void 0&&(l=0),Math.max(a,r??l)}function M(r){var a=r.nativeEvent,l=a.changedTouches,i=a.touches;return i!=null&&i.length>0?i[0]:l!=null&&l.length>0?l[0]:r.nativeEvent}R.exports=p.default})(U,U.exports);var le=U.exports;(function(R,p){var g=W.default;p.__esModule=!0,p.default=o;var u=g(le),h=f;function o(m,v){var _=(0,h.useRef)(null);_.current==null&&(_.current=new u.default(v));var d=_.current;return(0,h.useEffect)(()=>{d.configure(v)},[v,d]),(0,h.useEffect)(()=>()=>{d.reset()},[d]),(0,h.useDebugValue)(v),d.getEventHandlers()}R.exports=p.default})(Y,Y.exports);var oe=Y.exports;const ue=ie(oe),de=ue,j=Z.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{pointerEvents:"none"}}),$=(R,p={})=>{const{applyPressStyle:g=!0}=p;return f.forwardRef((u,h)=>{const{children:o,delayLongPress:m,delayPressIn:v,delayPressOut:_,disabled:d=!1,onBlur:P,onContextMenu:S,onFocus:T,onHoverIn:C,onHoverOut:O,onKeyDown:D,onLongPress:b,onPress:V,onPressIn:I,onPressMove:q,onPressOut:w,style:L,tabIndex:H,testOnly_hovered:x,testOnly_pressed:M,...r}=u,[a,l]=K(x===!0),[i,e]=K(!1),[t,s]=K(M===!0),n=f.useRef(null),c=se(h,n),y=f.useMemo(()=>({delayLongPress:m,delayPressStart:v,delayPressEnd:_,disabled:d,onLongPress:b,onPress:V,onPressChange:s,onPressStart:I,onPressMove:q,onPressEnd:w}),[m,v,_,d,b,V,I,q,w,s]),N=de(n,y),{onContextMenu:A,onKeyDown:k}=N;ee(n,{disabled:d,onHoverChange:l,onHoverStart:C,onHoverEnd:O});const z={hovered:a,focused:i,pressed:t},X=f.useCallback(E=>{E.nativeEvent.target===n.current&&(e(!1),P==null||P(E))},[n,e,P]),B=f.useCallback(E=>{E.nativeEvent.target===n.current&&(e(!0),T==null||T(E))},[n,e,T]),J=f.useCallback(E=>{A==null||A(E),S==null||S(E)},[S,A]),Q=f.useCallback(E=>{k==null||k(E),D==null||D(E)},[D,k]);let G;return H!==void 0?G=H:G=d?-1:0,ae(R,{...r,...N,"aria-disabled":d,onBlur:X,onContextmenu:J,onFocus:B,onKeyDown:Q,ref:c,style:[!d&&g?j.active:j.disabled,typeof L=="function"?L(z):L],tabIndex:G,children:typeof o=="function"?o(z):o})})},me=f.memo($(te,{applyPressStyle:!0})),F=f.memo($(re,{applyPressStyle:!0})),ce=f.memo($(ne,{applyPressStyle:!1}));F.displayName="PressableText";ce.displayName="PressableTextInput";try{F.displayName="PressableText",F.__docgenInfo={description:"",displayName:"PressableText",props:{role:{defaultValue:null,description:"",name:"role",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"grid"'},{value:'"row"'},{value:'"cell"'},{value:'"tooltip"'},{value:'"alert"'},{value:'"alertdialog"'},{value:'"application"'},{value:'"article"'},{value:'"banner"'},{value:'"button"'},{value:'"checkbox"'},{value:'"columnheader"'},{value:'"combobox"'},{value:'"complementary"'},{value:'"contentinfo"'},{value:'"definition"'},{value:'"dialog"'},{value:'"directory"'},{value:'"document"'},{value:'"feed"'},{value:'"figure"'},{value:'"form"'},{value:'"group"'},{value:'"heading"'},{value:'"img"'},{value:'"link"'},{value:'"list"'},{value:'"listitem"'},{value:'"log"'},{value:'"main"'},{value:'"marquee"'},{value:'"math"'},{value:'"menu"'},{value:'"menubar"'},{value:'"menuitem"'},{value:'"meter"'},{value:'"navigation"'},{value:'"note"'},{value:'"option"'},{value:'"presentation"'},{value:'"progressbar"'},{value:'"radio"'},{value:'"radiogroup"'},{value:'"region"'},{value:'"rowgroup"'},{value:'"rowheader"'},{value:'"scrollbar"'},{value:'"searchbox"'},{value:'"separator"'},{value:'"slider"'},{value:'"spinbutton"'},{value:'"status"'},{value:'"summary"'},{value:'"switch"'},{value:'"tab"'},{value:'"table"'},{value:'"tablist"'},{value:'"tabpanel"'},{value:'"term"'},{value:'"timer"'},{value:'"toolbar"'},{value:'"tree"'},{value:'"treegrid"'},{value:'"treeitem"'},{value:'"blockquote"'},{value:'"code"'},{value:'"deletion"'},{value:'"emphasis"'},{value:'"insertion"'},{value:'"label"'},{value:'"paragraph"'},{value:'"strong"'},{value:'"gridcell"'},{value:'"listbox"'},{value:'"menuitemcheckbox"'},{value:'"menuitemradio"'},{value:'"textbox"'}]}},tabIndex:{defaultValue:null,description:"Additional accessibility props",name:"tabIndex",required:!1,type:{name:"enum",value:[{value:"0"},{value:"-1"}]}},"aria-activedescendant":{defaultValue:null,description:`Aria props (additional, minus existants)
@see https://necolas.github.io/react-native-web/docs/accessibility
@see https://reactnative.dev/docs/accessibility#aria-valuemax`,name:"aria-activedescendant",required:!1,type:{name:"string"}},"aria-atomic":{defaultValue:null,description:"",name:"aria-atomic",required:!1,type:{name:"boolean"}},"aria-autocomplete":{defaultValue:null,description:"",name:"aria-autocomplete",required:!1,type:{name:"string"}},"aria-colcount":{defaultValue:null,description:"",name:"aria-colcount",required:!1,type:{name:"number"}},"aria-colindex":{defaultValue:null,description:"",name:"aria-colindex",required:!1,type:{name:"number"}},"aria-colspan":{defaultValue:null,description:"",name:"aria-colspan",required:!1,type:{name:"number"}},"aria-controls":{defaultValue:null,description:"",name:"aria-controls",required:!1,type:{name:"string"}},"aria-current":{defaultValue:null,description:"",name:"aria-current",required:!1,type:{name:'boolean | "page" | "step" | "location" | "date" | "time"'}},"aria-describedby":{defaultValue:null,description:"",name:"aria-describedby",required:!1,type:{name:"string"}},"aria-details":{defaultValue:null,description:"",name:"aria-details",required:!1,type:{name:"string"}},"aria-errormessage":{defaultValue:null,description:"",name:"aria-errormessage",required:!1,type:{name:"string"}},"aria-flowto":{defaultValue:null,description:"",name:"aria-flowto",required:!1,type:{name:"string"}},"aria-haspopup":{defaultValue:null,description:"",name:"aria-haspopup",required:!1,type:{name:"string"}},"aria-invalid":{defaultValue:null,description:"",name:"aria-invalid",required:!1,type:{name:"boolean"}},"aria-keyshortcuts":{defaultValue:null,description:"",name:"aria-keyshortcuts",required:!1,type:{name:"string"}},"aria-level":{defaultValue:null,description:"",name:"aria-level",required:!1,type:{name:"number"}},"aria-multiline":{defaultValue:null,description:"",name:"aria-multiline",required:!1,type:{name:"boolean"}},"aria-multiselectable":{defaultValue:null,description:"",name:"aria-multiselectable",required:!1,type:{name:"boolean"}},"aria-orientation":{defaultValue:null,description:"",name:"aria-orientation",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},"aria-owns":{defaultValue:null,description:"",name:"aria-owns",required:!1,type:{name:"string"}},"aria-placeholder":{defaultValue:null,description:"",name:"aria-placeholder",required:!1,type:{name:"string"}},"aria-posinset":{defaultValue:null,description:"",name:"aria-posinset",required:!1,type:{name:"number"}},"aria-pressed":{defaultValue:null,description:"",name:"aria-pressed",required:!1,type:{name:"boolean"}},"aria-readonly":{defaultValue:null,description:"",name:"aria-readonly",required:!1,type:{name:"boolean"}},"aria-required":{defaultValue:null,description:"",name:"aria-required",required:!1,type:{name:"boolean"}},"aria-roledescription":{defaultValue:null,description:"",name:"aria-roledescription",required:!1,type:{name:"string"}},"aria-rowcount":{defaultValue:null,description:"",name:"aria-rowcount",required:!1,type:{name:"number"}},"aria-rowindex":{defaultValue:null,description:"",name:"aria-rowindex",required:!1,type:{name:"number"}},"aria-rowspan":{defaultValue:null,description:"",name:"aria-rowspan",required:!1,type:{name:"number"}},"aria-setsize":{defaultValue:null,description:"",name:"aria-setsize",required:!1,type:{name:"number"}},"aria-sort":{defaultValue:null,description:"",name:"aria-sort",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"ascending"'},{value:'"descending"'},{value:'"other"'}]}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: NativeSyntheticEvent<KeyboardEvent<Element>>) => void)"}},onKeyDownCapture:{defaultValue:null,description:"",name:"onKeyDownCapture",required:!1,type:{name:"((event: NativeSyntheticEvent<KeyboardEvent<Element>>) => void)"}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:"((event: NativeSyntheticEvent<KeyboardEvent<Element>>) => void)"}},onKeyUpCapture:{defaultValue:null,description:"",name:"onKeyUpCapture",required:!1,type:{name:"((event: NativeSyntheticEvent<KeyboardEvent<Element>>) => void)"}},href:{defaultValue:null,description:"",name:"href",required:!1,type:{name:"string"}},hrefAttrs:{defaultValue:null,description:"",name:"hrefAttrs",required:!1,type:{name:"{ download?: boolean; rel?: string; target?: string | undefined; } | undefined"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<View>"}}}}}catch{}export{me as P,F as a,ce as b};
//# sourceMappingURL=Pressable-cacdf328.js.map
