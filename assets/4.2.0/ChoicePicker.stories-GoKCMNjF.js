import{S as M,n as k,s as _,j as x,V,a as r,e as U,F as j,b as G,i as H,N as L}from"./Space-DbGufgjO.js";import{L as b}from"./LakeButton-FUzXeoa9.js";import{L as N}from"./LakeRadio-UW8dTijs.js";import{P as $}from"./Pressable-VXfhQyDs.js";import{T as Z}from"./Tile-VU6FITl1.js";import{c as z}from"./commonStyles-mTEPZlIY.js";import{u as X}from"./useResponsive-52-tTc9b.js";import{c as Y}from"./math-c7NMN1-8.js";import{P as K}from"./Boxed-X5xMwKRs.js";import{r as y}from"./index-4g5l5LRQ.js";import{t as C}from"./i18n-Y0Rfdp1C.js";import{T as f}from"./Tag-pEv7OWKJ.js";import{S as O,a as B}from"./_StoriesComponents-LK0Hv-SW.js";import"./extends-dGVwEr9R.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-jmm5gWkb.js";import"./index-rUwNt4xF.js";import"./rifm-bvJXQzz8.js";import"./utc-y0zBq2ZQ.js";import"./array-_tkD71ox.js";import"./index-mmrIsZrw.js";const R=t=>{let c=t.scrollTop,m=t.scrollLeft;return K.make(g=>{let o;const s=setTimeout(()=>{const p=()=>{o=requestAnimationFrame(()=>{c!==t.scrollTop||m!==t.scrollLeft?(c=t.scrollTop,m=t.scrollLeft,p()):g()})};p()},50);return()=>{clearTimeout(s),o!=null&&cancelAnimationFrame(o)}})},i=M.create({root:{alignSelf:"stretch",alignItems:"stretch",flexGrow:1,overflow:"hidden",marginHorizontal:k[12]},scrollSnap:{scrollSnapType:"x mandatory"},container:{alignSelf:"stretch",flexDirection:"row",flexWrap:"wrap",alignItems:"stretch",justifyContent:"center"},mobileContainer:{flexWrap:"nowrap",justifyContent:"flex-start",transitionProperty:"transform",transitionDuration:"300ms",transitionTimingFunction:"ease-in-out"},item:{flexGrow:0,flexBasis:"33.333%",maxWidth:300,padding:_[12]},itemAnimation:{transform:"translateZ(0px)",animationKeyframes:{from:{opacity:0,transform:"translateZ(0px) translateX(50px)"},to:{opacity:1,transform:"translateZ(0px) translateX(0px)"}},animationDuration:"200ms",animationFillMode:"backwards",animationTimingFunction:"ease-in-out"},itemLarge:{flexBasis:"50%",maxWidth:"none"},itemSmallViewport:{width:"100%",flexBasis:"auto",maxWidth:"none",scrollSnapAlign:"center"},tileContents:{alignItems:"center",alignSelf:"stretch",flexGrow:1},tileRenderedContents:{alignItems:"center",alignSelf:"stretch",flexGrow:1},leftButton:{position:"absolute",top:"50%",left:k[24],transform:"translateY(-50%)",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderWidth:1,borderLeftWidth:0},rightButton:{position:"absolute",top:"50%",right:k[24],transform:"translateY(-50%)",borderTopRightRadius:0,borderBottomRightRadius:0,borderWidth:1,borderRightWidth:0}}),J=t=>t,S=({items:t,getId:c=J,large:m=!1,renderItem:g,value:o,disabled:s=!1,onChange:p})=>{const d=y.useRef(null),{desktop:n}=X(H.medium),[v,w]=y.useState("start");y.useEffect(()=>{if(n)return;const e=d.current,a=t.findIndex(l=>o===l);if(a!==-1&&e instanceof HTMLDivElement){const l=e.offsetWidth;e.scrollTo({x:a*l,animated:!1})}o==null&&t[0]!=null&&p(t[0])},[n]);const E=()=>{if(n)return;const e=d.current;if(e instanceof HTMLDivElement){const a=e.scrollLeft,l=e.offsetWidth,u=Y(0,t.length-1)(Math.round(a/l)),h=t[u];h!=null&&p(h),L(u).with(0,()=>w("start")).with(t.length-1,()=>w("end")).otherwise(()=>w("middle"))}},q=()=>{var a;const e=d.current;if(e instanceof HTMLDivElement){const l=e.scrollLeft,u=e.offsetWidth,h=Math.round(l/u),P=Math.max(0,h-1);e.style.scrollSnapType="none",(a=d.current)==null||a.scrollTo({x:P*u,animated:!0}),R(e).onResolve(()=>{e.style.scrollSnapType=null})}},F=()=>{var a;const e=d.current;if(e instanceof HTMLDivElement){const l=e.scrollLeft,u=e.offsetWidth,h=Math.round(l/u),P=Math.min(t.length-1,h+1);e.style.scrollSnapType="none",(a=d.current)==null||a.scrollTo({x:P*u,animated:!0}),R(e).onResolve(()=>{e.style.scrollSnapType=null})}};return x(V,{children:[r(V,{style:i.root,children:r(U,{ref:d,horizontal:!n,onScroll:E,scrollEventThrottle:200,style:i.scrollSnap,contentContainerStyle:[i.container,!n&&i.mobileContainer,!n&&{width:`${t.length*100}%`}],children:t.map((e,a)=>r($,{disabled:s,style:[i.item,s&&z.disabled,n&&i.itemAnimation,n&&{animationDelay:`${200+100*a}ms`},m&&i.itemLarge,!n&&i.itemSmallViewport,!n&&{width:`${100/t.length}%`}],onPress:()=>p(e),children:({hovered:l})=>r(Z,{hovered:l,selected:o!=null&&c(e)===c(o),flexGrow:1,children:x(V,{style:i.tileContents,children:[r(V,{style:i.tileRenderedContents,children:g(e)}),n&&x(j,{children:[r(G,{height:24}),r(N,{value:o!=null&&c(e)===c(o)})]})]})})},String(a)))})}),!n&&r(b,{icon:"chevron-left-filled",mode:"secondary",forceBackground:!0,onPress:q,disabled:v==="start"||s,style:i.leftButton,ariaLabel:C("common.previous")}),!n&&r(b,{icon:"chevron-right-filled",mode:"secondary",forceBackground:!0,onPress:F,disabled:v==="end"||s,style:i.rightButton,ariaLabel:C("common.next")})]})};try{S.displayName="ChoicePicker",S.__docgenInfo={description:"",displayName:"ChoicePicker",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"T[]"}},large:{defaultValue:{value:"false"},description:"",name:"large",required:!1,type:{name:"boolean"}},renderItem:{defaultValue:null,description:"",name:"renderItem",required:!0,type:{name:"(value: T) => ReactNode"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"T"}},getId:{defaultValue:{value:"<T,>(x: T) => x"},description:"",name:"getId",required:!1,type:{name:"((item: T) => unknown)"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: T) => void"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}const A=M.create({part:{padding:_[32]}}),Te={title:"Forms/ChoicePicker",component:S},T=()=>{const t=["Virtual","VirtualAndPhysical","SingleUseVirtual"],[c,m]=y.useState(),[g,o]=y.useState();return x(O,{title:"Choice Picker",children:[r(B,{title:"Default",style:A.part,children:r(S,{items:t,value:c,onChange:m,renderItem:s=>L(s).with("Virtual",()=>r(f,{icon:"phone-regular",color:"mediumSladeBlue",children:"Virtual"})).with("VirtualAndPhysical",()=>r(f,{icon:"payment-regular",color:"shakespear",children:"Virtual & physical"})).with("SingleUseVirtual",()=>r(f,{icon:"phone-regular",color:"darkPink",children:"Single use"})).exhaustive()})}),r(B,{title:"Large",style:A.part,children:r(S,{items:t,value:g,large:!0,onChange:o,renderItem:s=>L(s).with("Virtual",()=>r(f,{icon:"phone-regular",color:"mediumSladeBlue",children:"Virtual"})).with("VirtualAndPhysical",()=>r(f,{icon:"payment-regular",color:"shakespear",children:"Virtual & physical"})).with("SingleUseVirtual",()=>r(f,{icon:"phone-regular",color:"darkPink",children:"Single use"})).exhaustive()})})]})};var I,W,D;T.parameters={...T.parameters,docs:{...(I=T.parameters)==null?void 0:I.docs,source:{originalSource:`() => {
  const items: ["Virtual", "VirtualAndPhysical", "SingleUseVirtual"] = ["Virtual", "VirtualAndPhysical", "SingleUseVirtual"];
  const [value, setValue] = useState<(typeof items)[number]>();
  const [largeValue, setLargeValue] = useState<(typeof items)[number]>();
  return <StoryBlock title="Choice Picker">
      <StoryPart title="Default" style={styles.part}>
        <ChoicePicker items={items} value={value} onChange={setValue} renderItem={item => match(item).with("Virtual", () => <Tag icon="phone-regular" color="mediumSladeBlue">
                  Virtual
                </Tag>).with("VirtualAndPhysical", () => <Tag icon="payment-regular" color="shakespear">
                  Virtual & physical
                </Tag>).with("SingleUseVirtual", () => <Tag icon="phone-regular" color="darkPink">
                  Single use
                </Tag>).exhaustive()} />
      </StoryPart>

      <StoryPart title="Large" style={styles.part}>
        <ChoicePicker items={items} value={largeValue} large={true} onChange={setLargeValue} renderItem={item => match(item).with("Virtual", () => <Tag icon="phone-regular" color="mediumSladeBlue">
                  Virtual
                </Tag>).with("VirtualAndPhysical", () => <Tag icon="payment-regular" color="shakespear">
                  Virtual & physical
                </Tag>).with("SingleUseVirtual", () => <Tag icon="phone-regular" color="darkPink">
                  Single use
                </Tag>).exhaustive()} />
      </StoryPart>
    </StoryBlock>;
}`,...(D=(W=T.parameters)==null?void 0:W.docs)==null?void 0:D.source}}};const xe=["Default"];export{T as Default,xe as __namedExportsOrder,Te as default};
//# sourceMappingURL=ChoicePicker.stories-GoKCMNjF.js.map
