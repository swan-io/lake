{"version":3,"file":"LakeButton-vOSY7rJj.js","sources":["../../../packages/lake/src/components/LakeButton.tsx"],"sourcesContent":["import { Option } from \"@swan-io/boxed\";\nimport { Children, Fragment, memo, ReactNode, Ref, useEffect, useState } from \"react\";\nimport {\n  ActivityIndicator,\n  GestureResponderEvent,\n  HrefAttrs,\n  PressableStateCallbackType,\n  StyleProp,\n  StyleSheet,\n  View,\n  ViewStyle,\n} from \"react-native\";\nimport { match, P } from \"ts-pattern\";\nimport { commonStyles } from \"../constants/commonStyles\";\nimport {\n  backgroundColor,\n  colors,\n  ColorVariants,\n  invariantColors,\n  radii,\n  Spacings,\n  spacings,\n  texts,\n} from \"../constants/design\";\nimport { isNotNullish, isNullish } from \"../utils/nullish\";\nimport { Box } from \"./Box\";\nimport { Icon, IconName } from \"./Icon\";\nimport { LakeText } from \"./LakeText\";\nimport { Pressable } from \"./Pressable\";\nimport { Space } from \"./Space\";\n\nconst styles = StyleSheet.create({\n  base: {\n    alignItems: \"center\",\n    backgroundColor: colors.gray[900],\n    borderRadius: radii[6],\n    flexDirection: \"row\",\n    flexShrink: 0,\n    height: 48,\n    minWidth: 90,\n    justifyContent: \"center\",\n    paddingHorizontal: 20,\n  },\n  transition: {\n    transitionDuration: \"150ms\",\n    transitionProperty: \"background-color, color\",\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  iconOnly: {\n    minWidth: 48,\n    width: 48,\n    paddingRight: 0,\n    paddingLeft: 0,\n  },\n  iconSmallOnly: {\n    minWidth: 40,\n    width: 40,\n    paddingRight: 0,\n    paddingLeft: 0,\n  },\n  hiddenView: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n    transitionDuration: \"150ms\",\n    transitionProperty: \"opacity\",\n    opacity: 0,\n  },\n  pressed: {\n    opacity: 0.15,\n    backgroundColor: colors.gray[900],\n    borderRadius: radii[6],\n  },\n  loaderContainerProgress: {\n    opacity: 0.5,\n    backgroundColor: colors.gray[900],\n    transformOrigin: \"0 0\",\n    ...StyleSheet.absoluteFillObject,\n  },\n  small: {\n    height: 40,\n    paddingLeft: 16,\n    paddingRight: 16,\n  },\n  withIconStart: {\n    paddingRight: 24,\n    paddingLeft: 26,\n  },\n  withIconStartSmall: {\n    paddingRight: 19.5,\n    paddingLeft: 21.5,\n  },\n  withIconEnd: {\n    paddingRight: 20,\n    paddingLeft: 24,\n  },\n  withIconEndSmall: {\n    paddingRight: 20.5,\n    paddingLeft: 21.5,\n  },\n  text: texts.semibold,\n  textSmall: texts.smallSemibold,\n  resetOpacity: {\n    opacity: 1,\n  },\n  loaderContainer: {\n    ...StyleSheet.absoluteFillObject,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    transform: \"translateZ(0px)\",\n    borderRadius: radii[6],\n    overflow: \"hidden\",\n  },\n  group: {\n    flexDirection: \"row\",\n    alignItems: \"stretch\",\n    paddingVertical: spacings[16],\n  },\n  pill: {\n    width: 10,\n    height: 10,\n    borderRadius: 5,\n    borderWidth: 2,\n    borderColor: backgroundColor.default,\n    backgroundColor: colors.negative[500],\n    position: \"absolute\",\n    top: -3,\n    right: -3,\n  },\n  vertical: {\n    flexDirection: \"column\",\n    height: \"auto\",\n    paddingVertical: spacings[12],\n  },\n  verticalSmall: {\n    paddingVertical: spacings[8],\n  },\n  hidden: {\n    visibility: \"hidden\",\n  },\n});\n\nexport type ButtonProps = {\n  ref?: Ref<View>;\n  ariaControls?: string;\n  ariaExpanded?: boolean;\n  color?: ColorVariants;\n  disabled?: boolean;\n  direction?: \"column\" | \"row\";\n  loading?: boolean;\n  grow?: boolean;\n  icon?: IconName;\n  iconPosition?: \"start\" | \"end\";\n  mode?: \"primary\" | \"secondary\" | \"tertiary\";\n  onPress?: (event: GestureResponderEvent) => void;\n  size?: \"large\" | \"small\";\n  iconSize?: number;\n  style?: StyleProp<ViewStyle> | ((props: PressableStateCallbackType) => StyleProp<ViewStyle>);\n  forceBackground?: boolean;\n  href?: string;\n  hrefAttrs?: HrefAttrs;\n  pill?: boolean;\n  disabledUntil?: string;\n} & (\n  | {\n      ariaLabel: string;\n      children?: never;\n    }\n  | {\n      ariaLabel?: string;\n      children: ReactNode;\n    }\n);\n\nexport const LakeButton = memo(\n  ({\n    ref,\n    ariaControls,\n    ariaExpanded,\n    ariaLabel,\n    children,\n    color = \"gray\",\n    direction = \"row\",\n    disabled = false,\n    icon,\n    grow = false,\n    iconPosition = \"start\",\n    loading = false,\n    mode = \"primary\",\n    onPress,\n    size = \"large\",\n    iconSize = size === \"small\" ? 18 : 20,\n    style,\n    forceBackground = false,\n    href,\n    hrefAttrs,\n    pill = false,\n    disabledUntil,\n  }: ButtonProps) => {\n    const [progressAnimation, setProgressAnimation] = useState<\n      Option<{\n        startTime: number;\n        duration: number;\n        now: number;\n      }>\n    >(() => Option.None());\n\n    const isPrimary = mode === \"primary\";\n    const isSmall = size === \"small\";\n\n    const vertical = direction === \"column\";\n    const spaceHeight = vertical ? 4 : undefined;\n    const spaceWidth = vertical ? undefined : isSmall ? 8 : 12;\n\n    const hasIcon = isNotNullish(icon);\n    const hasIconStart = hasIcon && iconPosition === \"start\";\n    const hasIconEnd = hasIcon && iconPosition === \"end\";\n    const hasOnlyIcon = hasIcon && isNullish(children);\n\n    useEffect(() => {\n      if (disabledUntil == null) {\n        return;\n      }\n\n      const startTime = Date.now();\n      const endTime = new Date(disabledUntil).getTime();\n\n      const config = {\n        startTime,\n        duration: endTime - startTime,\n        endTime,\n      };\n\n      const tick = () => {\n        const now = Date.now();\n        if (now >= config.endTime) {\n          setProgressAnimation(Option.None());\n        } else {\n          setProgressAnimation(\n            Option.Some({\n              startTime: config.startTime,\n              duration: config.duration,\n              now: Date.now(),\n            }),\n          );\n          animationFrameId = requestAnimationFrame(tick);\n        }\n      };\n      let animationFrameId = requestAnimationFrame(tick);\n      return () => cancelAnimationFrame(animationFrameId);\n    }, [disabledUntil]);\n\n    const shouldHideContents = loading || progressAnimation.isSome();\n\n    return (\n      <Pressable\n        href={href}\n        hrefAttrs={hrefAttrs}\n        role={href != null ? \"link\" : \"button\"}\n        aria-busy={loading}\n        aria-disabled={disabled}\n        aria-controls={ariaControls}\n        aria-expanded={ariaExpanded}\n        aria-label={ariaLabel}\n        disabled={loading || disabled || progressAnimation.isSome()}\n        ref={ref}\n        onPress={onPress}\n        style={({ hovered, pressed, focused }) => [\n          styles.base,\n\n          (hovered || pressed) && styles.transition,\n\n          grow && styles.grow,\n          isSmall && styles.small,\n\n          vertical && [styles.vertical, isSmall && styles.verticalSmall],\n          hasIconStart && isSmall ? styles.withIconStartSmall : styles.withIconStart,\n          hasIconEnd && (isSmall ? styles.withIconEndSmall : styles.withIconEnd),\n          hasOnlyIcon && (isSmall ? styles.iconSmallOnly : styles.iconOnly),\n\n          (disabled || progressAnimation.isSome()) && commonStyles.disabled,\n          disabled && forceBackground && styles.resetOpacity,\n\n          match(mode)\n            .with(\"primary\", () => ({\n              backgroundColor:\n                color === \"warning\"\n                  ? hovered\n                    ? colors[color][600]\n                    : colors[color][500]\n                  : hovered\n                    ? colors[color].secondary\n                    : colors[color].primary,\n            }))\n            .with(\"secondary\", () => ({\n              backgroundColor: pressed\n                ? colors[color][100]\n                : hovered\n                  ? colors[color][50]\n                  : forceBackground\n                    ? backgroundColor.accented\n                    : invariantColors.transparent,\n              borderWidth: 1,\n              borderColor:\n                disabled && forceBackground\n                  ? colors[color][100]\n                  : hovered\n                    ? colors[color][600]\n                    : colors[color][300],\n            }))\n            .with(\"tertiary\", () => ({\n              backgroundColor: pressed\n                ? colors[color][200]\n                : hovered\n                  ? colors[color][100]\n                  : invariantColors.transparent,\n            }))\n            .exhaustive(),\n\n          typeof style === \"function\" ? style({ hovered, pressed, focused }) : style,\n        ]}\n      >\n        {({ pressed, hovered }) => {\n          const textColor = isPrimary\n            ? colors[color].contrast\n            : disabled && forceBackground\n              ? colors[color][300]\n              : hovered || pressed\n                ? colors[color][700]\n                : colors[color][600];\n\n          return (\n            <>\n              {hasIconStart && (\n                <>\n                  <Icon\n                    color={textColor}\n                    name={icon}\n                    size={iconSize}\n                    style={shouldHideContents && styles.hidden}\n                  />\n\n                  {isNotNullish(children) && <Space height={spaceHeight} width={spaceWidth} />}\n                </>\n              )}\n\n              {typeof children === \"string\" || typeof children === \"number\" ? (\n                <LakeText\n                  numberOfLines={1}\n                  userSelect=\"none\"\n                  style={[\n                    isSmall ? styles.textSmall : styles.text,\n                    shouldHideContents && styles.hidden,\n                    { color: textColor },\n                  ]}\n                >\n                  {children}\n                </LakeText>\n              ) : (\n                <Box\n                  alignItems=\"center\"\n                  direction=\"row\"\n                  justifyContent=\"center\"\n                  style={[vertical && styles.vertical, shouldHideContents && styles.hidden]}\n                >\n                  {children}\n                </Box>\n              )}\n\n              {hasIconEnd && (\n                <>\n                  {isNotNullish(children) && <Space height={spaceHeight} width={spaceWidth} />}\n\n                  <Icon\n                    color={textColor}\n                    name={icon}\n                    size={iconSize}\n                    style={shouldHideContents && styles.hidden}\n                  />\n                </>\n              )}\n\n              {loading && (\n                <View style={styles.loaderContainer}>\n                  <ActivityIndicator\n                    color={isPrimary ? colors[color].contrast : colors[color].primary}\n                    size={iconSize}\n                  />\n                </View>\n              )}\n\n              {isPrimary && <View style={[styles.hiddenView, pressed && styles.pressed]} />}\n\n              {match(progressAnimation)\n                .with(Option.P.Some(P.select()), ({ startTime, now, duration }) => (\n                  <View style={styles.loaderContainer}>\n                    <View\n                      style={[\n                        styles.loaderContainerProgress,\n                        { transform: `scaleX(${((now - startTime) / duration) * 100}%)` },\n                      ]}\n                    />\n\n                    <LakeText color={isPrimary ? colors[color].contrast : colors[color].primary}>\n                      {Math.ceil((duration - (now - startTime)) / 1000)}\n                    </LakeText>\n                  </View>\n                ))\n                .otherwise(() => null)}\n\n              {pill && <View style={styles.pill} />}\n            </>\n          );\n        }}\n      </Pressable>\n    );\n  },\n);\n\nLakeButton.displayName = \"Button\";\n\ntype GroupProps = {\n  children: ReactNode;\n  justifyContent?: ViewStyle[\"justifyContent\"];\n  paddingBottom?: 0 | Spacings;\n};\n\nconst ZERO = 0;\n\nexport const LakeButtonGroup = ({\n  children,\n  justifyContent = \"flex-start\",\n  paddingBottom = 16,\n}: GroupProps) => (\n  <View\n    style={[\n      styles.group,\n      { justifyContent, paddingBottom: paddingBottom === 0 ? ZERO : spacings[paddingBottom] },\n    ]}\n  >\n    {Children.toArray(children).map((item, index) => (\n      <Fragment key={index}>\n        {index > 0 ? <Space width={16} /> : null}\n        {item}\n      </Fragment>\n    ))}\n  </View>\n);\n"],"names":["styles","StyleSheet","colors","radii","texts","spacings","backgroundColor","LakeButton","memo","ref","ariaControls","ariaExpanded","ariaLabel","children","color","direction","disabled","icon","grow","iconPosition","loading","mode","onPress","size","iconSize","style","forceBackground","href","hrefAttrs","pill","disabledUntil","progressAnimation","setProgressAnimation","useState","Option","isPrimary","isSmall","vertical","spaceHeight","spaceWidth","hasIcon","isNotNullish","hasIconStart","hasIconEnd","hasOnlyIcon","isNullish","useEffect","startTime","endTime","config","tick","animationFrameId","shouldHideContents","jsx","Pressable","hovered","pressed","focused","commonStyles","match","invariantColors","textColor","jsxs","Fragment","Icon","Space","LakeText","Box","View","ActivityIndicator","P","now","duration","ZERO","LakeButtonGroup","justifyContent","paddingBottom","Children","item","index"],"mappings":"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"}