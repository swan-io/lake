{"version":3,"file":"Link-CdNWHCMW.js","sources":["../../../packages/lake/src/components/Link.tsx"],"sourcesContent":["import { useLinkProps } from \"@swan-io/chicane\";\nimport { memo, Ref } from \"react\";\nimport { HrefAttrs, PressableStateCallbackType, Text, TextProps } from \"react-native\";\nimport { Except } from \"type-fest\";\nimport { isNotNullish } from \"../utils/nullish\";\nimport { PressableText, PressableTextProps } from \"./Pressable\";\n\nexport type LinkProps = Except<\n  PressableTextProps,\n  \"hrefAttrs\" | \"style\" | \"onPress\" | \"children\"\n> & {\n  ref?: Ref<Text>;\n  to: string;\n  replace?: boolean;\n  disabled?: boolean;\n  download?: boolean;\n  target?: NonNullable<HrefAttrs>[\"target\"];\n  style?:\n    | TextProps[\"style\"]\n    | ((state: PressableStateCallbackType & { active: boolean }) => TextProps[\"style\"]);\n  ariaCurrentValue?: \"page\" | \"location\";\n  onPress?: (e: React.MouseEvent<HTMLAnchorElement>) => void;\n  children?:\n    | TextProps[\"children\"]\n    | ((state: PressableStateCallbackType & { active: boolean }) => TextProps[\"children\"]);\n};\n\nexport const Link = memo(\n  ({\n    ref,\n    role = \"link\",\n    children,\n    disabled = false,\n    onPress,\n    replace = false,\n    download = false,\n    style,\n    target,\n    to,\n    ariaCurrentValue = \"page\",\n    tabIndex,\n    ...props\n  }: LinkProps) => {\n    const { active, onClick } = useLinkProps({ href: to, replace, target });\n\n    return (\n      <PressableText\n        {...props}\n        role={role}\n        disabled={disabled}\n        aria-disabled={disabled}\n        tabIndex={isNotNullish(tabIndex) ? tabIndex : disabled ? -1 : 0}\n        aria-current={active ? ariaCurrentValue : undefined}\n        href={!disabled ? to : undefined}\n        onPress={(event: unknown) => {\n          const e = event as React.MouseEvent<HTMLAnchorElement>;\n          if (disabled) {\n            e.preventDefault();\n          } else {\n            onPress?.(e);\n            onClick(e);\n          }\n        }}\n        ref={ref}\n        style={typeof style === \"function\" ? state => style({ ...state, active }) : style}\n        hrefAttrs={{\n          rel: target && target !== \"self\" ? \"noopener noreferrer\" : undefined,\n          download,\n          target,\n        }}\n      >\n        {typeof children === \"function\" ? state => children({ ...state, active }) : children}\n      </PressableText>\n    );\n  },\n);\n\nLink.displayName = \"Link\";\n"],"names":["Link","memo","ref","role","children","disabled","onPress","replace","download","style","target","to","ariaCurrentValue","tabIndex","props","active","onClick","useLinkProps","jsx","PressableText","isNotNullish","event","e","state"],"mappings":"gLA2BO,MAAMA,EAAOC,EAAAA,KAClB,CAAC,CACC,IAAAC,EACA,KAAAC,EAAO,OACP,SAAAC,EACA,SAAAC,EAAW,GACX,QAAAC,EACA,QAAAC,EAAU,GACV,SAAAC,EAAW,GACX,MAAAC,EACA,OAAAC,EACA,GAAAC,EACA,iBAAAC,EAAmB,OACnB,SAAAC,EACA,GAAGC,CAAA,IACY,CACf,KAAM,CAAE,OAAAC,EAAQ,QAAAC,CAAA,EAAYC,EAAa,CAAE,KAAMN,EAAI,QAAAJ,EAAS,OAAAG,EAAQ,EAEtE,OACEQ,EAAAA,IAACC,EAAA,CACE,GAAGL,EACJ,KAAAX,EACA,SAAAE,EACA,gBAAeA,EACf,SAAUe,EAAaP,CAAQ,EAAIA,EAAWR,EAAW,GAAK,EAC9D,eAAcU,EAASH,EAAmB,OAC1C,KAAOP,EAAgB,OAALM,EAClB,QAAUU,GAAmB,CAC3B,MAAMC,EAAID,EACNhB,EACFiB,EAAE,eAAA,GAEFhB,IAAUgB,CAAC,EACXN,EAAQM,CAAC,EAEb,EACA,IAAApB,EACA,MAAO,OAAOO,GAAU,WAAac,GAASd,EAAM,CAAE,GAAGc,EAAO,OAAAR,CAAA,CAAQ,EAAIN,EAC5E,UAAW,CACT,IAAKC,GAAUA,IAAW,OAAS,sBAAwB,OAC3D,SAAAF,EACA,OAAAE,CAAA,EAGD,SAAA,OAAON,GAAa,WAAamB,GAASnB,EAAS,CAAE,GAAGmB,EAAO,OAAAR,CAAA,CAAQ,EAAIX,CAAA,CAAA,CAGlF,CACF,EAEAJ,EAAK,YAAc;;"}