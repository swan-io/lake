import{s as R,j as t,F as k,V as h,d as D,r as L,b as N,g as B,D as j,K as O,$ as I,z as W,P as _}from"./Space-vOSkumTC.js";import{r}from"./index-uCp2LrAq.js";import{u as H}from"./useResponsive-CWYKQO6x.js";import{n as K}from"./function-De4Cecxu.js";import{B as z}from"./BottomPanel-CQMdPCyR.js";import{F as A}from"./FocusTrap-BMYOn2gx.js";import{T as M}from"./TransitionView-jc08-ng2.js";import{M as F}from"./index-ByctqrIc.js";const $=R.create({scrollTracker:{position:"absolute",pointerEvents:"none",left:0,bottom:0,right:0}}),G=({ItemSeparatorComponent:n,ListEmptyComponent:v,ListFooterComponent:T,ListHeaderComponent:g,contentContainerStyle:x,data:u,horizontal:b=!1,keyExtractor:a,onEndReached:d,onEndReachedThresholdPx:c=200,onKeyDown:S,onScroll:q,renderItem:l,role:m,scrollEventThrottle:V=0,showsScrollIndicators:p=!0,style:f},y)=>{const w=r.useRef(null);return r.useEffect(()=>{const o=w.current;if(o!=null){const s=new IntersectionObserver(P=>{P.forEach(C=>{C.isIntersecting&&(d==null||d())})});return s.observe(o),()=>{s.unobserve(o)}}},[u.length]),t.jsxs(k,{contentContainerStyle:x,horizontal:b,onKeyDown:S,onScroll:q,ref:y,role:m,scrollEventThrottle:V,showsHorizontalScrollIndicator:p,showsVerticalScrollIndicator:p,style:f,children:[g,u.length>0?t.jsxs(h,{children:[u.map((o,s)=>t.jsxs(r.Fragment,{children:[s!==0&&n,l({item:o,index:s})]},a(o,s))),t.jsx(h,{ref:w,style:[$.scrollTracker,{height:c}]})]}):v,T]})},U=r.forwardRef(G);U.__docgenInfo={description:"",methods:[],displayName:"FlatList",props:{ItemSeparatorComponent:{required:!1,tsType:{name:"ReactNode"},description:""},ListEmptyComponent:{required:!1,tsType:{name:"ReactNode"},description:""},ListFooterComponent:{required:!1,tsType:{name:"ReactNode"},description:""},ListHeaderComponent:{required:!1,tsType:{name:"ReactNode"},description:""},contentContainerStyle:{required:!1,tsType:{name:"StyleProp",elements:[{name:"ViewStyle"}],raw:"StyleProp<ViewStyle>"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},horizontal:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},keyExtractor:{required:!0,tsType:{name:"signature",type:"function",raw:"(item: T, index: number) => string",signature:{arguments:[{type:{name:"T"},name:"item"},{type:{name:"number"},name:"index"}],return:{name:"string"}}},description:""},onEndReached:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onEndReachedThresholdPx:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"200",computed:!1}},onKeyDown:{required:!1,tsType:{name:'ScrollViewProps["onKeyDown"]',raw:'ScrollViewProps["onKeyDown"]'},description:""},onScroll:{required:!1,tsType:{name:'ScrollViewProps["onScroll"]',raw:'ScrollViewProps["onScroll"]'},description:""},renderItem:{required:!0,tsType:{name:"signature",type:"function",raw:"(info: ListRenderItemInfo<T>) => ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  item: T;
  index: number;
}`,signature:{properties:[{key:"item",value:{name:"T",required:!0}},{key:"index",value:{name:"number",required:!0}}]}},name:"info"}],return:{name:"ReactNode"}}},description:""},role:{required:!1,tsType:{name:"WebRole"},description:""},scrollEventThrottle:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},showsScrollIndicators:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},style:{required:!1,tsType:{name:"StyleProp",elements:[{name:"ViewStyle"}],raw:"StyleProp<ViewStyle>"},description:""}}};const i=R.create({container:{...R.absoluteFillObject,pointerEvents:"none"},defaultCursor:{cursor:"default"},underlay:{pointerEvents:"auto",cursor:"default",position:"fixed",left:0,top:0,bottom:0,right:0},popoverContainer:{position:"absolute",display:"flex"},popover:{pointerEvents:"auto",display:"flex",flexDirection:"column",backgroundColor:D.accented,borderRadius:L[8],marginVertical:N[8],overflow:"hidden",boxShadow:B.modal,flexGrow:1,alignSelf:"stretch"},popoverContents:{alignItems:"stretch"}}),J={...j.fadeAndSlideInFromBottom,leave:[j.fadeAndSlideInFromBottom.leave,{animationDuration:"100ms"}]},Q=600,X=r.memo(({children:n,id:v,label:T,role:g="dialog",describedBy:x,matchReferenceWidth:u=!1,matchReferenceMinWidth:b=!1,onDismiss:a=K,onEscapeKey:d=a,referenceRef:c,returnFocus:S=!0,autoFocus:q=!0,visible:l,underlay:m=!0,forcedMode:V})=>{const[p,f]=r.useState(null),y=r.useRef(null),{desktop:w}=H(Q),{position:o}=O({referenceRef:c,visible:l,matchReferenceWidth:u,matchReferenceMinWidth:b});r.useEffect(()=>{const e=y.current;!l&&e!=null&&(e.style.pointerEvents="none")},[l]),r.useEffect(()=>{const e=document.createElement("div");return document.body.append(e),f(e),()=>{f(null),e.remove()}},[]);const s=r.useCallback(e=>{e.preventDefault(),a()},[a]),P=r.useCallback(({target:e})=>{const E=c.current;(!(E instanceof Element)||!(e instanceof Element)||E!==e&&!E.contains(e))&&a()},[c,a]),C=r.useCallback(e=>{e.preventDefault()},[]);return p==null?null:I(V).with(W.nullish,()=>w?"Dropdown":"BottomPanel").with("BottomPanel",()=>"BottomPanel").with("Dropdown",()=>"Dropdown").exhaustive()==="BottomPanel"?t.jsx(z,{visible:l,onPressClose:a,returnFocus:!1,children:typeof n=="function"?n({mode:"panel"}):n}):t.jsxs(_,{container:p,children:[l&&m?t.jsx(F,{ref:y,style:i.underlay,onPress:s,"aria-label":"Close"}):null,t.jsx(M,{style:i.container,...J,children:o.isSome()?t.jsx(h,{style:o.get().rootStyle,children:t.jsx(h,{style:[i.popoverContainer,o.get().style,{alignItems:I(o.get().horizontalPosition).with("left",()=>"flex-start").with("center",()=>"center").with("right",()=>"flex-end").exhaustive()}],children:t.jsx(k,{style:i.popover,contentContainerStyle:i.popoverContents,id:v,role:g,"aria-describedby":x,"aria-label":T,children:t.jsx(A,{focusLock:!0,returnFocus:S,autoFocus:q,onEscapeKey:d,onClickOutside:m?void 0:P,children:t.jsx(F,{tabIndex:-1,onPress:C,style:i.defaultCursor,children:typeof n=="function"?n({mode:"dropdown"}):n})})})})}):null})]})});X.__docgenInfo={description:"",methods:[],displayName:"Popover",props:{role:{defaultValue:{value:'"dialog"',computed:!1},required:!1},matchReferenceWidth:{defaultValue:{value:"false",computed:!1},required:!1},matchReferenceMinWidth:{defaultValue:{value:"false",computed:!1},required:!1},onDismiss:{defaultValue:{value:"() => {}",computed:!1},required:!1},onEscapeKey:{defaultValue:{value:"onDismiss = noop",computed:!1},required:!1},returnFocus:{defaultValue:{value:"true",computed:!1},required:!1},autoFocus:{defaultValue:{value:"true",computed:!1},required:!1},underlay:{defaultValue:{value:"true",computed:!1},required:!1}}};export{U as F,X as P};
//# sourceMappingURL=Popover-DL-rmZPP.js.map
