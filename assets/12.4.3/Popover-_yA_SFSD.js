import{j as t,h as L,V as k,s as j,a8 as D,z as R,N,P as B,e as I,d as H,a as M,r as O,b as _}from"./ScrollView-DW__nb6w.js";import{r as n}from"./iframe-BgJk-PVa.js";import{u as W}from"./useResponsive-tIedyGYF.js";import{n as K}from"./function-HIUYo7uF.js";import{B as A}from"./BottomPanel-pJ1cgyn9.js";import{F as z}from"./FocusTrap-t-QFW4HF.js";import{T as G}from"./TransitionView-C8445oD8.js";import{M as F}from"./index-S-pO1fOx.js";const U=j.create({scrollTracker:{position:"absolute",pointerEvents:"none",right:0,bottom:0}}),$=({ref:o,ItemSeparatorComponent:b,ListEmptyComponent:w,ListFooterComponent:T,ListHeaderComponent:g,contentContainerStyle:h,data:d,horizontal:p=!1,keyExtractor:a,onEndReached:m,onEndReachedThresholdPx:i=200,onKeyDown:x,onScroll:q,renderItem:l,role:f,scrollEventThrottle:S=16,showsScrollIndicators:y=!0,style:v})=>{const c=n.useRef(null),V=p?{top:0,width:i}:{left:0,height:i};return n.useEffect(()=>{const r=c.current;if(r!=null){const s=new IntersectionObserver(P=>{P.forEach(C=>{C.isIntersecting&&(m==null||m())})});return s.observe(r),()=>{s.unobserve(r)}}},[d.length]),t.jsxs(L,{contentContainerStyle:h,horizontal:p,onKeyDown:x,onScroll:q,ref:o,role:f,scrollEventThrottle:S,showsScrollIndicators:y,style:v,children:[g,d.length<=0?w:d.map((r,s)=>t.jsxs(n.Fragment,{children:[s!==0&&b,l({item:r,index:s})]},a(r,s))),T,t.jsx(k,{role:"none",ref:c,style:[U.scrollTracker,V]})]})};$.__docgenInfo={description:"",methods:[],displayName:"FlatList",props:{ref:{required:!1,tsType:{name:"Ref",elements:[{name:"signature",type:"object",raw:`{
  element: HTMLElement | null;
  scrollTo: (event: { x?: number; y?: number; animated?: boolean }) => void;
}`,signature:{properties:[{key:"element",value:{name:"union",raw:"HTMLElement | null",elements:[{name:"HTMLElement"},{name:"null"}],required:!0}},{key:"scrollTo",value:{name:"signature",type:"function",raw:"(event: { x?: number; y?: number; animated?: boolean }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ x?: number; y?: number; animated?: boolean }",signature:{properties:[{key:"x",value:{name:"number",required:!1}},{key:"y",value:{name:"number",required:!1}},{key:"animated",value:{name:"boolean",required:!1}}]}},name:"event"}],return:{name:"void"}},required:!0}}]}}],raw:"Ref<FlatListRef>"},description:""},ItemSeparatorComponent:{required:!1,tsType:{name:"ReactNode"},description:""},ListEmptyComponent:{required:!1,tsType:{name:"ReactNode"},description:""},ListFooterComponent:{required:!1,tsType:{name:"ReactNode"},description:""},ListHeaderComponent:{required:!1,tsType:{name:"ReactNode"},description:""},contentContainerStyle:{required:!1,tsType:{name:"StyleProp",elements:[{name:"ViewStyle"}],raw:"StyleProp<ViewStyle>"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},horizontal:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},keyExtractor:{required:!0,tsType:{name:"signature",type:"function",raw:"(item: T, index: number) => string",signature:{arguments:[{type:{name:"T"},name:"item"},{type:{name:"number"},name:"index"}],return:{name:"string"}}},description:""},onEndReached:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onEndReachedThresholdPx:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"200",computed:!1}},onKeyDown:{required:!1,tsType:{name:'intersection["onKeyDown"]',raw:'ScrollViewProps["onKeyDown"]'},description:""},onScroll:{required:!1,tsType:{name:'intersection["onScroll"]',raw:'ScrollViewProps["onScroll"]'},description:""},renderItem:{required:!0,tsType:{name:"signature",type:"function",raw:"(info: ListRenderItemInfo<T>) => ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  item: T;
  index: number;
}`,signature:{properties:[{key:"item",value:{name:"T",required:!0}},{key:"index",value:{name:"number",required:!0}}]}},name:"info"}],return:{name:"ReactNode"}}},description:""},role:{required:!1,tsType:{name:"WebRole"},description:""},scrollEventThrottle:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"16",computed:!1}},showsScrollIndicators:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},style:{required:!1,tsType:{name:"StyleProp",elements:[{name:"ViewStyle"}],raw:"StyleProp<ViewStyle>"},description:""}}};const u=j.create({container:{...j.absoluteFillObject,pointerEvents:"none"},defaultCursor:{cursor:"default"},underlay:{pointerEvents:"auto",cursor:"default",position:"fixed",left:0,top:0,bottom:0,right:0},popoverContainer:{position:"absolute",display:"flex"},popover:{pointerEvents:"auto",display:"flex",flexDirection:"column",backgroundColor:_.accented,borderRadius:O[8],marginVertical:M[8],overflow:"hidden",boxShadow:H.modal,flexGrow:1,alignSelf:"stretch"},popoverContents:{alignItems:"stretch"}}),J={...I.fadeAndSlideInFromBottom,leave:[I.fadeAndSlideInFromBottom.leave,{animationDuration:"100ms"}]},Q=600,X=n.memo(({children:o,id:b,label:w,placement:T,role:g="dialog",describedBy:h,matchReferenceWidth:d=!1,matchReferenceMinWidth:p=!1,onDismiss:a=K,onEscapeKey:m=a,referenceRef:i,returnFocus:x=!0,autoFocus:q=!0,visible:l,underlay:f=!0,forcedMode:S})=>{const[y,v]=n.useState(null),c=n.useRef(null),{desktop:V}=W(Q),{position:r}=D({placement:T,referenceRef:i,visible:l,matchReferenceWidth:d,matchReferenceMinWidth:p});n.useEffect(()=>{const e=c.current;!l&&e!=null&&(e.style.pointerEvents="none")},[l]),n.useEffect(()=>{const e=document.createElement("div");return document.body.append(e),v(e),()=>{v(null),e.remove()}},[]);const s=n.useCallback(e=>{e.preventDefault(),a()},[a]),P=n.useCallback(({target:e})=>{const E=i.current;(!(E instanceof Element)||!(e instanceof Element)||E!==e&&!E.contains(e))&&a()},[i,a]),C=n.useCallback(e=>{e.preventDefault()},[]);return y==null?null:R(S).with(N.nullish,()=>V?"Dropdown":"BottomPanel").with("BottomPanel",()=>"BottomPanel").with("Dropdown",()=>"Dropdown").exhaustive()==="BottomPanel"?t.jsx(A,{visible:l,onPressClose:a,returnFocus:!1,children:typeof o=="function"?o({mode:"panel"}):o}):t.jsxs(B,{container:y,children:[l&&f?t.jsx(F,{ref:c,style:u.underlay,onPress:s,"aria-label":"Close"}):null,t.jsx(G,{style:u.container,...J,children:r.isSome()?t.jsx(k,{style:r.get().rootStyle,children:t.jsx(k,{style:[u.popoverContainer,r.get().style,{alignItems:R(r.get().horizontalPosition).with("left",()=>"flex-start").with("center",()=>"center").with("right",()=>"flex-end").exhaustive()}],children:t.jsx(L,{style:u.popover,contentContainerStyle:u.popoverContents,id:b,role:g,"aria-describedby":h,"aria-label":w,children:t.jsx(z,{focusLock:!0,returnFocus:x,autoFocus:q,onEscapeKey:m,onClickOutside:f?void 0:P,children:t.jsx(F,{tabIndex:-1,onPress:C,style:u.defaultCursor,children:typeof o=="function"?o({mode:"dropdown"}):o})})})})}):null})]})});X.__docgenInfo={description:"",methods:[],displayName:"Popover",props:{role:{defaultValue:{value:'"dialog"',computed:!1},required:!1},matchReferenceWidth:{defaultValue:{value:"false",computed:!1},required:!1},matchReferenceMinWidth:{defaultValue:{value:"false",computed:!1},required:!1},onDismiss:{defaultValue:{value:"() => {}",computed:!1},required:!1},onEscapeKey:{defaultValue:{value:"onDismiss = noop",computed:!1},required:!1},returnFocus:{defaultValue:{value:"true",computed:!1},required:!1},autoFocus:{defaultValue:{value:"true",computed:!1},required:!1},underlay:{defaultValue:{value:"true",computed:!1},required:!1}}};export{$ as F,X as P};
//# sourceMappingURL=Popover-_yA_SFSD.js.map
