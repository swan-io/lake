import{_ as N}from"./extends-98964cd2.js";import{r as I}from"./index-f1f749bf.js";import"./with-selector-bb250402.js";import{s as G}from"./index-7f2f9e92.js";var S;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(S||(S={}));var $=function(e){return e},V="beforeunload",te="popstate";function re(e){e===void 0&&(e={});var t=e,r=t.window,n=r===void 0?document.defaultView:r,a=n.history;function c(){var i=n.location,s=i.pathname,y=i.search,A=i.hash,k=a.state||{};return[k.idx,$({pathname:s,search:y,hash:A,state:k.usr||null,key:k.key||"default"})]}var o=null;function l(){if(o)g.call(o),o=null;else{var i=S.Pop,s=c(),y=s[0],A=s[1];if(g.length){if(y!=null){var k=v-y;k&&(o={action:i,location:A,retry:function(){m(k*-1)}},m(k))}}else O(i)}}n.addEventListener(te,l);var h=S.Pop,d=c(),v=d[0],p=d[1],E=H(),g=H();v==null&&(v=0,a.replaceState(N({},a.state,{idx:v}),""));function x(i){return typeof i=="string"?i:D(i)}function L(i,s){return s===void 0&&(s=null),$(N({pathname:p.pathname,hash:"",search:""},typeof i=="string"?U(i):i,{state:s,key:M()}))}function P(i,s){return[{usr:i.state,key:i.key,idx:s},x(i)]}function b(i,s,y){return!g.length||(g.call({action:i,location:s,retry:y}),!1)}function O(i){h=i;var s=c();v=s[0],p=s[1],E.call({action:h,location:p})}function u(i,s){var y=S.Push,A=L(i,s);function k(){u(i,s)}if(b(y,A,k)){var R=P(A,v+1),K=R[0],_=R[1];try{a.pushState(K,"",_)}catch{n.location.assign(_)}O(y)}}function f(i,s){var y=S.Replace,A=L(i,s);function k(){f(i,s)}if(b(y,A,k)){var R=P(A,v),K=R[0],_=R[1];a.replaceState(K,"",_),O(y)}}function m(i){a.go(i)}var w={get action(){return h},get location(){return p},createHref:x,push:u,replace:f,go:m,back:function(){m(-1)},forward:function(){m(1)},listen:function(s){return E.push(s)},block:function(s){var y=g.push(s);return g.length===1&&n.addEventListener(V,X),function(){y(),g.length||n.removeEventListener(V,X)}}};return w}function ne(e){e===void 0&&(e={});var t=e,r=t.initialEntries,n=r===void 0?["/"]:r,a=t.initialIndex,c=n.map(function(u){var f=$(N({pathname:"/",search:"",hash:"",state:null,key:M()},typeof u=="string"?U(u):u));return f}),o=W(a??c.length-1,0,c.length-1),l=S.Pop,h=c[o],d=H(),v=H();function p(u){return typeof u=="string"?u:D(u)}function E(u,f){return f===void 0&&(f=null),$(N({pathname:h.pathname,search:"",hash:""},typeof u=="string"?U(u):u,{state:f,key:M()}))}function g(u,f,m){return!v.length||(v.call({action:u,location:f,retry:m}),!1)}function x(u,f){l=u,h=f,d.call({action:l,location:h})}function L(u,f){var m=S.Push,w=E(u,f);function i(){L(u,f)}g(m,w,i)&&(o+=1,c.splice(o,c.length,w),x(m,w))}function P(u,f){var m=S.Replace,w=E(u,f);function i(){P(u,f)}g(m,w,i)&&(c[o]=w,x(m,w))}function b(u){var f=W(o+u,0,c.length-1),m=S.Pop,w=c[f];function i(){b(u)}g(m,w,i)&&(o=f,x(m,w))}var O={get index(){return o},get action(){return l},get location(){return h},createHref:p,push:L,replace:P,go:b,back:function(){b(-1)},forward:function(){b(1)},listen:function(f){return d.push(f)},block:function(f){return v.push(f)}};return O}function W(e,t,r){return Math.min(Math.max(e,t),r)}function X(e){e.preventDefault(),e.returnValue=""}function H(){var e=[];return{get length(){return e.length},push:function(r){return e.push(r),function(){e=e.filter(function(n){return n!==r})}},call:function(r){e.forEach(function(n){return n&&n(r)})}}}function M(){return Math.random().toString(36).substr(2,8)}function D(e){var t=e.pathname,r=t===void 0?"/":t,n=e.search,a=n===void 0?"":n,c=e.hash,o=c===void 0?"":c;return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function U(e){var t={};if(e){var r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));var n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function q(e){for(var t=0,r,n=0,a=e.length;a>=4;++n,a-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(this,arguments)}function z(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(a,c){if(a){if(typeof a=="string")return z(a,c);var o=Object.prototype.toString.call(a).slice(8,-1);return o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set"?Array.from(a):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?z(a,c):void 0}}(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ae=function(e){return e!==""},oe=function(e,t){return e.length===t.length&&e.every(function(r,n){return r===t[n]})},ie=function(e){for(var t,r={},n=J(new URLSearchParams(e));!(t=n()).done;){var a=t.value,c=a[0],o=a[1],l=r[c];r[c]=l!=null?typeof l=="string"?[l,o]:l.concat(o):o}return r},F=function(e,t,r){var n=e+(e!==""?"&":"")+encodeURIComponent(t);return r!==""?n+"="+encodeURIComponent(r):n},ce=function(e){var t=Object.keys(e);if(t.length===0)return"";var r="";t.sort();for(var n=0,a=t;n<a.length;n++){var c=a[n],o=e[c];if(o!=null)if(typeof o=="string")r=F(r,c,o);else for(var l,h=J(o);!(l=h()).done;)r=F(r,c,l.value)}return r===""?"":"?"+r},Q=function(e,t){var r=e.search,n=e.hash,a=e.pathname.substring(1),c=a!==""?t?a.split("/").filter(ae).map(decodeURIComponent):a.split("/").map(decodeURIComponent):[],o=r!==""?ie(r):{},l=n!==""?decodeURIComponent(n.substring(1)):null,h="/"+c.map(encodeURIComponent).join("/"),d=ce(o),v=l!=null?"#"+encodeURIComponent(l):"",p=h+d+v;return T({key:q(h)+"-"+q(d+v),path:c,search:o},l!==null&&{hash:l},{raw:{path:h,search:d,hash:v},toString:function(){return p}})},B=new Set,j=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?re():ne(),C=Q(j.location,!0);C.toString()!==D(j.location)&&j.replace(C.toString()),j.listen(function(e){var t=Q(e.location,!1);if(t.toString()!==C.toString()){var r=t.raw.search!==C.raw.search,n=r?{}:C.search;if(r){for(var a in t.search)if(Object.prototype.hasOwnProperty.call(t.search,a)){var c=t.search[a];if(c==null)continue;var o=C.search[a];n[a]=o!=null&&typeof o!="string"&&typeof c!="string"&&oe(c,o)?o:c}}C=T({key:t.key,path:t.raw.path!==C.raw.path?t.path:C.path,search:n},t.hash!=null&&{hash:t.hash},{raw:t.raw,toString:t.toString}),B.forEach(function(l){return l(C)})}});var Y=function(e){return B.add(e),function(){B.delete(e)}},ue=function(){return C},Z=I.createContext(ue);Z.Provider;var ee=function(){return I.useContext(Z)},xe=function(){var e=ee();return G.useSyncExternalStore(Y,e,e)},le=function(e){var t=U(e),r=t.pathname,n=t.search,a=t.hash;j.push({pathname:r===void 0?"":r,search:n===void 0?"":n,hash:a===void 0?"":a})},fe=function(e){var t=U(e),r=t.pathname,n=t.search,a=t.hash;j.replace({pathname:r===void 0?"":r,search:n===void 0?"":n,hash:a===void 0?"":a})},se=function(e){var t=e.href,r=e.replace,n=r!==void 0&&r,a=e.target,c=I.useMemo(function(){return U(t).pathname},[t]),o=ee(),l=function(){return c===o().raw.path},h=G.useSyncExternalStore(Y,l,l),d=n||h,v=a==null||a==="_self";return{active:h,onClick:I.useCallback(function(p){p.defaultPrevented||!v||p.button!==0||p.metaKey||p.altKey||p.ctrlKey||p.shiftKey||(p.preventDefault(),d?fe(t):le(t))},[d,v,t])}},he=["onClick","className","replace","style","target","to","activeClassName","activeStyle"],ve=I.forwardRef(function(e,t){var r=e.onClick,n=e.className,a=e.replace,c=e.style,o=e.target,l=e.to,h=e.activeClassName,d=e.activeStyle,v=function(x,L){if(x==null)return{};var P,b,O={},u=Object.keys(x);for(b=0;b<u.length;b++)L.indexOf(P=u[b])>=0||(O[P]=x[P]);return O}(e,he),p=se({href:l,replace:a,target:o}),E=p.active,g=p.onClick;return I.createElement("a",T({},v,{ref:t,href:l,onClick:function(x){r==null||r(x),g(x)},target:o,className:E&&h!=null?n==null?h:n+" "+h:n,style:E&&d!=null?c==null?d:T({},c,d):c}))});ve.displayName="Link";export{xe as K,se as X,ve as _};
//# sourceMappingURL=index-c54dd631.js.map
