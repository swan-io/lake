{"version":3,"file":"ResponsiveContainer-6df0a0cb.js","sources":["../../../packages/lake/src/components/ResponsiveContainer.tsx"],"sourcesContent":["import { ReactNode, useCallback, useLayoutEffect, useRef, useState } from \"react\";\nimport { LayoutChangeEvent, StyleSheet, View, ViewProps } from \"react-native\";\n\nconst styles = StyleSheet.create({\n  hidden: {\n    opacity: 0,\n  },\n});\n\nexport type Context = { small: boolean; large: boolean };\ntype Props = {\n  children: (context: Context) => ReactNode;\n  style?: ViewProps[\"style\"];\n  breakpoint?: number;\n};\n\nexport const ResponsiveContainer = ({ children, style, breakpoint = 1000 }: Props) => {\n  const [isSmall, setIsSmall] = useState<boolean | null>(null);\n  const containerRef = useRef<View | null>(null);\n\n  const onLayout = useCallback(\n    ({\n      nativeEvent: {\n        layout: { width },\n      },\n    }: LayoutChangeEvent) => {\n      setIsSmall(() => width < breakpoint);\n    },\n    [breakpoint],\n  );\n\n  useLayoutEffect(() => {\n    if (containerRef.current != null) {\n      const element = containerRef.current as unknown as HTMLElement;\n      setIsSmall(() => element.offsetWidth < breakpoint);\n    }\n  }, [breakpoint]);\n\n  const isSmallWithDefault = isSmall ?? false;\n\n  return (\n    <View\n      ref={containerRef}\n      onLayout={onLayout}\n      style={[style, isSmall == null ? styles.hidden : null]}\n    >\n      {children({ small: isSmallWithDefault, large: !isSmallWithDefault })}\n    </View>\n  );\n};\n"],"names":["styles","StyleSheet","ResponsiveContainer","children","style","breakpoint","isSmall","setIsSmall","useState","containerRef","useRef","onLayout","useCallback","width","useLayoutEffect","element","isSmallWithDefault","jsx","View"],"mappings":"8FAGA,MAAAA,EAAAC,EAAA,OAAA,CAAiC,OAAA,CACvB,QAAA,CACG,CAEb,CAAA,EASOC,EAAA,CAAA,CAAA,SAAAC,EAAA,MAAAC,EAAA,WAAAC,EAAA,GAAA,IAAA,CACL,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,IAAA,EACAC,EAAAC,SAAA,IAAA,EAEAC,EAAAC,EAAA,YAAiB,CAAA,CACd,YAAA,CACc,OAAA,CAAA,MAAAC,CAAA,CACK,CAClB,IAAA,CAEAN,EAAA,IAAAM,EAAAR,CAAA,CAAmC,EACrC,CAAAA,CAAA,CACW,EAGbS,EAAAA,gBAAA,IAAA,CACE,GAAAL,EAAA,SAAA,KAAA,CACE,MAAAM,EAAAN,EAAA,QACAF,EAAA,IAAAQ,EAAA,YAAAV,CAAA,CAAiD,CACnD,EAAA,CAAAA,CAAA,CAAA,EAGF,MAAAW,EAAAV,GAAA,GAEA,OAAAW,EACEC,EAAC,CAAA,IAAAT,EACM,SAAAE,EACL,MAAA,CAAAP,EAAAE,GAAA,KAAAN,EAAA,OAAA,IAAA,EACqD,SAAAG,EAAA,CAAA,MAAAa,EAAA,MAAA,CAAAA,EAAA,CAEc,CAAA,CAGzE"}