{"version":3,"file":"ResponsiveContainer-V21XPflh.js","sources":["../../../packages/lake/src/components/ResponsiveContainer.tsx"],"sourcesContent":["import { ReactNode, useCallback, useLayoutEffect, useRef, useState } from \"react\";\nimport { LayoutChangeEvent, StyleSheet, View, ViewProps } from \"react-native\";\nimport { Merge } from \"type-fest\";\n\nconst styles = StyleSheet.create({\n  hidden: {\n    opacity: 0,\n  },\n});\n\nexport type Context = {\n  small: boolean;\n  large: boolean;\n};\n\ntype Props = Merge<\n  ViewProps,\n  {\n    breakpoint?: number;\n    children: (context: Context) => ReactNode;\n  }\n>;\n\nexport const ResponsiveContainer = ({ breakpoint = 1000, children, style, ...props }: Props) => {\n  const containerRef = useRef<View | null>(null);\n  const [small, setSmall] = useState<boolean | null>(null);\n\n  const onLayout = useCallback(\n    ({\n      nativeEvent: {\n        layout: { width },\n      },\n    }: LayoutChangeEvent) => {\n      setSmall(width < breakpoint);\n    },\n    [breakpoint],\n  );\n\n  useLayoutEffect(() => {\n    const element = containerRef.current as HTMLElement | null;\n\n    if (element != null) {\n      setSmall(element.offsetWidth < breakpoint);\n    }\n  }, [breakpoint]);\n\n  const isSmallWithDefault = small ?? false;\n\n  return (\n    <View\n      ref={containerRef}\n      onLayout={onLayout}\n      style={[style, small == null ? styles.hidden : null]}\n      {...props}\n    >\n      {children({ small: isSmallWithDefault, large: !isSmallWithDefault })}\n    </View>\n  );\n};\n"],"names":["styles","StyleSheet","ResponsiveContainer","breakpoint","children","style","props","containerRef","useRef","small","setSmall","useState","onLayout","useCallback","width","useLayoutEffect","element","isSmallWithDefault","jsx","View"],"mappings":"8FAIA,MAAAA,EAAAC,EAAA,OAAA,CAAiC,OAAA,CACvB,QAAA,CACG,CAEb,CAAA,EAeOC,EAAA,CAAA,CAAA,WAAAC,EAAA,IAAA,SAAAC,EAAA,MAAAC,EAAA,GAAAC,KAAA,CACL,MAAAC,EAAAC,SAAA,IAAA,EACA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,IAAA,EAEAC,EAAAC,EAAA,YAAiB,CAAA,CACd,YAAA,CACc,OAAA,CAAA,MAAAC,CAAA,CACK,CAClB,IAAA,CAEAJ,EAAAI,EAAAX,CAAA,CAA2B,EAC7B,CAAAA,CAAA,CACW,EAGbY,EAAAA,gBAAA,IAAA,CACE,MAAAC,EAAAT,EAAA,QAEAS,GAAA,MACEN,EAAAM,EAAA,YAAAb,CAAA,CACF,EAAA,CAAAA,CAAA,CAAA,EAGF,MAAAc,EAAAR,GAAA,GAEA,OAAAS,EACEC,EAAC,CAAA,IAAAZ,EACM,SAAAK,EACL,MAAA,CAAAP,EAAAI,GAAA,KAAAT,EAAA,OAAA,IAAA,EACmD,GAAAM,EAC/C,SAAAF,EAAA,CAAA,MAAAa,EAAA,MAAA,CAAAA,EAAA,CAE+D,CAAA,CAGzE;;"}