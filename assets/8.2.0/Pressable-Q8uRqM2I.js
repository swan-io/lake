import{a4 as qe,a5 as Be,a6 as Ue,a7 as We,a8 as Xe,a9 as Je,aa as Qe,ab as Ze,ac as X,a2 as et,ad as tt,ae as rt,af as nt,ag as at,a3 as st,ah as ot,m as it,s as ye,ai as lt,aj as De,ak as Ce,F as ut,j as ct,$ as dt,V as ft,T as Et}from"./Space-DwfUYIjw.js";import{r as h}from"./index-CBqU2yxZ.js";import{g as be}from"./_commonjsHelpers-BosuxZz1.js";var ht=(t,l)=>{var v=t.selectionEnd,E=t.selectionStart,_=l.start,s=l.end;return _!==E||s!==v},pe=(t,l)=>{if(ht(t,l)){var v=l.start,E=l.end;try{t.setSelectionRange(v,E||v)}catch{}}},Rt=Object.assign({},qe,Be,Ue,We,Xe,Je,Qe,Ze,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0}),vt=t=>lt(t,Rt);function St(t){return t.isComposing||t.keyCode===229}var ie=null,he=h.forwardRef((t,l)=>{var v=t.autoCapitalize,E=v===void 0?"sentences":v,_=t.autoComplete,s=t.autoCompleteType,S=t.autoCorrect,P=S===void 0?!0:S,R=t.blurOnSubmit,c=t.caretHidden,b=t.clearTextOnFocus,O=t.dir,L=t.editable,K=t.enterKeyHint,D=t.inputMode,x=t.keyboardType,N=t.multiline,m=N===void 0?!1:N,Y=t.numberOfLines,I=t.onBlur,$=t.onChange,k=t.onChangeText,w=t.onContentSizeChange,H=t.onFocus,V=t.onKeyPress,o=t.onLayout,n=t.onMoveShouldSetResponder,f=t.onMoveShouldSetResponderCapture,d=t.onResponderEnd,e=t.onResponderGrant,a=t.onResponderMove,i=t.onResponderReject,u=t.onResponderRelease,p=t.onResponderStart,A=t.onResponderTerminate,F=t.onResponderTerminationRequest,G=t.onScrollShouldSetResponder,j=t.onScrollShouldSetResponderCapture,U=t.onSelectionChange,Z=t.onSelectionChangeShouldSetResponder,ee=t.onSelectionChangeShouldSetResponderCapture,te=t.onStartShouldSetResponder,re=t.onStartShouldSetResponderCapture,q=t.onSubmitEditing,y=t.placeholderTextColor,ve=t.readOnly,Oe=ve===void 0?!1:ve,xe=t.returnKeyType,Se=t.rows,_e=t.secureTextEntry,J=_e===void 0?!1:_e,ne=t.selection,Ne=t.selectTextOnFocus,Pe=t.spellCheck,C,Q;if(D!=null)Q=D,D==="email"?C="email":D==="tel"?C="tel":D==="search"?C="search":D==="url"?C="url":C="text";else if(x!=null)switch(x){case"email-address":C="email";break;case"number-pad":case"numeric":Q="numeric";break;case"decimal-pad":Q="decimal";break;case"phone-pad":C="tel";break;case"search":case"web-search":C="search";break;case"url":C="url";break;default:C="text"}J&&(C="password");var B=h.useRef({height:null,width:null}),z=h.useRef(null),ae=h.useRef(null),ge=h.useRef(!1);h.useEffect(()=>{z.current&&ae.current&&pe(z.current,ae.current),ge.current=J},[J]);var se=h.useCallback(r=>{if(m&&w&&r!=null){var T=r.scrollHeight,M=r.scrollWidth;(T!==B.current.height||M!==B.current.width)&&(B.current.height=T,B.current.width=M,w({nativeEvent:{contentSize:{height:B.current.height,width:B.current.width}}}))}},[m,w]),Ae=h.useMemo(()=>r=>{r!=null&&(r.clear=function(){r!=null&&(r.value="")},r.isFocused=function(){return r!=null&&X.currentlyFocusedField()===r},se(r))},[se]);function Le(r){X._currentlyFocusedNode=null,I&&(r.nativeEvent.text=r.target.value,I(r))}function Me(r){var T=r.target,M=T.value;r.nativeEvent.text=M,se(T),$&&$(r),k&&k(M)}function Ie(r){var T=r.target;H&&(r.nativeEvent.text=T.value,H(r)),T!=null&&(X._currentlyFocusedNode=T,b&&(T.value=""),Ne&&(ie!=null&&clearTimeout(ie),ie=setTimeout(()=>{T!=null&&T.select()},0)))}function ke(r){var T=r.target;r.stopPropagation();var M=!m,oe=R??M,W=r.nativeEvent,Te=St(W);V&&V(r),r.key==="Enter"&&!r.shiftKey&&!Te&&!r.isDefaultPrevented()&&((R||!m)&&q&&(r.preventDefault(),W.text=r.target.value,q(r)),oe&&T!=null&&setTimeout(()=>T.blur(),0))}function we(r){try{var T=r.target,M=T.selectionStart,oe=T.selectionEnd,W={start:M,end:oe};U&&(r.nativeEvent.selection=W,r.nativeEvent.text=r.target.value,U(r)),ge.current===J&&(ae.current=W)}catch{}}et(()=>{var r=z.current;r!=null&&ne!=null&&pe(r,ne),document.activeElement===r&&(X._currentlyFocusedNode=r)},[z,ne]);var He=m?"textarea":"input";tt(z,o),rt(z,{onMoveShouldSetResponder:n,onMoveShouldSetResponderCapture:f,onResponderEnd:d,onResponderGrant:e,onResponderMove:a,onResponderReject:i,onResponderRelease:u,onResponderStart:p,onResponderTerminate:A,onResponderTerminationRequest:F,onScrollShouldSetResponder:G,onScrollShouldSetResponderCapture:j,onSelectionChangeShouldSetResponder:Z,onSelectionChangeShouldSetResponderCapture:ee,onStartShouldSetResponder:te,onStartShouldSetResponderCapture:re});var Fe=nt(),Ge=Fe.direction,g=vt(t);g.autoCapitalize=E,g.autoComplete=_||s||"on",g.autoCorrect=P?"on":"off",g.dir=O!==void 0?O:"auto",g.enterKeyHint=K||xe,g.inputMode=Q,g.onBlur=Le,g.onChange=Me,g.onFocus=Ie,g.onKeyDown=ke,g.onSelect=we,g.readOnly=Oe===!0||L===!1,g.rows=m?Se??Y:1,g.spellCheck=Pe??P,g.style=[{"--placeholderTextColor":y},le.textinput$raw,le.placeholder,t.style,c&&le.caretHidden],g.type=m?void 0:C;var $e=at(g),Ve=st(z,$e,Ae,l);g.ref=Ve;var ze=t.lang!=null?ot(t.lang):null,Ke=t.dir||ze,Ye=Ke||Ge,je=it(He,g,{writingDirection:Ye});return je});he.displayName="TextInput";he.State=X;var le=ye.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});const _t=he,ue=t=>{const[l,v]=h.useState(!1);return[l||t,v]};var ce={exports:{}},de={exports:{}};(function(t,l){var v=De.default;l.__esModule=!0,l.default=E,v(h);function E(){for(var _=arguments.length,s=new Array(_),S=0;S<_;S++)s[S]=arguments[S];return function(R){s.forEach(c=>{if(c!=null){if(typeof c=="function"){c(R);return}if(typeof c=="object"){c.current=R;return}console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(c))}})}}t.exports=l.default})(de,de.exports);var Pt=de.exports;(function(t,l){var v=Ce.default,E=De.default;l.__esModule=!0,l.default=S;var _=E(h),s=v(Pt);function S(){for(var P=arguments.length,R=new Array(P),c=0;c<P;c++)R[c]=arguments[c];return _.useMemo(()=>(0,s.default)(...R),[...R])}t.exports=l.default})(ce,ce.exports);var gt=ce.exports;const Tt=be(gt),pt=Tt;var fe={exports:{}},Ee={exports:{}};(function(t,l){l.__esModule=!0,l.default=void 0;var v="DELAY",E="ERROR",_="LONG_PRESS_DETECTED",s="NOT_RESPONDER",S="RESPONDER_ACTIVE_LONG_PRESS_START",P="RESPONDER_ACTIVE_PRESS_START",R="RESPONDER_INACTIVE_PRESS_START",c="RESPONDER_GRANT",b="RESPONDER_RELEASE",O="RESPONDER_TERMINATED",L=Object.freeze({NOT_RESPONDER:{DELAY:E,RESPONDER_GRANT:R,RESPONDER_RELEASE:E,RESPONDER_TERMINATED:E,LONG_PRESS_DETECTED:E},RESPONDER_INACTIVE_PRESS_START:{DELAY:P,RESPONDER_GRANT:E,RESPONDER_RELEASE:s,RESPONDER_TERMINATED:s,LONG_PRESS_DETECTED:E},RESPONDER_ACTIVE_PRESS_START:{DELAY:E,RESPONDER_GRANT:E,RESPONDER_RELEASE:s,RESPONDER_TERMINATED:s,LONG_PRESS_DETECTED:S},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:E,RESPONDER_GRANT:E,RESPONDER_RELEASE:s,RESPONDER_TERMINATED:s,LONG_PRESS_DETECTED:S},ERROR:{DELAY:s,RESPONDER_GRANT:R,RESPONDER_RELEASE:s,RESPONDER_TERMINATED:s,LONG_PRESS_DETECTED:s}}),K=o=>o.getAttribute("role"),D=o=>o.tagName.toLowerCase(),x=o=>o===P||o===S,N=o=>K(o)==="button",m=o=>o===R||o===P||o===S,Y=o=>o===O||o===b,I=o=>{var n=o.key,f=o.target,d=n===" "||n==="Spacebar",e=D(f)==="button"||N(f);return n==="Enter"||d&&e},$=450,k=50;class w{constructor(n){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=s,this.configure(n)}configure(n){this._config=n}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return this._eventHandlers==null&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var n=(e,a)=>{e.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=s,this._isPointerTouch=e.nativeEvent.type==="touchstart",this._receiveSignal(c,e);var i=H(this._config.delayPressStart,0,k);a!==!1&&i>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(v,e)},i):this._receiveSignal(v,e);var u=H(this._config.delayLongPress,10,$);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(e)},u+i)},f=e=>{this._receiveSignal(b,e)},d=e=>{var a=this._config.onPress,i=e.target;if(this._touchState!==s&&I(e)){f(e),document.removeEventListener("keyup",d);var u=i.getAttribute("role"),p=D(i),A=u==="link"||p==="a"||p==="button"||p==="input"||p==="select"||p==="textarea";a!=null&&!A&&a(e)}};return{onStartShouldSetResponder:e=>{var a=this._config.disabled;return a&&N(e.currentTarget)&&e.stopPropagation(),a==null?!0:!a},onKeyDown:e=>{var a=this._config.disabled,i=e.key,u=e.target;if(!a&&I(e)){this._touchState===s&&(n(e,!1),document.addEventListener("keyup",d));var p=i===" "||i==="Spacebar",A=K(u),F=A==="button"||A==="menuitem";p&&F&&D(u)!=="button"&&e.preventDefault(),e.stopPropagation()}},onResponderGrant:e=>n(e),onResponderMove:e=>{this._config.onPressMove!=null&&this._config.onPressMove(e);var a=V(e);if(this._touchActivatePosition!=null){var i=this._touchActivatePosition.pageX-a.pageX,u=this._touchActivatePosition.pageY-a.pageY;Math.hypot(i,u)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:e=>f(e),onResponderTerminate:e=>{e.nativeEvent.type==="selectionchange"&&(this._selectionTerminated=!0),this._receiveSignal(O,e)},onResponderTerminationRequest:e=>{var a=this._config,i=a.cancelable,u=a.disabled,p=a.onLongPress;return!u&&p!=null&&this._isPointerTouch&&e.nativeEvent.type==="contextmenu"?!1:i??!0},onClick:e=>{var a=this._config,i=a.disabled,u=a.onPress;i?N(e.currentTarget)&&e.stopPropagation():(e.stopPropagation(),this._longPressDispatched||this._selectionTerminated?e.preventDefault():u!=null&&e.altKey===!1&&u(e))},onContextMenu:e=>{var a=this._config,i=a.disabled,u=a.onLongPress;i?N(e.currentTarget)&&e.stopPropagation():u!=null&&this._isPointerTouch&&!e.defaultPrevented&&(e.preventDefault(),e.stopPropagation())}}}_receiveSignal(n,f){var d=this._touchState,e=null;L[d]!=null&&(e=L[d][n]),!(this._touchState===s&&n===b)&&(e==null||e===E?console.error("PressResponder: Invalid signal "+n+" for state "+d+" on responder"):d!==e&&(this._performTransitionSideEffects(d,e,n,f),this._touchState=e))}_performTransitionSideEffects(n,f,d,e){if(Y(d)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),m(n)&&d===_){var a=this._config.onLongPress;a!=null&&e.nativeEvent.key==null&&(a(e),this._longPressDispatched=!0)}var i=x(n),u=x(f);if(!i&&u?this._activate(e):i&&!u&&this._deactivate(e),m(n)&&d===b){var p=this._config,A=p.onLongPress,F=p.onPress;if(F!=null){var G=A!=null&&n===S;G||!u&&!i&&(this._activate(e),this._deactivate(e))}}this._cancelPressDelayTimeout()}_activate(n){var f=this._config,d=f.onPressChange,e=f.onPressStart,a=V(n);this._touchActivatePosition={pageX:a.pageX,pageY:a.pageY},e!=null&&e(n),d!=null&&d(!0)}_deactivate(n){var f=this._config,d=f.onPressChange,e=f.onPressEnd;function a(){e!=null&&e(n),d!=null&&d(!1)}var i=H(this._config.delayPressEnd);i>0?this._pressOutDelayTimeout=setTimeout(()=>{a()},i):a()}_handleLongPress(n){(this._touchState===P||this._touchState===S)&&this._receiveSignal(_,n)}_cancelLongPressDelayTimeout(){this._longPressDelayTimeout!=null&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){this._pressDelayTimeout!=null&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){this._pressOutDelayTimeout!=null&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}l.default=w;function H(o,n,f){return n===void 0&&(n=0),f===void 0&&(f=0),Math.max(n,o??f)}function V(o){var n=o.nativeEvent,f=n.changedTouches,d=n.touches;return d!=null&&d.length>0?d[0]:f!=null&&f.length>0?f[0]:o.nativeEvent}t.exports=l.default})(Ee,Ee.exports);var mt=Ee.exports;(function(t,l){var v=Ce.default;l.__esModule=!0,l.default=s;var E=v(mt),_=h;function s(S,P){var R=(0,_.useRef)(null);R.current==null&&(R.current=new E.default(P));var c=R.current;return(0,_.useEffect)(()=>{c.configure(P)},[P,c]),(0,_.useEffect)(()=>()=>{c.reset()},[c]),(0,_.useDebugValue)(P),c.getEventHandlers()}t.exports=l.default})(fe,fe.exports);var yt=fe.exports;const Dt=be(yt),Ct=Dt,me=ye.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{cursor:"not-allowed"}}),Re=(t,l={})=>{const{applyPressStyle:v=!0}=l;return h.forwardRef((E,_)=>{const{children:s,delayLongPress:S,delayPressIn:P,delayPressOut:R,disabled:c=!1,onBlur:b,onContextMenu:O,onFocus:L,onHoverIn:K,onHoverOut:D,onKeyDown:x,onLongPress:N,onPress:m,onPressIn:Y,onPressMove:I,onPressOut:$,style:k,tabIndex:w,testOnly_hovered:H,testOnly_pressed:V,...o}=E,[n,f]=ue(H===!0),[d,e]=ue(!1),[a,i]=ue(V===!0),u=h.useRef(null),p=pt(_,u),A=h.useMemo(()=>({delayLongPress:S,delayPressStart:P,delayPressEnd:R,disabled:c,onLongPress:N,onPress:m,onPressChange:i,onPressStart:Y,onPressMove:I,onPressEnd:$}),[S,P,R,c,N,m,Y,I,$,i]),F=Ct(u,A),{onContextMenu:G,onKeyDown:j}=F;ut(u,{disabled:c,onHoverChange:f,onHoverStart:K,onHoverEnd:D});const U={hovered:n,focused:d,pressed:a},Z=h.useCallback(y=>{y.nativeEvent.target===u.current&&(e(!1),b==null||b(y))},[u,e,b]),ee=h.useCallback(y=>{y.nativeEvent.target===u.current&&(e(!0),L==null||L(y))},[u,e,L]),te=h.useCallback(y=>{G==null||G(y),O==null||O(y)},[O,G]),re=h.useCallback(y=>{j==null||j(y),x==null||x(y)},[x,j]);let q;return w!==void 0?q=w:q=c?-1:0,ct.jsx(t,{...o,...F,"aria-disabled":c,onBlur:Z,onContextmenu:te,onFocus:ee,onKeyDown:re,ref:p,style:[dt({disabled:c,applyPressStyle:v}).with({disabled:!1,applyPressStyle:!0},()=>me.active).with({disabled:!0},()=>me.disabled).otherwise(()=>null),typeof k=="function"?k(U):k],tabIndex:q,children:typeof s=="function"?s(U):s})})},Lt=h.memo(Re(ft,{applyPressStyle:!0})),bt=h.memo(Re(Et,{applyPressStyle:!0})),Ot=h.memo(Re(_t,{applyPressStyle:!1}));bt.displayName="PressableText";Ot.displayName="PressableTextInput";export{Lt as P,_t as T,bt as a,Ot as b,pt as u};
//# sourceMappingURL=Pressable-Q8uRqM2I.js.map
