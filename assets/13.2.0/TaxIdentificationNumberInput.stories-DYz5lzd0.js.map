{"version":3,"file":"TaxIdentificationNumberInput.stories-DYz5lzd0.js","sources":["../../../packages/shared-business/src/utils/templateTranslations.ts","../../../packages/shared-business/src/components/TaxIdentificationNumberInput.tsx","../../../packages/shared-business/__stories__/TaxIdentificationNumberInput.stories.tsx"],"sourcesContent":["import { match } from \"ts-pattern\";\nimport { CompanyCountryCCA3, IndividualCountryCCA3 } from \"../constants/countries\";\nimport { t } from \"./i18n\";\n\nexport type AccountCountry = \"DEU\" | \"ESP\" | \"FRA\" | \"NLD\" | \"ITA\" | \"BEL\";\n\nexport const getIndividualTaxNumberPlaceholder = (\n  country: IndividualCountryCCA3 | CompanyCountryCCA3,\n) =>\n  match(country)\n    .with(\n      \"DEU\",\n      () => `${t(\"common.form.taxIdentificationNumber.placeholder\")} (Steueridentifikationsnummer)`,\n    )\n    .with(\n      \"ESP\",\n      () =>\n        `${t(\"common.form.taxIdentificationNumber.placeholder\")} (Número de Identificación Fiscal)`,\n    )\n    .with(\"ITA\", () => `${t(\"common.form.taxIdentificationNumber.placeholder\")} (Codice fiscale)`)\n    .otherwise(() => t(\"common.form.taxIdentificationNumber.placeholder\"));\n\nexport const getCompanyTaxNumberPlaceholder = (\n  country: IndividualCountryCCA3 | CompanyCountryCCA3,\n) =>\n  match(country)\n    .with(\"DEU\", () => `${t(\"common.form.taxIdentificationNumber.placeholder\")} (Steuer-Nummer)`)\n    .with(\n      \"ESP\",\n      () =>\n        `${t(\"common.form.taxIdentificationNumber.placeholder\")} (Número de Identificación Fiscal)`,\n    )\n    .with(\"ITA\", () => `${t(\"common.form.taxIdentificationNumber.placeholder\")} (Codice fiscale)`)\n    .otherwise(() => t(\"common.form.taxIdentificationNumber.placeholder\"));\n\nexport const getTaxNumberTooltip = (country: IndividualCountryCCA3 | CompanyCountryCCA3) =>\n  match(country)\n    .with(\"DEU\", () => t(\"common.form.taxIdentificationNumber.tooltip.deu\"))\n    .with(\"ESP\", () => \"Número de Identificación Fiscal\") // no need to translate\n    .with(\"ITA\", () => t(\"common.form.taxIdentificationNumber.tooltip.ita\"))\n    .otherwise(() => undefined);\n\nexport const getCompanyTaxNumberHelp = (country: IndividualCountryCCA3 | CompanyCountryCCA3) =>\n  match(country)\n    .with(\"BEL\", () => t(\"common.form.help.nbDigits\", { nbDigits: \"10-12\" }))\n    .with(\"DEU\", () => t(\"common.form.help.nbDigits\", { nbDigits: \"10-13\" }))\n    .with(\"FIN\", () => t(\"common.form.help.nbCharacters\", { nbCharacters: \"8-9\" }))\n    .with(\"FRA\", () => t(\"common.form.help.nbDigits\", { nbDigits: \"9\" }))\n    .with(\"ESP\", () => t(\"common.form.help.nbCharacters\", { nbCharacters: \"9\" }))\n    .with(\"ITA\", () => t(\"common.form.help.nbDigits\", { nbDigits: \"11\" }))\n    .with(\"NLD\", () => t(\"common.form.help.nbDigits\", { nbDigits: \"9\" }))\n    .with(\"PRT\", () => t(\"common.form.help.nbDigits\", { nbDigits: \"9\" }))\n    .otherwise(() => \"\");\n\nexport const getIndividualTaxNumberHelp = (country: IndividualCountryCCA3 | CompanyCountryCCA3) =>\n  match(country)\n    .with(\"BEL\", () => t(\"common.form.help.nbDigits\", { nbDigits: \"10\" }))\n    .with(\"DEU\", () => t(\"common.form.help.nbDigits\", { nbDigits: \"11\" }))\n    .with(\"ESP\", () => t(\"common.form.help.nbCharacters\", { nbCharacters: \"9\" }))\n    .with(\"FIN\", () => t(\"common.form.help.nbCharacters\", { nbCharacters: \"11\" }))\n    .with(\"FRA\", () => t(\"common.form.help.nbDigits\", { nbDigits: \"13\" }))\n    .with(\"ITA\", () => t(\"common.form.help.nbCharacters\", { nbCharacters: \"16\" }))\n    .with(\"NLD\", () => t(\"common.form.help.nbDigits\", { nbDigits: \"9\" }))\n    .with(\"PRT\", () => t(\"common.form.help.nbDigits\", { nbDigits: \"9\" }))\n    .otherwise(() => \"\");\n","import { Icon } from \"@swan-io/lake/src/components/Icon\";\nimport { LakeLabel } from \"@swan-io/lake/src/components/LakeLabel\";\nimport { LakeTextInput } from \"@swan-io/lake/src/components/LakeTextInput\";\nimport { LakeTooltip } from \"@swan-io/lake/src/components/LakeTooltip\";\nimport { colors } from \"@swan-io/lake/src/constants/design\";\nimport { Ref } from \"react\";\nimport { TextInput } from \"react-native\";\nimport { CompanyCountryCCA3, IndividualCountryCCA3 } from \"../constants/countries\";\nimport { t } from \"../utils/i18n\";\nimport {\n  getCompanyTaxNumberHelp,\n  getCompanyTaxNumberPlaceholder,\n  getIndividualTaxNumberHelp,\n  getIndividualTaxNumberPlaceholder,\n  getTaxNumberTooltip,\n} from \"../utils/templateTranslations\";\n\ntype Props = {\n  ref?: Ref<TextInput>;\n  value: string;\n  error: string | undefined;\n  valid: boolean;\n  disabled?: boolean;\n  onChange: (value: string) => void;\n  onBlur?: () => void;\n  country: IndividualCountryCCA3 | CompanyCountryCCA3;\n  isCompany: boolean;\n  required?: boolean;\n  label?: string;\n  placeholder?: string;\n};\n\nexport const TaxIdentificationNumberInput = ({\n  ref,\n  value,\n  error,\n  valid,\n  disabled,\n  onChange,\n  onBlur,\n  country,\n  isCompany,\n  required,\n  label = t(\"taxIdentificationNumber.label\"),\n  placeholder = isCompany\n    ? getCompanyTaxNumberPlaceholder(country)\n    : getIndividualTaxNumberPlaceholder(country),\n}: Props) => {\n  const tooltipContents = getTaxNumberTooltip(country);\n\n  return (\n    <LakeLabel\n      label={label}\n      optionalLabel={required === true ? undefined : t(\"common.optional\")}\n      help={\n        tooltipContents != null ? (\n          <LakeTooltip\n            content={tooltipContents}\n            placement=\"right\"\n            width={country === \"DEU\" ? 800 : undefined}\n          >\n            <Icon name=\"question-circle-regular\" size={16} color={colors.gray[600]} />\n          </LakeTooltip>\n        ) : null\n      }\n      render={id => (\n        <LakeTextInput\n          id={id}\n          ref={ref}\n          placeholder={placeholder}\n          help={isCompany ? getCompanyTaxNumberHelp(country) : getIndividualTaxNumberHelp(country)}\n          value={value}\n          error={error}\n          valid={valid}\n          disabled={disabled}\n          onChangeText={onChange}\n          onBlur={onBlur}\n        />\n      )}\n    />\n  );\n};\n","import { Meta } from \"@storybook/react\";\nimport { useState } from \"react\";\nimport { StyleSheet, View } from \"react-native\";\nimport { TaxIdentificationNumberInput } from \"../src/components/TaxIdentificationNumberInput\";\nimport { StoryBlock, StoryPart } from \"./_StoriesComponents\";\n\nconst styles = StyleSheet.create({\n  input: {\n    maxWidth: 400,\n  },\n});\n\nexport default {\n  title: \"Onboarding/TaxIdentificationNumber\",\n  component: TaxIdentificationNumberInput,\n} as Meta<typeof TaxIdentificationNumberInput>;\n\nexport const TaxIdentificationNumber = () => {\n  const [value, setValue] = useState(\"\");\n\n  return (\n    <StoryBlock title=\"Variations\">\n      <View style={styles.input}>\n        <StoryPart title=\"German tax ID\">\n          <TaxIdentificationNumberInput\n            required={true}\n            country={\"DEU\"}\n            isCompany={true}\n            valid={false}\n            error={undefined}\n            value={value}\n            onChange={event => setValue(event)}\n          />\n        </StoryPart>\n\n        <StoryPart title=\"Spanish tax ID\">\n          <TaxIdentificationNumberInput\n            required={true}\n            country={\"ESP\"}\n            isCompany={true}\n            valid={false}\n            error={undefined}\n            value={value}\n            onChange={event => setValue(event)}\n          />\n        </StoryPart>\n\n        <StoryPart title=\"Italian tax ID\">\n          <TaxIdentificationNumberInput\n            required={true}\n            country={\"ITA\"}\n            isCompany={false}\n            valid={false}\n            error={undefined}\n            value={value}\n            onChange={event => setValue(event)}\n          />\n        </StoryPart>\n      </View>\n    </StoryBlock>\n  );\n};\n"],"names":["getIndividualTaxNumberPlaceholder","country","match","t","getCompanyTaxNumberPlaceholder","getTaxNumberTooltip","getCompanyTaxNumberHelp","getIndividualTaxNumberHelp","TaxIdentificationNumberInput","ref","value","error","valid","disabled","onChange","onBlur","isCompany","required","label","placeholder","tooltipContents","jsx","LakeLabel","LakeTooltip","Icon","colors","id","LakeTextInput","styles","StyleSheet","create","input","maxWidth","TaxIdentificationNumberInput_stories","title","component","TaxIdentificationNumber","setValue","useState","StoryBlock","View","StoryPart","undefined","event"],"mappings":"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"}