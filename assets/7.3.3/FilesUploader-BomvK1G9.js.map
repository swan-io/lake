{"version":3,"file":"FilesUploader-BomvK1G9.js","sources":["../../../packages/shared-business/src/hooks/useFilesUploader.ts","../../../packages/shared-business/src/components/FileTile.tsx","../../../packages/shared-business/src/components/FilesUploader.tsx"],"sourcesContent":["import { Future, Result } from \"@swan-io/boxed\";\nimport { useCallback, useState } from \"react\";\nimport { SwanFile } from \"../utils/SwanFile\";\n\nexport type UploadFileInput<UploadOutput> = {\n  id: string;\n  upload: UploadOutput;\n  file: File;\n  onLoadStart: (event: ProgressEvent<XMLHttpRequestEventTarget>) => void;\n  onProgress: (event: ProgressEvent<XMLHttpRequestEventTarget>) => void;\n};\n\nexport type UploadOutputWithId<UploadOutput> = { id: string; upload: UploadOutput };\n\nexport type Config<UploadInput, UploadOutput, GenerateUploadError, UploadFileError> = {\n  initialFiles: SwanFile[];\n  // Takes a configuration and outputs the needed input for the actual upload\n  // It also provides an ID that's required to keep track of the file\n  generateUpload: (\n    config: UploadInput,\n  ) => Future<Result<UploadOutputWithId<UploadOutput>, GenerateUploadError>>;\n  // Effectively uploads the file\n  uploadFile: (config: UploadFileInput<UploadOutput>) => Future<Result<unknown, UploadFileError>>;\n  onError?: (error: GenerateUploadError | UploadFileError) => void;\n};\n\nexport const useFilesUploader = <UploadInput, UploadOutput, GenerateUploadError, UploadFileError>(\n  config: Config<UploadInput, UploadOutput, GenerateUploadError, UploadFileError>,\n) => {\n  const [files, setFiles] = useState(config.initialFiles);\n\n  const add = useCallback((fileToAdd: SwanFile) => {\n    setFiles(files => {\n      if (files.some(item => item.id === fileToAdd.id)) {\n        return files.map(item => (item.id === fileToAdd.id ? fileToAdd : item));\n      } else {\n        return [...files, fileToAdd];\n      }\n    });\n  }, []);\n\n  const upload = useCallback(\n    (uploadInput: UploadInput, file: File) => {\n      return config\n        .generateUpload(uploadInput)\n        .tapError(error => {\n          if (config.onError != undefined) {\n            config.onError(error);\n          }\n        })\n        .flatMapOk(({ upload, id }) => {\n          setFiles(files => [\n            ...files.filter(file => file.id !== id),\n            {\n              id,\n              statusInfo: { status: \"Uploading\", progress: 0 },\n              name: file.name,\n            },\n          ]);\n\n          const onProgress = (event: ProgressEvent<XMLHttpRequestEventTarget>) => {\n            setFiles(files =>\n              files.map(file => {\n                if (file.id !== id) {\n                  return file;\n                }\n                return {\n                  ...file,\n                  statusInfo: { status: \"Uploading\", progress: event.loaded / event.total },\n                };\n              }),\n            );\n          };\n\n          return config\n            .uploadFile({\n              id,\n              upload,\n              file,\n              onLoadStart: onProgress,\n              onProgress,\n            })\n            .tapOk(() => {\n              setFiles(files =>\n                files.map(file => {\n                  if (file.id !== id) {\n                    return file;\n                  }\n                  return {\n                    ...file,\n                    statusInfo: { status: \"Uploaded\" },\n                  };\n                }),\n              );\n            })\n            .tapError(error => {\n              if (config.onError != undefined) {\n                config.onError(error);\n              }\n              setFiles(files => files.filter(file => file.id !== id));\n            });\n        });\n    },\n    [config],\n  );\n\n  const remove = useCallback((id: string) => {\n    setFiles(files => files.filter(file => file.id !== id));\n  }, []);\n\n  return {\n    files,\n    upload,\n    remove,\n    add,\n  };\n};\n","import { Future } from \"@swan-io/boxed\";\nimport { Box } from \"@swan-io/lake/src/components/Box\";\nimport { Icon } from \"@swan-io/lake/src/components/Icon\";\nimport { LakeAlert } from \"@swan-io/lake/src/components/LakeAlert\";\nimport { LakeButton } from \"@swan-io/lake/src/components/LakeButton\";\nimport { LakeText } from \"@swan-io/lake/src/components/LakeText\";\nimport { LakeTooltip } from \"@swan-io/lake/src/components/LakeTooltip\";\nimport { Pressable } from \"@swan-io/lake/src/components/Pressable\";\nimport { Space } from \"@swan-io/lake/src/components/Space\";\nimport { Tag } from \"@swan-io/lake/src/components/Tag\";\nimport { commonStyles } from \"@swan-io/lake/src/constants/commonStyles\";\nimport {\n  backgroundColor,\n  colors,\n  gray75,\n  shadows,\n  spacings,\n} from \"@swan-io/lake/src/constants/design\";\nimport { getIconNameFromFilename } from \"@swan-io/lake/src/utils/file\";\nimport { isNotNullish, isNotNullishOrEmpty } from \"@swan-io/lake/src/utils/nullish\";\nimport { useCallback, useState } from \"react\";\nimport { Clipboard, StyleSheet, View } from \"react-native\";\nimport { P, match } from \"ts-pattern\";\nimport { SwanFile } from \"../utils/SwanFile\";\nimport { t } from \"../utils/i18n\";\n\nconst styles = StyleSheet.create({\n  base: {\n    backgroundColor: backgroundColor.accented,\n    borderRadius: 8,\n    boxShadow: shadows.tile,\n    overflow: \"hidden\",\n  },\n  content: {\n    height: 56,\n    paddingLeft: spacings[20],\n    paddingRight: spacings[8],\n  },\n  progressBar: {\n    flex: 1,\n    height: 4,\n    borderRadius: 2,\n    backgroundColor: gray75,\n  },\n  progress: {\n    height: 4,\n    transitionProperty: \"width\",\n    transitionDuration: \"300ms\",\n    transitionTimingFunction: \"ease-in-out\",\n    borderRadius: 2,\n    backgroundColor: colors.current[500],\n  },\n});\n\ntype Props = {\n  file: SwanFile;\n  showId?: boolean;\n  onRemove?: () => Future<unknown>;\n};\n\nexport const FileTile = ({\n  file: { id, statusInfo, name, url },\n  showId = false,\n  onRemove,\n}: Props) => {\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  const onPressRemove = useCallback(() => {\n    if (onRemove != undefined) {\n      setIsDeleting(true);\n      onRemove().tap(() => setIsDeleting(false));\n    }\n  }, [onRemove]);\n\n  const [visibleState, setVisibleState] = useState<\"copy\" | \"copied\">(\"copy\");\n\n  return (\n    <Box style={styles.base}>\n      <Box alignItems=\"center\" direction=\"row\" style={styles.content}>\n        {statusInfo.status === \"Uploading\" ? (\n          <>\n            <LakeText numberOfLines={1} color={colors.gray[700]}>\n              {t(\"fileTile.uploading\")}\n            </LakeText>\n\n            <Space width={20} />\n\n            <View role=\"progressbar\" style={styles.progressBar}>\n              <View style={[styles.progress, { width: `${statusInfo.progress * 100}%` }]} />\n            </View>\n          </>\n        ) : (\n          <>\n            <Tag\n              icon={getIconNameFromFilename(name)}\n              iconSize={20}\n              color={match(statusInfo)\n                .with({ status: P.union(\"Uploaded\", \"Pending\") }, () => \"shakespear\" as const)\n                .with({ status: \"Validated\" }, () => \"positive\" as const)\n                .with({ status: \"Refused\" }, () => \"negative\" as const)\n                .exhaustive()}\n            />\n\n            <Space width={16} />\n\n            <Box grow={1}>\n              <LakeText numberOfLines={1} color={colors.gray[700]} style={commonStyles.fill}>\n                {name}\n              </LakeText>\n\n              {showId ? (\n                <LakeTooltip\n                  describedBy=\"copy\"\n                  onHide={() => setVisibleState(\"copy\")}\n                  togglableOnFocus={true}\n                  content={\n                    visibleState === \"copy\"\n                      ? t(\"copyButton.copyTooltip\")\n                      : t(\"copyButton.copiedTooltip\")\n                  }\n                >\n                  <Pressable\n                    onPress={event => {\n                      event.stopPropagation();\n                      event.preventDefault();\n                      Clipboard.setString(id);\n                      setVisibleState(\"copied\");\n                    }}\n                  >\n                    <Box direction=\"row\" alignItems=\"center\">\n                      <LakeText numberOfLines={1} variant=\"smallRegular\">\n                        {t(\"fileTile.id\", { id })}\n                      </LakeText>\n\n                      <Space width={4} />\n                      <Icon size={14} name=\"copy-regular\" />\n                    </Box>\n                  </Pressable>\n                </LakeTooltip>\n              ) : null}\n            </Box>\n\n            <Space width={12} />\n\n            {isNotNullishOrEmpty(url) && (\n              <LakeButton\n                mode=\"tertiary\"\n                size=\"small\"\n                icon=\"open-filled\"\n                onPress={() => {\n                  window.open(url, \"_blank\");\n                }}\n                ariaLabel={t(\"common.open\")}\n              />\n            )}\n\n            {isNotNullish(onRemove) && (\n              <LakeButton\n                mode=\"tertiary\"\n                size=\"small\"\n                icon=\"delete-regular\"\n                color=\"negative\"\n                onPress={onPressRemove}\n                loading={isDeleting}\n                ariaLabel={t(\"common.remove\")}\n              />\n            )}\n          </>\n        )}\n      </Box>\n\n      {match(statusInfo)\n        .with({ status: \"Pending\" }, () => (\n          <LakeAlert anchored={true} title={t(\"fileTile.status.Pending\")} variant=\"info\" />\n        ))\n        .with({ status: \"Validated\" }, () => (\n          <LakeAlert anchored={true} title={t(\"fileTile.status.Validated\")} variant=\"success\" />\n        ))\n        .with({ status: \"Refused\" }, ({ reason }) => (\n          <LakeAlert anchored={true} title={t(\"fileTile.status.Refused\")} variant=\"error\">\n            {reason}\n          </LakeAlert>\n        ))\n        .otherwise(() => null)}\n    </Box>\n  );\n};\n","import { Future, Result } from \"@swan-io/boxed\";\nimport { Box } from \"@swan-io/lake/src/components/Box\";\nimport { IconName } from \"@swan-io/lake/src/components/Icon\";\nimport { Space } from \"@swan-io/lake/src/components/Space\";\nimport {\n  ForwardedRef,\n  Fragment,\n  Ref,\n  forwardRef,\n  useEffect,\n  useImperativeHandle,\n  useRef,\n} from \"react\";\nimport { Config, useFilesUploader } from \"../hooks/useFilesUploader\";\nimport { SwanFile } from \"../utils/SwanFile\";\nimport { FileInput } from \"./FileInput\";\nimport { FileTile } from \"./FileTile\";\n\ntype Props<UploadInput, UploadOutput, GenerateUploadError, UploadFileError> = Config<\n  UploadInput,\n  UploadOutput,\n  GenerateUploadError,\n  UploadFileError\n> & {\n  getUploadConfig: (file: File) => UploadInput;\n  accept: string[];\n  maxSize: number;\n  icon: IconName;\n  formatAndSizeDescription?: string;\n  onRemoveFile?: (file: SwanFile) => Future<Result<unknown, unknown>>;\n  onChange?: (files: SwanFile[]) => void;\n  canUpload?: boolean;\n  showIds?: boolean;\n};\n\nexport type FilesUploaderRef = {\n  add: (file: SwanFile) => void;\n};\n\nconst FilesUploaderWithRef = <UploadInput, UploadOutput, GenerateUploadError, UploadFileError>(\n  {\n    maxSize,\n    accept,\n    icon,\n    getUploadConfig,\n    onRemoveFile,\n    onChange,\n    formatAndSizeDescription,\n    canUpload = true,\n    showIds = false,\n    ...config\n  }: Props<UploadInput, UploadOutput, GenerateUploadError, UploadFileError>,\n  ref: Ref<FilesUploaderRef>,\n) => {\n  const { files, upload, remove, add } = useFilesUploader(config);\n\n  // Keep the `onChange` callback as a ref to avoid running the effect\n  // every time the function updates\n  const onChangeRef = useRef(onChange);\n  onChangeRef.current = onChange;\n  const isFirstRender = useRef(true);\n\n  useImperativeHandle(ref, () => ({\n    add,\n  }));\n\n  useEffect(() => {\n    // Avoid calling `onChange` on first render\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n    const onChange = onChangeRef.current;\n    if (onChange != undefined) {\n      onChange(files);\n    }\n  }, [files]);\n\n  return (\n    <Box>\n      {canUpload ? (\n        <>\n          <FileInput\n            layout=\"horizontal\"\n            onFiles={files => {\n              files.forEach(file => {\n                upload(getUploadConfig(file), file);\n              });\n            }}\n            accept={accept}\n            icon={icon}\n            description={formatAndSizeDescription}\n            maxSize={maxSize}\n          />\n\n          <Space height={12} />\n        </>\n      ) : null}\n\n      {files.map((file, index) => (\n        <Fragment key={file.id}>\n          {index > 0 ? <Space height={12} /> : null}\n\n          <FileTile\n            file={file}\n            showId={showIds}\n            onRemove={\n              onRemoveFile != undefined && file.statusInfo.status === \"Uploaded\"\n                ? () =>\n                    onRemoveFile(file).tapOk(() => {\n                      remove(file.id);\n                    })\n                : undefined\n            }\n          />\n        </Fragment>\n      ))}\n    </Box>\n  );\n};\n\nexport const FilesUploader = forwardRef(FilesUploaderWithRef) as <\n  UploadInput,\n  UploadOutput,\n  GenerateUploadError,\n  UploadFileError,\n>(\n  props: Props<UploadInput, UploadOutput, GenerateUploadError, UploadFileError> & {\n    ref?: ForwardedRef<FilesUploaderRef>;\n  },\n) => ReturnType<typeof FilesUploaderWithRef>;\n"],"names":["useFilesUploader","config","files","setFiles","useState","add","useCallback","fileToAdd","item","upload","uploadInput","file","error","id","onProgress","event","remove","styles","StyleSheet","backgroundColor","shadows","spacings","gray75","colors","FileTile","statusInfo","name","url","showId","onRemove","isDeleting","setIsDeleting","onPressRemove","visibleState","setVisibleState","jsxs","Box","jsx","Fragment","LakeText","t","Space","View","Tag","getIconNameFromFilename","match","P","commonStyles","LakeTooltip","Pressable","Clipboard","Icon","isNotNullishOrEmpty","LakeButton","isNotNullish","LakeAlert","reason","FilesUploaderWithRef","maxSize","accept","icon","getUploadConfig","onRemoveFile","onChange","formatAndSizeDescription","canUpload","showIds","ref","onChangeRef","useRef","isFirstRender","useImperativeHandle","useEffect","FileInput","index","FilesUploader","forwardRef"],"mappings":"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"}