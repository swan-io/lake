import{s as G,R as ne,v as se,j as n,B as R,L as J,c as S,I as K,h as _,l as j,e as c,V as $,S as D}from"./ScrollView-DWjQ00nM.js";import{r as T}from"./index-Cs7sjTYM.js";import{R as ie}from"./rifm.esm-FZJd-_Wa.js";import{n as ae}from"./function-c-Au7wom.js";import{g as oe}from"./rifm-CFTOlIhk.js";import{F as ue}from"./Fill-CJ2tm9Hu.js";import{L as me}from"./LakeCombobox-Bu0L65Rt.js";import{L as F}from"./LakeLabel-BlQ3b0Ot.js";import{S as Q,a as X}from"./_StoriesComponents-_jmnnGUR.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-BU4L-DQy.js";import"./Pressable-CMe_F2_9.js";import"./FocusTrap-BmeT9-In.js";import"./array-BfAlyugE.js";import"./Popover-CdPSbsOC.js";import"./useResponsive-CzIqCC5v.js";import"./BottomPanel-DIUwAyP4.js";import"./commonStyles-t4XfA7cz.js";import"./useBodyClassName-DMoYUPTW.js";import"./Suspendable-Di1_g3U1.js";import"./index-BJ6ZNIxC.js";import"./extends-CF3RwP-h.js";import"./TransitionView-cETjUupd.js";import"./index-CCMTQrND.js";import"./LakeTextInput-RVwTHeH7.js";import"./LakeSelect-BCceW-go.js";import"./useDisclosure-DLkMFUa4.js";import"./v4-DvF23Exx.js";const E=G.create({label:{flex:1},arrowContainer:{height:40}}),le={hour:0,minute:0},ce={hour:23,minute:59},Z=15,de=oe({accept:"numeric",charMap:{2:":"},maxLength:4}),V=e=>{const[t,r]=e.split(":").map(Number);return _(t)||isNaN(t)||_(r)||isNaN(r)?c.None():c.Some({hour:t,minute:r})},pe=e=>{const t=j(e.start)?V(e.start):c.None(),r=j(e.end)?V(e.end):c.None();return{start:t,end:r}},ge=e=>{const[t,r]=e.split(":");if(_(t)||(t==null?void 0:t.length)!==2||j(r))return c.None();const s=Number(t);return s<0||s>23?c.None():isNaN(s)?c.None():c.Some(s)},w=e=>`${e.hour.toString().padStart(2,"0")}:${e.minute.toString().padStart(2,"0")}`,o=e=>e.hour*60+e.minute,p=e=>({hour:Math.floor(e/60),minute:e%60}),ye=(e,t)=>p(o(e)+t),fe=(e,t)=>{const r=o(e),s=Math.floor(r/t)*t;return p(s)},he=(e,t)=>o(e)<o(t),Te=e=>e.start.isNone()||e.end.isNone()?!0:he(e.start.value,e.end.value),be=(...e)=>{const t=e.map(o),r=Math.min(...t);return p(r)},xe=(...e)=>{const t=e.map(o),r=Math.max(...t);return p(r)},ve=(e,t,r)=>{const s=o(e),u=o(t),l=[];for(let a=s;a<=u;a+=r){const g=p(a);l.push(g)}return l},ke=(e,t,r)=>e.hour===0?`${e.minute} ${t}`:e.minute===0?`${e.hour} ${r}`:`${e.hour} ${r} ${e.minute} ${t}`,b=({value:e,onChangeText:t,suggestionStart:r=le,suggestionEnd:s=ce,intervalInMinutes:u=Z,nbMaxSuggestions:l,suggestionSuffix:a,readOnly:g,disabled:N,error:q,hideErrors:L,noSuggestionLabel:x})=>{const d=ge(e??""),y=T.useMemo(()=>d.match({Some:m=>[xe({hour:m,minute:0},r),be({hour:m,minute:59},s)],None:()=>[r,s]}),[d,r,s]),v=T.useMemo(()=>ve(y[0],y[1],u).slice(0,l),[y,u,l]),i=T.useMemo(()=>ne.Done(se.Ok(v)),[v]);return n.jsx(ie,{value:e??"",onChange:t,...de,children:({value:m,onChange:I})=>n.jsx(me,{keyExtractor:w,placeholder:"HH:MM",value:m,items:i,itemHeight:40,nbItemsDisplayed:4.5,renderItem:k=>{const M=w(k),P=M===m,C=a==null?void 0:a(k),re=j(C)?`${M} ${C}`:M;return n.jsxs(R,{direction:"row",alignItems:"center",children:[n.jsx(J,{color:P?S.gray[700]:S.gray[900],variant:P?"smallRegular":"medium",children:re}),n.jsx(ue,{minWidth:8}),P&&n.jsx(K,{name:"checkmark-filled",color:S.positive[500],size:16})]})},readOnly:g,disabled:N,error:q,hideErrors:L,emptyResultText:x,onChange:I,onValueChange:ae,onSelectItem:k=>t(w(k))})})},ee=({value:e,onChange:t,intervalInMinutes:r=Z,nbMaxSuggestions:s,readOnly:u,disabled:l,error:a,startLabel:g,endLabel:N,minutesLabel:q,hoursLabel:L,noSuggestionLabel:x})=>{const d=V(e.start??""),y=i=>{t({start:i,end:e.end})},v=i=>{t({start:e.start,end:i})};return n.jsxs($,{children:[n.jsxs(R,{direction:"row",alignItems:"end",children:[n.jsx(F,{label:g,style:E.label,render:()=>n.jsx(b,{value:e.start,intervalInMinutes:r,nbMaxSuggestions:s,error:a,hideErrors:!0,disabled:l,readOnly:u,noSuggestionLabel:x,onChangeText:y})}),n.jsx(D,{width:12}),n.jsx(R,{style:E.arrowContainer,justifyContent:"center",children:n.jsx(K,{name:"arrow-right-filled",size:20})}),n.jsx(D,{width:12}),n.jsx(F,{label:N,style:E.label,render:()=>n.jsx(b,{value:e.end,intervalInMinutes:r,nbMaxSuggestions:s,suggestionStart:d.map(i=>fe(i,r)).map(i=>ye(i,r)).match({Some:i=>i,None:()=>{}}),suggestionSuffix:i=>{if(d.isNone())return"";const m=o(i)-o(d.value);if(m>0&&m<=60){const I=p(m);return`(${ke(I,q,L)})`}return""},error:a,hideErrors:!0,disabled:l,readOnly:u,noSuggestionLabel:x,onChangeText:v})})]}),n.jsx(D,{height:4}),n.jsx(J,{variant:"smallRegular",color:S.negative[500],children:a??" "})]})};b.__docgenInfo={description:"",methods:[],displayName:"TimePicker",props:{value:{required:!1,tsType:{name:"string"},description:""},onChangeText:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},suggestionStart:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  hour: number;
  minute: number;
}`,signature:{properties:[{key:"hour",value:{name:"number",required:!0}},{key:"minute",value:{name:"number",required:!0}}]}},description:"",defaultValue:{value:"{ hour: 0, minute: 0 }",computed:!1}},suggestionEnd:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  hour: number;
  minute: number;
}`,signature:{properties:[{key:"hour",value:{name:"number",required:!0}},{key:"minute",value:{name:"number",required:!0}}]}},description:"",defaultValue:{value:"{ hour: 23, minute: 59 }",computed:!1}},intervalInMinutes:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"15",computed:!1}},nbMaxSuggestions:{required:!1,tsType:{name:"number"},description:""},suggestionSuffix:{required:!1,tsType:{name:"signature",type:"function",raw:"(option: Time) => string",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  hour: number;
  minute: number;
}`,signature:{properties:[{key:"hour",value:{name:"number",required:!0}},{key:"minute",value:{name:"number",required:!0}}]}},name:"option"}],return:{name:"string"}}},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},error:{required:!1,tsType:{name:"string"},description:""},hideErrors:{required:!1,tsType:{name:"boolean"},description:""},noSuggestionLabel:{required:!0,tsType:{name:"string"},description:""}}};ee.__docgenInfo={description:"",methods:[],displayName:"TimeRangePicker",props:{value:{required:!0,tsType:{name:"signature",type:"object",raw:"{ start?: string; end?: string }",signature:{properties:[{key:"start",value:{name:"string",required:!1}},{key:"end",value:{name:"string",required:!1}}]}},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: { start?: string; end?: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ start?: string; end?: string }",signature:{properties:[{key:"start",value:{name:"string",required:!1}},{key:"end",value:{name:"string",required:!1}}]}},name:"value"}],return:{name:"void"}}},description:""},intervalInMinutes:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"15",computed:!1}},nbMaxSuggestions:{required:!1,tsType:{name:"number"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},error:{required:!1,tsType:{name:"string"},description:""},startLabel:{required:!0,tsType:{name:"string"},description:""},endLabel:{required:!0,tsType:{name:"string"},description:""},minutesLabel:{required:!0,tsType:{name:"string"},description:""},hoursLabel:{required:!0,tsType:{name:"string"},description:""},noSuggestionLabel:{required:!0,tsType:{name:"string"},description:""}}};const te=G.create({container:{maxWidth:430}}),A=new Date;A.setDate(A.getDate()-15);const B=new Date;B.setDate(B.getDate()+15);const Ze={title:"Forms/TimePicker",component:b},Se=e=>{const[t,r]=T.useState();return n.jsx(b,{...e,value:t,onChangeText:r})},je=e=>{const[t,r]=T.useState({}),s=pe(t),u=Te(s)?void 0:"Start time must be before end time";return n.jsx(ee,{...e,value:t,onChange:r,error:u})},f=()=>n.jsx(Q,{title:"TimePicker",children:n.jsx(X,{title:"Default",children:n.jsx($,{style:te.container,children:n.jsx(Se,{noSuggestionLabel:"No time available"})})})}),h=()=>n.jsx(Q,{title:"TimeRangePicker",children:n.jsx(X,{title:"Default",children:n.jsx($,{style:te.container,children:n.jsx(je,{startLabel:"Start",endLabel:"End",minutesLabel:"Mins",hoursLabel:"Hours",noSuggestionLabel:"No time available",intervalInMinutes:15})})})});f.__docgenInfo={description:"",methods:[],displayName:"Default"};h.__docgenInfo={description:"",methods:[],displayName:"RangePicker"};var H,O,U;f.parameters={...f.parameters,docs:{...(H=f.parameters)==null?void 0:H.docs,source:{originalSource:`() => {
  return <StoryBlock title="TimePicker">
      <StoryPart title="Default">
        <View style={styles.container}>
          <InteractiveTimePicker noSuggestionLabel="No time available" />
        </View>
      </StoryPart>
    </StoryBlock>;
}`,...(U=(O=f.parameters)==null?void 0:O.docs)==null?void 0:U.source}}};var z,W,Y;h.parameters={...h.parameters,docs:{...(z=h.parameters)==null?void 0:z.docs,source:{originalSource:`() => {
  return <StoryBlock title="TimeRangePicker">
      <StoryPart title="Default">
        <View style={styles.container}>
          <InteractiveTimeRangePicker startLabel="Start" endLabel="End" minutesLabel="Mins" hoursLabel="Hours" noSuggestionLabel="No time available" intervalInMinutes={15} />
        </View>
      </StoryPart>
    </StoryBlock>;
}`,...(Y=(W=h.parameters)==null?void 0:W.docs)==null?void 0:Y.source}}};const et=["Default","RangePicker"];export{f as Default,h as RangePicker,et as __namedExportsOrder,Ze as default};
//# sourceMappingURL=TimePicker.stories-CSYqyRR3.js.map
