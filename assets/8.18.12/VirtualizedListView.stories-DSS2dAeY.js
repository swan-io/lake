import{s as Ie,j as n,I as Pe,c as Re,S,L as Ve,B as Oe}from"./ScrollView-DWjQ00nM.js";import{r as s,R as V}from"./index-Cs7sjTYM.js";import{c as me,V as De,S as j,a as Fe,b as B,L as M,E as Be}from"./VirtualizedList-M3deEaKI.js";import{B as Ne}from"./BorderedIcon-BsWkYR3n.js";import{L as Ae}from"./LakeHeading-Devxa2jE.js";import{_ as O}from"./extends-CF3RwP-h.js";import{C as $e,c as qe,u as fe,S as ze,a as He,b as Me}from"./index-99983b2d.esm-CcB714HC.js";import{g as We}from"./_commonjsHelpers-BosuxZz1.js";import{L as T}from"./LakeButton-B6sbG4pD.js";import{a as W}from"./LakeCheckbox-BWeaii5R.js";import{P as Ue}from"./Pressable-CMe_F2_9.js";import{T as N}from"./Tag-CN2d3BfY.js";import{v as Ye}from"./v4-DvF23Exx.js";import"./index-BU4L-DQy.js";import"./commonStyles-t4XfA7cz.js";import"./index-BJ6ZNIxC.js";import"./index-CCMTQrND.js";var Je={BASE_URL:"/lake",DEV:!1,MODE:"production",PROD:!0,SSR:!1,STORYBOOK:"true"};const U=e=>{let t;const o=new Set,i=(h,g)=>{const a=typeof h=="function"?h(t):h;if(!Object.is(a,t)){const m=t;t=g??(typeof a!="object"||a===null)?a:Object.assign({},t,a),o.forEach(l=>l(t,m))}},r=()=>t,d={setState:i,getState:r,getInitialState:()=>x,subscribe:h=>(o.add(h),()=>o.delete(h)),destroy:()=>{(Je?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},x=t=e(i,r,d);return d},Ke=e=>e?U(e):U;var pe={exports:{}},he={},ge={exports:{}},xe={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C=s;function Xe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ze=typeof Object.is=="function"?Object.is:Xe,Ge=C.useState,Qe=C.useEffect,et=C.useLayoutEffect,tt=C.useDebugValue;function rt(e,t){var o=t(),i=Ge({inst:{value:o,getSnapshot:t}}),r=i[0].inst,c=i[1];return et(function(){r.value=o,r.getSnapshot=t,A(r)&&c({inst:r})},[e,o,t]),Qe(function(){return A(r)&&c({inst:r}),e(function(){A(r)&&c({inst:r})})},[e]),tt(o),o}function A(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!Ze(e,o)}catch{return!0}}function nt(e,t){return t()}var ot=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nt:rt;xe.useSyncExternalStore=C.useSyncExternalStore!==void 0?C.useSyncExternalStore:ot;ge.exports=xe;var st=ge.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D=s,it=st;function at(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ct=typeof Object.is=="function"?Object.is:at,lt=it.useSyncExternalStore,ut=D.useRef,dt=D.useEffect,mt=D.useMemo,ft=D.useDebugValue;he.useSyncExternalStoreWithSelector=function(e,t,o,i,r){var c=ut(null);if(c.current===null){var u={hasValue:!1,value:null};c.current=u}else u=c.current;c=mt(function(){function d(m){if(!x){if(x=!0,h=m,m=i(m),r!==void 0&&u.hasValue){var l=u.value;if(r(l,m))return g=l}return g=m}if(l=g,ct(h,m))return l;var E=i(m);return r!==void 0&&r(l,E)?l:(h=m,g=E)}var x=!1,h,g,a=o===void 0?null:o;return[function(){return d(t())},a===null?void 0:function(){return d(a())}]},[t,o,i,r]);var f=lt(e,c[0],c[1]);return dt(function(){u.hasValue=!0,u.value=f},[f]),ft(f),f};pe.exports=he;var pt=pe.exports;const ht=We(pt);var ve={BASE_URL:"/lake",DEV:!1,MODE:"production",PROD:!0,SSR:!1,STORYBOOK:"true"};const{useDebugValue:gt}=V,{useSyncExternalStoreWithSelector:xt}=ht;let Y=!1;const vt=e=>e;function Et(e,t=vt,o){(ve?"production":void 0)!=="production"&&o&&!Y&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Y=!0);const i=xt(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,o);return gt(i),i}const J=e=>{(ve?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Ke(e):e,o=(i,r)=>Et(t,i,r);return Object.assign(o,t),o},yt=e=>e?J(e):J;var K,X;const Z=typeof window<"u"&&((K=window.document)!=null&&K.createElement||((X=window.navigator)==null?void 0:X.product)==="ReactNative")?V.useLayoutEffect:V.useEffect;function St(){const e=yt(t=>({current:new Array,version:0,set:t}));return{In:({children:t})=>{const o=e(r=>r.set),i=e(r=>r.version);return Z(()=>{o(r=>({version:r.version+1}))},[]),Z(()=>(o(({current:r})=>({current:[...r,t]})),()=>o(({current:r})=>({current:r.filter(c=>c!==t)}))),[t,i]),null},Out:()=>{const t=e(o=>o.current);return V.createElement(V.Fragment,null,t)}}}const wt=e=>e&&e.isOrthographicCamera,G=new $e,Ee=St();function ye(e){return"top"in e}function $(e,t){const{right:o,top:i,left:r,bottom:c,width:u,height:f}=t,d=t.bottom<0||i>e.height||o<0||t.left>e.width;if(ye(e)){const g=e.top+e.height-c,a=r-e.left;return{position:{width:u,height:f,left:a,top:i,bottom:g,right:o},isOffscreen:d}}const x=e.height-c;return{position:{width:u,height:f,top:i,left:r,bottom:x,right:o},isOffscreen:d}}function q(e,{left:t,bottom:o,width:i,height:r}){let c;const u=i/r;return wt(e.camera)?(e.camera.left!==i/-2||e.camera.right!==i/2||e.camera.top!==r/2||e.camera.bottom!==r/-2)&&(Object.assign(e.camera,{left:i/-2,right:i/2,top:r/2,bottom:r/-2}),e.camera.updateProjectionMatrix()):e.camera.aspect!==u&&(e.camera.aspect=u,e.camera.updateProjectionMatrix()),c=e.gl.autoClear,e.gl.autoClear=!1,e.gl.setViewport(t,o,i,r),e.gl.setScissor(t,o,i,r),e.gl.setScissorTest(!0),c}function z(e,t){e.gl.setScissorTest(!1),e.gl.autoClear=t}function Q(e){e.gl.getClearColor(G),e.gl.setClearColor(G,e.gl.getClearAlpha()),e.gl.clear(!0,!0)}function jt({visible:e=!0,canvasSize:t,scene:o,index:i,children:r,frames:c,rect:u,track:f}){const d=fe(),[x,h]=s.useState(!1);let g=0;return Me(a=>{if(c===1/0||g<=c){var m;f&&(u.current=(m=f.current)==null?void 0:m.getBoundingClientRect()),g++}if(u.current){const{position:l,isOffscreen:E}=$(t,u.current);if(x!==E&&h(E),e&&!x&&u.current){const b=q(a,l);a.gl.render(r?a.scene:o,a.camera),z(a,b)}}},i),s.useLayoutEffect(()=>{const a=u.current;if(a&&(!e||!x)){const{position:m}=$(t,a),l=q(d,m);Q(d),z(d,l)}},[e,x]),s.useEffect(()=>{if(!f)return;const a=u.current,m=d.get().events.connected;return d.setEvents({connected:f.current}),()=>{if(a){const{position:l}=$(t,a),E=q(d,l);Q(d),z(d,E)}d.setEvents({connected:m})}},[f]),s.useEffect(()=>{ye(t)||console.warn(`Detected @react-three/fiber canvas size does not include position information. <View /> may not work as expected. Upgrade to @react-three/fiber ^8.1.0 for support.
 See https://github.com/pmndrs/drei/issues/944`)},[]),s.createElement(s.Fragment,null,r,s.createElement("group",{onPointerOver:()=>null}))}const Se=s.forwardRef(({track:e,visible:t=!0,index:o=1,id:i,style:r,className:c,frames:u=1/0,children:f,...d},x)=>{var h,g,a,m;const l=s.useRef(null),{size:E,scene:b}=fe(),[v]=s.useState(()=>new ze),[_,F]=s.useReducer(()=>!0,!1),p=s.useCallback((y,w)=>{if(l.current&&e&&e.current&&y.target===e.current){const{width:Ce,height:be,left:_e,top:Te}=l.current,Le=y.clientX-_e,ke=y.clientY-Te;w.pointer.set(Le/Ce*2-1,-(ke/be)*2+1),w.raycaster.setFromCamera(w.pointer,w.camera)}},[l,e]);return s.useEffect(()=>{var y;e&&(l.current=(y=e.current)==null?void 0:y.getBoundingClientRect()),F()},[e]),s.createElement("group",O({ref:x},d),_&&He(s.createElement(jt,{visible:t,canvasSize:E,frames:u,scene:b,track:e,rect:l,index:o},f),v,{events:{compute:p,priority:o},size:{width:(h=l.current)==null?void 0:h.width,height:(g=l.current)==null?void 0:g.height,top:(a=l.current)==null?void 0:a.top,left:(m=l.current)==null?void 0:m.left}}))}),Ct=s.forwardRef(({as:e="div",id:t,visible:o,className:i,style:r,index:c=1,track:u,frames:f=1/0,children:d,...x},h)=>{const g=s.useId(),a=s.useRef(null);return s.useImperativeHandle(h,()=>a.current),s.createElement(s.Fragment,null,s.createElement(e,O({ref:a,id:t,className:i,style:r},x)),s.createElement(Ee.In,null,s.createElement(Se,{visible:o,key:g,track:a,frames:f,index:c},d)))}),we=s.forwardRef((e,t)=>s.useContext(qe)?s.createElement(Se,O({ref:t},e)):s.createElement(Ct,O({ref:t},e)));we.Port=()=>s.createElement(Ee.Out,null);const bt=Ie.create({emptyList:{flexDirection:"column",alignItems:"center",justifyContent:"center"}}),je=({icon:e,borderedIcon:t=!1,borderedIconPadding:o,title:i,subtitle:r,children:c})=>n.jsxs(we,{style:bt.emptyList,children:[t?n.jsx(Ne,{name:e,padding:o}):n.jsx(Pe,{name:e,size:96,color:Re.current.primary}),n.jsx(S,{height:24}),i!=null?n.jsxs(n.Fragment,{children:[n.jsx(Ae,{align:"center",level:3,variant:"h5",children:i}),n.jsx(S,{height:8})]}):null,r!=null&&n.jsx(Ve,{align:"center",children:r}),c]});je.__docgenInfo={description:"",methods:[],displayName:"EmptyView",props:{icon:{required:!0,tsType:{name:"unknown"},description:""},borderedIcon:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},borderedIconPadding:{required:!1,tsType:{name:"union",raw:"SpacingValue | 0",elements:[{name:"unknown[number]",raw:"(typeof spacingValues)[number]"},{name:"literal",value:"0"}]},description:""},title:{required:!1,tsType:{name:"string"},description:""},subtitle:{required:!1,tsType:{name:"ReactNode"},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""}}};const Wt={title:"Layout/VirtualizedList",component:me},_t=({id:e})=>e,Tt=()=>{const e=["Matthias","John","Jane","Camille","Charlotte","Francis","Émilie","François","Laura","Marie","Natasha","Nicolas","Pierre","Thomas","Valérie","Yann","Zoé","Jérôme","Thomas"];return e[Math.floor(Math.random()*e.length)]??e[0]},L=()=>({id:Ye(),name:Tt()}),H=({few:e=!1})=>{const[t,o]=s.useState({key:"name",order:"Desc"}),[i,r]=s.useState(0),[c,u]=s.useState(!1),[f,d]=s.useState(!1),[x,h]=s.useState(!1),[g,a]=s.useState(()=>Array.from({length:20},v=>L())),m=s.useCallback(()=>{r(v=>v+1),c&&d(!0)},[c]);s.useEffect(()=>{if(f){const v=setTimeout(()=>{d(!1),a(_=>[..._,...Array.from({length:20},F=>L())])},1e3);return()=>clearTimeout(v)}});const{stickedToStartColumns:l,columns:E,stickedToEndColumns:b}=s.useMemo(()=>{const v=[{width:300,id:"name",title:"Name",renderTitle:({title:p,extraInfo:y,id:w})=>n.jsx(j,{text:p,sort:y.key===w?y.order:void 0,onPress:()=>o({key:w,order:y.order==="Desc"?"Asc":"Desc"})}),renderCell:({item:{name:p}})=>n.jsx(Fe,{text:p})}],_=[{width:e?300:500,id:"event_id",title:"Event ID",renderTitle:({title:p})=>n.jsx(j,{text:p}),renderCell:({item:{id:p}})=>n.jsx(B,{text:p})},...e?[]:[{width:150,id:"link_before",title:"Link before",renderTitle:({title:p})=>n.jsx(j,{text:p}),renderCell:()=>n.jsx(M,{onPress:()=>{},buttonPosition:"start",children:n.jsx(N,{color:"shakespear",children:"Demo link"})})},{width:500,id:"onboarding_id",title:"Onboarding ID",renderTitle:({title:p})=>n.jsx(j,{text:p}),renderCell:({item:{id:p}})=>n.jsx(B,{text:p})},{width:150,id:"link_after",title:"Link after",renderTitle:({title:p})=>n.jsx(j,{text:p}),renderCell:()=>n.jsx(M,{onPress:()=>{},buttonPosition:"end",children:n.jsx(N,{color:"shakespear",children:"Demo link"})})},{width:500,id:"account_id",title:"Account ID",renderTitle:({title:p})=>n.jsx(j,{text:p}),renderCell:({item:{id:p}})=>n.jsx(B,{text:p})}]];return{stickedToStartColumns:v,columns:_,stickedToEndColumns:[{width:72,id:"dot",title:"Settings",renderTitle:()=>n.jsx(j,{text:"End",justifyContent:"flex-end"}),renderCell:()=>n.jsx(Be,{children:n.jsx(T,{mode:"tertiary",icon:"chevron-right-filled",ariaLabel:"test",size:"small"})})}]}},[e]);return n.jsxs(n.Fragment,{children:[n.jsxs(Oe,{direction:"row",alignItems:"center",children:[n.jsx(T,{icon:"add-circle-filled",color:"live",size:"small",onPress:()=>a(v=>[L(),...v]),children:"Prepend"}),n.jsx(S,{width:16}),n.jsx(T,{icon:"add-circle-filled",color:"live",size:"small",onPress:()=>a(v=>[...v.slice(0,1),L(),...v.slice(1)]),children:"Insert in 2nd"}),n.jsx(S,{width:16}),n.jsx(T,{icon:"add-circle-filled",color:"live",size:"small",onPress:()=>a(v=>[...v,L()]),children:"Append"}),n.jsx(S,{width:16}),n.jsx(T,{icon:"delete-filled",color:"negative",size:"small",onPress:()=>a([]),children:"Clear"}),n.jsx(S,{width:16}),n.jsxs(N,{label:"End reached",children:[i," times"]}),n.jsx(S,{width:16}),n.jsx(W,{label:"With infinite scroll",value:c,onValueChange:u}),n.jsx(S,{width:16}),n.jsx(W,{label:"Force loading state",value:x,onValueChange:h})]}),n.jsx(S,{height:16}),n.jsx(me,{variant:"default",extraInfo:t,keyExtractor:_t,data:g,stickedToStartColumns:l,columns:E,stickedToEndColumns:b,rowHeight:48,headerHeight:48,onEndReached:m,onEndReachedThreshold:300,renderEmptyList:()=>n.jsx(je,{icon:"lake-inbox-empty",title:"Nothing to see here"}),getRowLink:v=>n.jsx(Ue,{onPress:()=>console.log(v.item)}),loading:{isLoading:x||f,count:20}})]})},k=()=>n.jsx(H,{}),I=()=>n.jsx(H,{}),P=()=>n.jsx(H,{few:!0}),R=()=>n.jsx(De,{rowHeight:48,headerHeight:48,count:3});k.__docgenInfo={description:"",methods:[],displayName:"Primary"};I.__docgenInfo={description:"",methods:[],displayName:"WithoutBackground"};P.__docgenInfo={description:"",methods:[],displayName:"FewColumn"};R.__docgenInfo={description:"",methods:[],displayName:"Placeholder"};var ee,te,re;k.parameters={...k.parameters,docs:{...(ee=k.parameters)==null?void 0:ee.docs,source:{originalSource:`() => {
  return <EditableFixedListView />;
}`,...(re=(te=k.parameters)==null?void 0:te.docs)==null?void 0:re.source}}};var ne,oe,se;I.parameters={...I.parameters,docs:{...(ne=I.parameters)==null?void 0:ne.docs,source:{originalSource:`() => {
  return <EditableFixedListView />;
}`,...(se=(oe=I.parameters)==null?void 0:oe.docs)==null?void 0:se.source}}};var ie,ae,ce;P.parameters={...P.parameters,docs:{...(ie=P.parameters)==null?void 0:ie.docs,source:{originalSource:`() => {
  return <EditableFixedListView few={true} />;
}`,...(ce=(ae=P.parameters)==null?void 0:ae.docs)==null?void 0:ce.source}}};var le,ue,de;R.parameters={...R.parameters,docs:{...(le=R.parameters)==null?void 0:le.docs,source:{originalSource:`() => {
  return <VirtualizedListPlaceholder rowHeight={48} headerHeight={48} count={3} />;
}`,...(de=(ue=R.parameters)==null?void 0:ue.docs)==null?void 0:de.source}}};const Ut=["Primary","WithoutBackground","FewColumn","Placeholder"];export{P as FewColumn,R as Placeholder,k as Primary,I as WithoutBackground,Ut as __namedExportsOrder,Wt as default};
//# sourceMappingURL=VirtualizedListView.stories-DSS2dAeY.js.map
