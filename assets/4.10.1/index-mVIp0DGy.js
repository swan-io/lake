import{r as U}from"./index-CBqU2yxZ.js";import{_ as T}from"./extends-CCbyfPlC.js";import{s as J}from"./with-selector-Dgb-xD57.js";var C;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(C||(C={}));var _=function(e){return e},D="beforeunload",ne="popstate";function te(e){e===void 0&&(e={});var n=e,t=n.window,r=t===void 0?document.defaultView:t,a=r.history;function c(){var i=r.location,s=i.pathname,m=i.search,P=i.hash,k=a.state||{};return[k.idx,_({pathname:s,search:m,hash:P,state:k.usr||null,key:k.key||"default"})]}var o=null;function l(){if(o)g.call(o),o=null;else{var i=C.Pop,s=c(),m=s[0],P=s[1];if(g.length){if(m!=null){var k=v-m;k&&(o={action:i,location:P,retry:function(){y(k*-1)}},y(k))}}else O(i)}}r.addEventListener(ne,l);var h=C.Pop,d=c(),v=d[0],p=d[1],A=$(),g=$();v==null&&(v=0,a.replaceState(T({},a.state,{idx:v}),""));function x(i){return typeof i=="string"?i:Q(i)}function R(i,s){return s===void 0&&(s=null),_(T({pathname:p.pathname,hash:"",search:""},typeof i=="string"?I(i):i,{state:s,key:H()}))}function S(i,s){return[{usr:i.state,key:i.key,idx:s},x(i)]}function b(i,s,m){return!g.length||(g.call({action:i,location:s,retry:m}),!1)}function O(i){h=i;var s=c();v=s[0],p=s[1],A.call({action:h,location:p})}function u(i,s){var m=C.Push,P=R(i,s);function k(){u(i,s)}if(b(m,P,k)){var L=S(P,v+1),M=L[0],N=L[1];try{a.pushState(M,"",N)}catch{r.location.assign(N)}O(m)}}function f(i,s){var m=C.Replace,P=R(i,s);function k(){f(i,s)}if(b(m,P,k)){var L=S(P,v),M=L[0],N=L[1];a.replaceState(M,"",N),O(m)}}function y(i){a.go(i)}var w={get action(){return h},get location(){return p},createHref:x,push:u,replace:f,go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(s){return A.push(s)},block:function(s){var m=g.push(s);return g.length===1&&r.addEventListener(D,q),function(){m(),g.length||r.removeEventListener(D,q)}}};return w}function re(e){e===void 0&&(e={});var n=e,t=n.initialEntries,r=t===void 0?["/"]:t,a=n.initialIndex,c=r.map(function(u){var f=_(T({pathname:"/",search:"",hash:"",state:null,key:H()},typeof u=="string"?I(u):u));return f}),o=V(a??c.length-1,0,c.length-1),l=C.Pop,h=c[o],d=$(),v=$();function p(u){return typeof u=="string"?u:Q(u)}function A(u,f){return f===void 0&&(f=null),_(T({pathname:h.pathname,search:"",hash:""},typeof u=="string"?I(u):u,{state:f,key:H()}))}function g(u,f,y){return!v.length||(v.call({action:u,location:f,retry:y}),!1)}function x(u,f){l=u,h=f,d.call({action:l,location:h})}function R(u,f){var y=C.Push,w=A(u,f);function i(){R(u,f)}g(y,w,i)&&(o+=1,c.splice(o,c.length,w),x(y,w))}function S(u,f){var y=C.Replace,w=A(u,f);function i(){S(u,f)}g(y,w,i)&&(c[o]=w,x(y,w))}function b(u){var f=V(o+u,0,c.length-1),y=C.Pop,w=c[f];function i(){b(u)}g(y,w,i)&&(o=f,x(y,w))}var O={get index(){return o},get action(){return l},get location(){return h},createHref:p,push:R,replace:S,go:b,back:function(){b(-1)},forward:function(){b(1)},listen:function(f){return d.push(f)},block:function(f){return v.push(f)}};return O}function V(e,n,t){return Math.min(Math.max(e,n),t)}function q(e){e.preventDefault(),e.returnValue=""}function $(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter(function(r){return r!==t})}},call:function(t){e.forEach(function(r){return r&&r(t)})}}}function H(){return Math.random().toString(36).substr(2,8)}function Q(e){var n=e.pathname,t=n===void 0?"/":n,r=e.search,a=r===void 0?"":r,c=e.hash,o=c===void 0?"":c;return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function I(e){var n={};if(e){var t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));var r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function z(e){for(var n=0,t,r=0,a=e.length;a>=4;++r,a-=4)t=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,n=(t&65535)*1540483477+((t>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(a){case 3:n^=(e.charCodeAt(r+2)&255)<<16;case 2:n^=(e.charCodeAt(r+1)&255)<<8;case 1:n^=e.charCodeAt(r)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}function j(){return j=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},j.apply(this,arguments)}function F(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function W(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(a,c){if(a){if(typeof a=="string")return F(a,c);var o=Object.prototype.toString.call(a).slice(8,-1);return o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set"?Array.from(a):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?F(a,c):void 0}}(e))||n&&e&&typeof e.length=="number"){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ae=function(e){return e!==""},oe=function(e,n){return e.length===n.length&&e.every(function(t,r){return t===n[r]})},ie=function(e){for(var n,t={},r=W(new URLSearchParams(e));!(n=r()).done;){var a=n.value,c=a[0],o=a[1],l=t[c];t[c]=l!=null?typeof l=="string"?[l,o]:l.concat(o):o}return t},G=function(e,n,t){var r=e+(e!==""?"&":"")+encodeURIComponent(n);return t!==""?r+"="+encodeURIComponent(t):r},ce=function(e){var n=Object.keys(e);if(n.length===0)return"";var t="";n.sort();for(var r=0,a=n;r<a.length;r++){var c=a[r],o=e[c];if(o!=null)if(typeof o=="string")t=G(t,c,o);else for(var l,h=W(o);!(l=h()).done;)t=G(t,c,l.value)}return t===""?"":"?"+t},X=function(e,n){var t=e.search,r=e.hash,a=e.pathname.substring(1),c=a!==""?n?a.split("/").filter(ae).map(decodeURIComponent):a.split("/").map(decodeURIComponent):[],o=t!==""?ie(t):{},l=r!==""?decodeURIComponent(r.substring(1)):null,h="/"+c.map(encodeURIComponent).join("/"),d=ce(o),v=l!=null?"#"+encodeURIComponent(l):"",p=h+d+v;return j({key:z(h)+"-"+z(d+v),path:c,search:o},l!==null&&{hash:l},{raw:{path:h,search:d,hash:v},toString:function(){return p}})},B=new Set,K=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?te():re(),E=X(K.location,!0);K.listen(function(e){var n=X(e.location,!1);if(n.toString()!==E.toString()){var t=n.raw.search!==E.raw.search,r=t?{}:E.search;if(t){for(var a in n.search)if(Object.prototype.hasOwnProperty.call(n.search,a)){var c=n.search[a];if(c==null)continue;var o=E.search[a];r[a]=o!=null&&typeof o!="string"&&typeof c!="string"&&oe(c,o)?o:c}}E=j({key:n.key,path:n.raw.path!==E.raw.path?n.path:E.path,search:r},n.hash!=null&&{hash:n.hash},{raw:n.raw,toString:n.toString}),B.forEach(function(l){return l(E)})}});var Y=function(e){return B.add(e),function(){B.delete(e)}},ue=function(){return E},Z=U.createContext(ue);Z.Provider;var ee=function(){return U.useContext(Z)},ge=function(){var e=ee();return J.useSyncExternalStore(Y,e,e)},le=function(e){var n=I(e),t=n.pathname,r=n.search,a=n.hash;K.push({pathname:t===void 0?"":t,search:r===void 0?"":r,hash:a===void 0?"":a})},fe=function(e){var n=I(e),t=n.pathname,r=n.search,a=n.hash;K.replace({pathname:t===void 0?"":t,search:r===void 0?"":r,hash:a===void 0?"":a})},se=function(e){var n=e.href,t=e.replace,r=t!==void 0&&t,a=e.target,c=U.useMemo(function(){return I(n).pathname},[n]),o=ee(),l=function(){return c===o().raw.path},h=J.useSyncExternalStore(Y,l,l),d=r||h,v=a==null||a==="_self";return{active:h,onClick:U.useCallback(function(p){p.defaultPrevented||!v||p.button!==0||p.metaKey||p.altKey||p.ctrlKey||p.shiftKey||(p.preventDefault(),d?fe(n):le(n))},[d,v,n])}},he=["onClick","className","replace","style","target","to","activeClassName","activeStyle"],ve=U.forwardRef(function(e,n){var t=e.onClick,r=e.className,a=e.replace,c=e.style,o=e.target,l=e.to,h=e.activeClassName,d=e.activeStyle,v=function(x,R){if(x==null)return{};var S,b,O={},u=Object.keys(x);for(b=0;b<u.length;b++)R.indexOf(S=u[b])>=0||(O[S]=x[S]);return O}(e,he),p=se({href:l,replace:a,target:o}),A=p.active,g=p.onClick;return U.createElement("a",j({},v,{ref:n,href:l,onClick:function(x){t==null||t(x),g(x)},target:o,className:A&&h!=null?r==null?h:r+" "+h:r,style:A&&d!=null?c==null?d:j({},c,d):c}))});ve.displayName="Link";export{ve as K,se as N,ge as P};
//# sourceMappingURL=index-mVIp0DGy.js.map
