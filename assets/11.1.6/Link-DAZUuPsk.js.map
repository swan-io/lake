{"version":3,"file":"Link-DAZUuPsk.js","sources":["../../../packages/lake/src/components/Link.tsx"],"sourcesContent":["import { useLinkProps } from \"@swan-io/chicane\";\nimport { forwardRef, memo } from \"react\";\nimport { HrefAttrs, PressableStateCallbackType, Text, TextProps } from \"react-native\";\nimport { Except } from \"type-fest\";\nimport { isNotNullish } from \"../utils/nullish\";\nimport { PressableText, PressableTextProps } from \"./Pressable\";\n\nexport type LinkProps = Except<\n  PressableTextProps,\n  \"hrefAttrs\" | \"style\" | \"onPress\" | \"children\"\n> & {\n  to: string;\n  replace?: boolean;\n  disabled?: boolean;\n  download?: boolean;\n  target?: NonNullable<HrefAttrs>[\"target\"];\n  style?:\n    | TextProps[\"style\"]\n    | ((state: PressableStateCallbackType & { active: boolean }) => TextProps[\"style\"]);\n  ariaCurrentValue?: \"page\" | \"location\";\n  onPress?: (e: React.MouseEvent<HTMLAnchorElement>) => void;\n  children?:\n    | TextProps[\"children\"]\n    | ((state: PressableStateCallbackType & { active: boolean }) => TextProps[\"children\"]);\n};\n\nexport const Link = memo(\n  forwardRef<Text, LinkProps>(\n    (\n      {\n        role = \"link\",\n        children,\n        disabled = false,\n        onPress,\n        replace = false,\n        download = false,\n        style,\n        target,\n        to,\n        ariaCurrentValue = \"page\",\n        tabIndex,\n        ...props\n      },\n      forwardedRef,\n    ) => {\n      const { active, onClick } = useLinkProps({ href: to, replace, target });\n\n      return (\n        <PressableText\n          {...props}\n          role={role}\n          disabled={disabled}\n          aria-disabled={disabled}\n          tabIndex={isNotNullish(tabIndex) ? tabIndex : disabled ? -1 : 0}\n          aria-current={active ? ariaCurrentValue : undefined}\n          href={!disabled ? to : undefined}\n          onPress={(event: unknown) => {\n            const e = event as React.MouseEvent<HTMLAnchorElement>;\n            if (disabled) {\n              e.preventDefault();\n            } else {\n              onPress?.(e);\n              onClick(e);\n            }\n          }}\n          ref={forwardedRef}\n          style={typeof style === \"function\" ? state => style({ ...state, active }) : style}\n          hrefAttrs={{\n            rel: target && target !== \"self\" ? \"noopener noreferrer\" : undefined,\n            download,\n            target,\n          }}\n        >\n          {typeof children === \"function\" ? state => children({ ...state, active }) : children}\n        </PressableText>\n      );\n    },\n  ),\n);\n\nLink.displayName = \"Link\";\n"],"names":["Link","memo","forwardRef","role","children","disabled","onPress","replace","download","style","target","to","ariaCurrentValue","tabIndex","props","forwardedRef","active","onClick","useLinkProps","jsx","PressableText","isNotNullish","event","e","state"],"mappings":"uNA0BO,MAAMA,EAAOC,EAAA,KAClBC,EAAA,WACE,CACE,CACE,KAAAC,EAAO,OACP,SAAAC,EACA,SAAAC,EAAW,GACX,QAAAC,EACA,QAAAC,EAAU,GACV,SAAAC,EAAW,GACX,MAAAC,EACA,OAAAC,EACA,GAAAC,EACA,iBAAAC,EAAmB,OACnB,SAAAC,EACA,GAAGC,GAELC,IACG,CACG,KAAA,CAAE,OAAAC,EAAQ,QAAAC,CAAA,EAAYC,EAAa,CAAE,KAAMP,EAAI,QAAAJ,EAAS,OAAAG,CAAA,CAAQ,EAGpE,OAAAS,EAAA,IAACC,EAAA,CACE,GAAGN,EACJ,KAAAX,EACA,SAAAE,EACA,gBAAeA,EACf,SAAUgB,EAAaR,CAAQ,EAAIA,EAAWR,EAAW,GAAK,EAC9D,eAAcW,EAASJ,EAAmB,OAC1C,KAAOP,EAAgB,OAALM,EAClB,QAAUW,GAAmB,CAC3B,MAAMC,EAAID,EACNjB,EACFkB,EAAE,eAAe,GAEjBjB,GAAA,MAAAA,EAAUiB,GACVN,EAAQM,CAAC,EAEb,EACA,IAAKR,EACL,MAAO,OAAON,GAAU,WAAae,GAASf,EAAM,CAAE,GAAGe,EAAO,OAAAR,CAAQ,CAAA,EAAIP,EAC5E,UAAW,CACT,IAAKC,GAAUA,IAAW,OAAS,sBAAwB,OAC3D,SAAAF,EACA,OAAAE,CACF,EAEC,SAAA,OAAON,GAAa,WAAsBoB,GAAApB,EAAS,CAAE,GAAGoB,EAAO,OAAAR,CAAQ,CAAA,EAAIZ,CAAA,CAAA,CAGlF,CACF,CACF,EAEAJ,EAAK,YAAc;;"}