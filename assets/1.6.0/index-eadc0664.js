import{_ as B}from"./extends-98964cd2.js";import{_ as Ce,V as E,R as C,U as p,N as Se,S as Z,l as oe,W as Le}from"./Space-3f6d0824.js";import{R as Ie,r as v}from"./index-f1f749bf.js";import{g as we}from"./_commonjsHelpers-042e6b4d.js";var Re=function i(e,t,r){if(r===void 0&&(r=-1),r===0)return!0;if(e===t||typeof e=="function"&&typeof t=="function")return!1;if(typeof e!="object"||e===null)return e!==t;if(typeof t!="object"||t===null||e.constructor!==t.constructor)return!0;if(Array.isArray(e)){var a=e.length;if(t.length!==a)return!0;for(var l=0;l<a;l++)if(i(e[l],t[l],r-1))return!0}else{for(var h in e)if(i(e[h],t[h],r-1))return!0;for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!0}return!1};const Te=Re;function he(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function Me(i,e){if(i){if(typeof i=="string")return he(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return he(i,e)}}function D(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t)return(t=t.call(i)).next.bind(t);if(Array.isArray(i)||(t=Me(i))||e&&i&&typeof i.length=="number"){t&&(i=t);var r=0;return function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ee=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];function ke(i){i.colors,i.enabled,i.onRefresh,i.progressBackgroundColor,i.progressViewOffset,i.refreshing,i.size,i.tintColor,i.title,i.titleColor;var e=Ce(i,Ee);return Ie.createElement(E,e)}class xe{constructor(e){var t=e.onMoreTasks;this._onMoreTasks=t,this._queueStack=[{tasks:[],popable:!0}]}enqueue(e){this._getCurrentQueue().push(e)}enqueueTasks(e){e.forEach(t=>this.enqueue(t))}cancelTasks(e){this._queueStack=this._queueStack.map(t=>C(C({},t),{},{tasks:t.tasks.filter(r=>e.indexOf(r)===-1)})).filter((t,r)=>t.tasks.length>0||r===0)}hasTasksToProcess(){return this._getCurrentQueue().length>0}processNext(){var e=this._getCurrentQueue();if(e.length){var t=e.shift();try{typeof t=="object"&&t.gen?this._genPromise(t):typeof t=="object"&&t.run?t.run():(p(typeof t=="function",`Expected Function, SimpleTask, or PromiseTask, but got:
`+JSON.stringify(t,null,2)),t())}catch(r){throw r.message="TaskQueue: Error with task "+(t.name||"")+": "+r.message,r}}}_getCurrentQueue(){var e=this._queueStack.length-1,t=this._queueStack[e];return t.popable&&t.tasks.length===0&&e>0?(this._queueStack.pop(),this._getCurrentQueue()):t.tasks}_genPromise(e){var t=this._queueStack.push({tasks:[],popable:!1}),r=t-1,a=this._queueStack[r];e.gen().then(()=>{a.popable=!0,this.hasTasksToProcess()&&this._onMoreTasks()}).catch(l=>{setTimeout(()=>{throw l.message="TaskQueue: Error resolving Promise in task "+e.name+": "+l.message,l},0)})}}const Fe=xe;class Oe{constructor(){this._registry={}}addListener(e,t,r){var a=Pe(this._registry,e),l={context:r,listener:t,remove(){a.delete(l)}};return a.add(l),l}emit(e){var t=this._registry[e];if(t!=null){for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];for(var h=0,s=[...t];h<s.length;h++){var n=s[h];n.listener.apply(n.context,a)}}}removeAllListeners(e){e==null?this._registry={}:delete this._registry[e]}listenerCount(e){var t=this._registry[e];return t==null?0:t.size}}function Pe(i,e){var t=i[e];return t==null&&(t=new Set,i[e]=t),t}var ze=function(e,t){return setTimeout(()=>{var r=Date.now();e({didTimeout:!1,timeRemaining(){return Math.max(0,50-(Date.now()-r))}})},1)},Ve=Se&&typeof window.requestIdleCallback<"u",Ae=Ve?window.requestIdleCallback:ze;const Ke=Ae;var Q=new Oe,ae={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions(i){var e=[],t=new Promise(r=>{N(),i&&e.push(i),e.push({run:r,name:"resolve "+(i&&i.name||"?")}),X.enqueueTasks(e)});return{then:t.then.bind(t),done:t.then.bind(t),cancel:()=>{X.cancelTasks(e)}}},createInteractionHandle(){N();var i=++De;return J.add(i),i},clearInteractionHandle(i){p(!!i,"Must provide a handle to clear."),N(),J.delete(i),ne.add(i)},addListener:Q.addListener.bind(Q),setDeadline(i){Y=i}},W=new Set,J=new Set,ne=new Set,X=new Fe({onMoreTasks:N}),q=0,De=0,Y=-1;function N(){q||(Y>0?q=setTimeout(ue):q=Ke(ue))}function ue(){q=0;var i=W.size;J.forEach(r=>W.add(r)),ne.forEach(r=>W.delete(r));var e=W.size;if(i!==0&&e===0?Q.emit(ae.Events.interactionComplete):i===0&&e!==0&&Q.emit(ae.Events.interactionStart),e===0){for(var t=Date.now();X.hasTasksToProcess();)if(X.processNext(),Y>0&&Date.now()-t>=Y){N();break}}J.clear(),ne.clear()}const He=ae;class Ne{constructor(e,t){this._delay=t,this._callback=e}dispose(e){e===void 0&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)}schedule(){if(!this._taskHandle){var e=setTimeout(()=>{this._taskHandle=He.runAfterInteractions(()=>{this._taskHandle=null,this._callback()})},this._delay);this._taskHandle={cancel:()=>clearTimeout(e)}}}}const Be=Ne;function $e(i,e,t){return e<i?i:e>t?t:e}var We=$e;const ce=We;function Ue(){return console.log(...arguments)}class qe{constructor(e){p(e>=0,"CellRenderMask must contain a non-negative number os cells"),this._numCells=e,e===0?this._regions=[]:this._regions=[{first:0,last:e-1,isSpacer:!0}]}enumerateRegions(){return this._regions}addCells(e){if(p(e.first>=0&&e.first<this._numCells&&e.last>=-1&&e.last<this._numCells&&e.last>=e.first-1,"CellRenderMask.addCells called with invalid cell range"),!(e.last<e.first)){var t=this._findRegion(e.first),r=t[0],a=t[1],l=this._findRegion(e.last),h=l[0],s=l[1];if(!(a===s&&!r.isSpacer)){var n=[],o=[],u=C(C({},e),{},{isSpacer:!1});r.first<u.first&&(r.isSpacer?n.push({first:r.first,last:u.first-1,isSpacer:!0}):u.first=r.first),h.last>u.last&&(h.isSpacer?o.push({first:u.last+1,last:h.last,isSpacer:!0}):u.last=h.last);var c=[...n,u,...o],d=s-a+1;this._regions.splice(a,d,...c)}}}numCells(){return this._numCells}equals(e){return this._numCells===e._numCells&&this._regions.length===e._regions.length&&this._regions.every((t,r)=>t.first===e._regions[r].first&&t.last===e._regions[r].last&&t.isSpacer===e._regions[r].isSpacer)}_findRegion(e){for(var t=0,r=this._regions.length-1;t<=r;){var a=Math.floor((t+r)/2),l=this._regions[a];if(e>=l.first&&e<=l.last)return[l,a];e<l.first?r=a-1:e>l.last&&(t=a+1)}p(!1,"A region was not found containing cellIdx "+e)}}class je{constructor(){this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}add(e,t){var r;p(!this._childrenToCellKey.has(e),"Trying to add already present child list");var a=(r=this._cellKeyToChildren.get(t))!==null&&r!==void 0?r:new Set;a.add(e),this._cellKeyToChildren.set(t,a),this._childrenToCellKey.set(e,t)}remove(e){var t=this._childrenToCellKey.get(e);p(t!=null,"Trying to remove non-present child list"),this._childrenToCellKey.delete(e);var r=this._cellKeyToChildren.get(t);p(r,"_cellKeyToChildren should contain cellKey"),r.delete(e),r.size===0&&this._cellKeyToChildren.delete(t)}forEach(e){for(var t=D(this._cellKeyToChildren.values()),r;!(r=t()).done;)for(var a=r.value,l=D(a),h;!(h=l()).done;){var s=h.value;e(s)}}forEachInCell(e,t){for(var r,a=(r=this._cellKeyToChildren.get(e))!==null&&r!==void 0?r:[],l=D(a),h;!(h=l()).done;){var s=h.value;t(s)}}anyInCell(e,t){for(var r,a=(r=this._cellKeyToChildren.get(e))!==null&&r!==void 0?r:[],l=D(a),h;!(h=l()).done;){var s=h.value;if(t(s))return!0}return!1}size(){return this._childrenToCellKey.size}}class de{constructor(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}}var U=[],fe=10,ee=null;class Qe{static addListener(e){return ee===null&&console.warn("Call `FillRateHelper.setSampleRate` before `addListener`."),U.push(e),{remove:()=>{U=U.filter(t=>e!==t)}}}static setSampleRate(e){ee=e}static setMinSampleCount(e){fe=e}constructor(e){this._anyBlankStartTime=null,this._enabled=!1,this._info=new de,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=e,this._enabled=(ee||0)>Math.random(),this._resetData()}activate(){this._enabled&&this._samplesStartTime==null&&(this._samplesStartTime=global.performance.now())}deactivateAndFlush(){if(this._enabled){var e=this._samplesStartTime;if(e!=null){if(this._info.sample_count<fe){this._resetData();return}var t=global.performance.now()-e,r=C(C({},this._info),{},{total_time_spent:t});U.forEach(a=>a(r)),this._resetData()}}}computeBlankness(e,t,r){if(!this._enabled||e.getItemCount(e.data)===0||t.last<t.first||this._samplesStartTime==null)return 0;var a=r.dOffset,l=r.offset,h=r.velocity,s=r.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(s),this._info.pixels_scrolled+=Math.round(Math.abs(a));var n=Math.round(Math.abs(h)*1e3),o=global.performance.now();this._anyBlankStartTime!=null&&(this._info.any_blank_ms+=o-this._anyBlankStartTime),this._anyBlankStartTime=null,this._mostlyBlankStartTime!=null&&(this._info.mostly_blank_ms+=o-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var u=0,c=t.first,d=this._getFrameMetrics(c,e);c<=t.last&&(!d||!d.inLayout);)d=this._getFrameMetrics(c,e),c++;d&&c>0&&(u=Math.min(s,Math.max(0,d.offset-l)));for(var f=0,m=t.last,_=this._getFrameMetrics(m,e);m>=t.first&&(!_||!_.inLayout);)_=this._getFrameMetrics(m,e),m--;if(_&&m<e.getItemCount(e.data)-1){var g=_.offset+_.length;f=Math.min(s,Math.max(0,l+s-g))}var y=Math.round(u+f),b=y/s;return b>0?(this._anyBlankStartTime=o,this._info.any_blank_speed_sum+=n,this._info.any_blank_count++,this._info.pixels_blank+=y,b>.5&&(this._mostlyBlankStartTime=o,this._info.mostly_blank_count++)):(n<.01||Math.abs(a)<1)&&this.deactivateAndFlush(),b}enabled(){return this._enabled}_resetData(){this._anyBlankStartTime=null,this._info=new de,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}const Je=Qe;class Xe extends v.PureComponent{constructor(e){super(e),this._inAsyncStateUpdate=!1,this._installSetStateHooks()}setState(e,t){typeof e=="function"?super.setState((r,a)=>{this._inAsyncStateUpdate=!0;var l;try{l=e(r,a)}catch(h){throw h}finally{this._inAsyncStateUpdate=!1}return l},t):super.setState(e,t)}_installSetStateHooks(){var e=this,t=this.props,r=this.state;Object.defineProperty(this,"props",{get(){return p(!e._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),t},set(a){t=a}}),Object.defineProperty(this,"state",{get(){return p(!e._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),r},set(a){r=a}})}}class Ye{constructor(e){e===void 0&&(e={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=e}dispose(){this._timers.forEach(clearTimeout)}computeViewableItems(e,t,r,a,l){var h=e.getItemCount(e.data),s=this._config,n=s.itemVisiblePercentThreshold,o=s.viewAreaCoveragePercentThreshold,u=o!=null,c=u?o:n;p(c!=null&&n!=null!=(o!=null),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var d=[];if(h===0)return d;var f=-1,m=l||{first:0,last:h-1},_=m.first,g=m.last;if(g>=h)return console.warn("Invalid render range computing viewability "+JSON.stringify({renderRange:l,itemCount:h})),[];for(var y=_;y<=g;y++){var b=a(y,e);if(b){var R=b.offset-t,L=R+b.length;if(R<r&&L>0)f=y,Ge(u,c,R,L,r,b.length)&&d.push(y);else if(f>=0)break}}return d}onUpdate(e,t,r,a,l,h,s){var n=e.getItemCount(e.data);if(!(this._config.waitForInteraction&&!this._hasInteracted||n===0||!a(0,e))){var o=[];if(n&&(o=this.computeViewableItems(e,t,r,a,s)),!(this._viewableIndices.length===o.length&&this._viewableIndices.every((c,d)=>c===o[d])))if(this._viewableIndices=o,this._config.minimumViewTime){var u=setTimeout(()=>{this._timers.delete(u),this._onUpdateSync(e,o,h,l)},this._config.minimumViewTime);this._timers.add(u)}else this._onUpdateSync(e,o,h,l)}}resetViewableIndices(){this._viewableIndices=[]}recordInteraction(){this._hasInteracted=!0}_onUpdateSync(e,t,r,a){t=t.filter(b=>this._viewableIndices.includes(b));for(var l=this._viewableItems,h=new Map(t.map(b=>{var R=a(b,!0,e);return[R.key,R]})),s=[],n=D(h),o;!(o=n()).done;){var u=o.value,c=u[0],d=u[1];l.has(c)||s.push(d)}for(var f=D(l),m;!(m=f()).done;){var _=m.value,g=_[0],y=_[1];h.has(g)||s.push(C(C({},y),{},{isViewable:!1}))}s.length>0&&(this._viewableItems=h,r({viewableItems:Array.from(h.values()),changed:s,viewabilityConfig:this._config}))}}function Ge(i,e,t,r,a,l){if(et(t,r,a))return!0;var h=Ze(t,r,a),s=100*(i?h/a:h/l);return s>=e}function Ze(i,e,t){var r=Math.min(e,t)-Math.max(i,0);return Math.max(0,r)}function et(i,e,t){return i>=0&&e<=t&&e>i}const me=Ye;var G=v.createContext(null);function tt(i){var e=i.children,t=i.value,r=v.useMemo(()=>({cellKey:null,getScrollMetrics:t.getScrollMetrics,horizontal:t.horizontal,getOutermostParentListRef:t.getOutermostParentListRef,registerAsNestedChild:t.registerAsNestedChild,unregisterAsNestedChild:t.unregisterAsNestedChild}),[t.getScrollMetrics,t.horizontal,t.getOutermostParentListRef,t.registerAsNestedChild,t.unregisterAsNestedChild]);return v.createElement(G.Provider,{value:r},e)}function j(i){var e=i.cellKey,t=i.children,r=v.useContext(G),a=v.useMemo(()=>r==null?null:C(C({},r),{},{cellKey:e}),[r,e]);return v.createElement(G.Provider,{value:a},t)}class rt extends v.Component{constructor(){super(...arguments),this.state={separatorProps:{highlighted:!1,leadingItem:this.props.item}},this._separators={highlight:()=>{var e=this.props,t=e.cellKey,r=e.prevCellKey;this.props.onUpdateSeparators([t,r],{highlighted:!0})},unhighlight:()=>{var e=this.props,t=e.cellKey,r=e.prevCellKey;this.props.onUpdateSeparators([t,r],{highlighted:!1})},updateProps:(e,t)=>{var r=this.props,a=r.cellKey,l=r.prevCellKey;this.props.onUpdateSeparators([e==="leading"?l:a],t)}},this._onLayout=e=>{this.props.onCellLayout&&this.props.onCellLayout(e,this.props.cellKey,this.props.index)}}static getDerivedStateFromProps(e,t){return{separatorProps:C(C({},t.separatorProps),{},{leadingItem:e.item})}}updateSeparatorProps(e){this.setState(t=>({separatorProps:C(C({},t.separatorProps),e)}))}componentWillUnmount(){this.props.onUnmount(this.props.cellKey)}_renderElement(e,t,r,a){if(e&&t&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),t)return v.createElement(t,{item:r,index:a,separators:this._separators});if(e)return e({item:r,index:a,separators:this._separators});p(!1,"VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.")}render(){var e=this.props,t=e.CellRendererComponent,r=e.ItemSeparatorComponent,a=e.ListItemComponent,l=e.cellKey,h=e.horizontal,s=e.item,n=e.index,o=e.inversionStyle,u=e.onCellFocusCapture,c=e.onCellLayout,d=e.renderItem,f=this._renderElement(d,a,s,n),m=v.isValidElement(r)?r:r&&v.createElement(r,this.state.separatorProps),_=o?h?[te.rowReverse,o]:[te.columnReverse,o]:h?[te.row,o]:o,g=t?v.createElement(t,B({cellKey:l,index:n,item:s,style:_,onFocusCapture:u},c&&{onLayout:this._onLayout}),f,m):v.createElement(E,B({style:_,onFocusCapture:u},c&&{onLayout:this._onLayout}),f,m);return v.createElement(j,{cellKey:this.props.cellKey},g)}}var te=Z.create({row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}});function st(i,e,t,r){r===void 0&&(r=1);for(var a=e.getItemCount(e.data),l=[],h=0;h<i.length;h++)for(var s=i[h],n=0,o=a-1;n<=o;){var u=n+(o-n>>>1),c=t(u,e),d=c.offset*r,f=(c.offset+c.length)*r;if(u===0&&s<d||u!==0&&s<=d)o=u-1;else if(s>f)n=u+1;else{l[h]=u;break}}return l}function it(i,e){return e.last-e.first+1-Math.max(0,1+Math.min(e.last,i.last)-Math.max(e.first,i.first))}function at(i,e,t,r,a,l){var h=i.getItemCount(i.data);if(h===0)return{first:0,last:-1};var s=l.offset,n=l.velocity,o=l.visibleLength,u=l.zoomScale,c=u===void 0?1:u,d=Math.max(0,s),f=d+o,m=(t-1)*o,_=.5,g=n>1?"after":n<-1?"before":"none",y=Math.max(0,d-(1-_)*m),b=Math.max(0,f+_*m),R=a(h-1,i).offset*c;if(R<y)return{first:Math.max(0,h-1-e),last:h-1};var L=st([y,d,f,b],i,a,c),T=L[0],S=L[1],I=L[2],w=L[3];T=T??0,S=S??Math.max(0,T),w=w??h-1,I=I??Math.min(w,S+e-1);for(var F={first:S,last:I},O=it(r,F);!(S<=T&&I>=w);){var M=O>=e,V=S<=r.first||S>r.last,P=S>T&&(!M||!V),H=I>=r.last||I<r.first,z=I<w&&(!M||!H);if(M&&!P&&!z)break;P&&!(g==="after"&&z&&H)&&(V&&O++,S--),z&&!(g==="before"&&P&&V)&&(H&&O++,I++)}if(!(I>=S&&S>=0&&I<h&&S>=T&&I<=w&&S<=F.first&&I>=F.last))throw new Error("Bad window calculation "+JSON.stringify({first:S,last:I,itemCount:h,overscanFirst:T,overscanLast:w,visible:F}));return{first:S,last:I}}function le(i,e){return typeof i=="object"&&(i==null?void 0:i.key)!=null?i.key:typeof i=="object"&&(i==null?void 0:i.id)!=null?i.id:String(e)}var $={},nt={get exports(){return $},set exports(i){$=i}};function be(i,e){if(i!=null)return i;var t=new Error(e!==void 0?e:"Got unexpected "+i);throw t.framesToPop=1,t}nt.exports=be;$.default=be;Object.defineProperty($,"__esModule",{value:!0});const lt=we($);var ve=.001,re=!1,se="";function A(i){return i??!1}function ot(i){return i??10}function ie(i){return i??10}function ht(i){return i??2}function _e(i){return i??2}function pe(i,e){return i*e/2}function ut(i){return i??50}function ge(i){return i??21}function ct(i,e){for(var t=i.length-1;t>=0;t--)if(e(i[t]))return i[t];return null}class k extends Xe{scrollToEnd(e){var t=e?e.animated:!0,r=this.props.getItemCount(this.props.data)-1;if(!(r<0)){var a=this.__getFrameMetricsApprox(r,this.props),l=Math.max(0,a.offset+a.length+this._footerLength-this._scrollMetrics.visibleLength);if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(A(this.props.horizontal)?{x:l,animated:t}:{y:l,animated:t})}}}scrollToIndex(e){var t=this.props,r=t.data,a=t.horizontal,l=t.getItemCount,h=t.getItemLayout,s=t.onScrollToIndexFailed,n=e.animated,o=e.index,u=e.viewOffset,c=e.viewPosition;if(p(o>=0,"scrollToIndex out of range: requested index "+o+" but minimum is 0"),p(l(r)>=1,"scrollToIndex out of range: item length "+l(r)+" but minimum is 1"),p(o<l(r),"scrollToIndex out of range: requested index "+o+" is out of 0 to "+(l(r)-1)),!h&&o>this._highestMeasuredFrameIndex){p(!!s,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),s({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:o});return}var d=this.__getFrameMetricsApprox(Math.floor(o),this.props),f=Math.max(0,this._getOffsetApprox(o,this.props)-(c||0)*(this._scrollMetrics.visibleLength-d.length))-(u||0);if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(a?{x:f,animated:n}:{y:f,animated:n})}}scrollToItem(e){for(var t=e.item,r=this.props,a=r.data,l=r.getItem,h=r.getItemCount,s=h(a),n=0;n<s;n++)if(l(a,n)===t){this.scrollToIndex(C(C({},e),{},{index:n}));break}}scrollToOffset(e){var t=e.animated,r=e.offset;if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(A(this.props.horizontal)?{x:r,animated:t}:{y:r,animated:t})}}recordInteraction(){this._nestedChildLists.forEach(e=>{e.recordInteraction()}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}flashScrollIndicators(){this._scrollRef!=null&&this._scrollRef.flashScrollIndicators()}getScrollResponder(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}getScrollableNode(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}getScrollRef(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}_getCellKey(){var e;return((e=this.context)==null?void 0:e.cellKey)||"rootList"}hasMore(){return this._hasMore}constructor(e){var t;if(super(e),this._getScrollMetrics=()=>this._scrollMetrics,this._getOutermostParentListRef=()=>this._isNestedWithSameOrientation()?this.context.getOutermostParentListRef():this,this._registerAsNestedChild=s=>{this._nestedChildLists.add(s.ref,s.cellKey),this._hasInteracted&&s.ref.recordInteraction()},this._unregisterAsNestedChild=s=>{this._nestedChildLists.remove(s.ref)},this._onUpdateSeparators=(s,n)=>{s.forEach(o=>{var u=o!=null&&this._cellRefs[o];u&&u.updateSeparatorProps(n)})},this._getSpacerKey=s=>s?"height":"width",this._averageCellLength=0,this._cellRefs={},this._frames={},this._footerLength=0,this._hasTriggeredInitialScrollToIndex=!1,this._hasInteracted=!1,this._hasMore=!1,this._hasWarned={},this._headerLength=0,this._hiPriInProgress=!1,this._highestMeasuredFrameIndex=0,this._indicesToKeys=new Map,this._lastFocusedCellKey=null,this._nestedChildLists=new je,this._offsetFromParentVirtualizedList=0,this._prevParentOffset=0,this._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},this._scrollRef=null,this._sentStartForContentLength=0,this._sentEndForContentLength=0,this._totalCellLength=0,this._totalCellsMeasured=0,this._viewabilityTuples=[],this._captureScrollRef=s=>{this._scrollRef=s},this._defaultRenderScrollComponent=s=>{var n=s.onRefresh;if(this._isNestedWithSameOrientation())return v.createElement(E,s);if(n){var o;return p(typeof s.refreshing=="boolean","`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify((o=s.refreshing)!==null&&o!==void 0?o:"undefined")+"`"),v.createElement(oe,B({},s,{refreshControl:s.refreshControl==null?v.createElement(ke,{refreshing:s.refreshing,onRefresh:n,progressViewOffset:s.progressViewOffset}):s.refreshControl}))}else return v.createElement(oe,s)},this._onCellLayout=(s,n,o)=>{var u=s.nativeEvent.layout,c={offset:this._selectOffset(u),length:this._selectLength(u),index:o,inLayout:!0},d=this._frames[n];!d||c.offset!==d.offset||c.length!==d.length||o!==d.index?(this._totalCellLength+=c.length-(d?d.length:0),this._totalCellsMeasured+=d?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[n]=c,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,o),this._scheduleCellsToRenderUpdate()):this._frames[n].inLayout=!0,this._triggerRemeasureForChildListsInCell(n),this._computeBlankness(),this._updateViewableItems(this.props,this.state.cellsAroundViewport)},this._onCellUnmount=s=>{delete this._cellRefs[s];var n=this._frames[s];n&&(this._frames[s]=C(C({},n),{},{inLayout:!1}))},this._onLayout=s=>{this._isNestedWithSameOrientation()?this.measureLayoutRelativeToContainingList():this._scrollMetrics.visibleLength=this._selectLength(s.nativeEvent.layout),this.props.onLayout&&this.props.onLayout(s),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._onLayoutEmpty=s=>{this.props.onLayout&&this.props.onLayout(s)},this._onLayoutFooter=s=>{this._triggerRemeasureForChildListsInCell(this._getFooterCellKey()),this._footerLength=this._selectLength(s.nativeEvent.layout)},this._onLayoutHeader=s=>{this._headerLength=this._selectLength(s.nativeEvent.layout)},this._onContentSizeChange=(s,n)=>{s>0&&n>0&&this.props.initialScrollIndex!=null&&this.props.initialScrollIndex>0&&!this._hasTriggeredInitialScrollToIndex&&(this.props.contentOffset==null&&(this.props.initialScrollIndex<this.props.getItemCount(this.props.data)?this.scrollToIndex({animated:!1,index:lt(this.props.initialScrollIndex)}):this.scrollToEnd({animated:!1})),this._hasTriggeredInitialScrollToIndex=!0),this.props.onContentSizeChange&&this.props.onContentSizeChange(s,n),this._scrollMetrics.contentLength=this._selectLength({height:n,width:s}),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._convertParentScrollMetrics=s=>{var n=s.offset-this._offsetFromParentVirtualizedList,o=s.visibleLength,u=n-this._scrollMetrics.offset,c=this._scrollMetrics.contentLength;return{visibleLength:o,contentLength:c,offset:n,dOffset:u}},this._onScroll=s=>{this._nestedChildLists.forEach(y=>{y._onScroll(s)}),this.props.onScroll&&this.props.onScroll(s);var n=s.timeStamp,o=this._selectLength(s.nativeEvent.layoutMeasurement),u=this._selectLength(s.nativeEvent.contentSize),c=this._selectOffset(s.nativeEvent.contentOffset),d=c-this._scrollMetrics.offset;if(this._isNestedWithSameOrientation()){if(this._scrollMetrics.contentLength===0)return;var f=this._convertParentScrollMetrics({visibleLength:o,offset:c});o=f.visibleLength,u=f.contentLength,c=f.offset,d=f.dOffset}var m=this._scrollMetrics.timestamp?Math.max(1,n-this._scrollMetrics.timestamp):1,_=d/m;m>500&&this._scrollMetrics.dt>500&&u>5*o&&!this._hasWarned.perf&&(Ue("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:m,prevDt:this._scrollMetrics.dt,contentLength:u}),this._hasWarned.perf=!0);var g=s.nativeEvent.zoomScale<0?1:s.nativeEvent.zoomScale;this._scrollMetrics={contentLength:u,dt:m,dOffset:d,offset:c,timestamp:n,velocity:_,visibleLength:o,zoomScale:g},this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.props&&(this._maybeCallOnEdgeReached(),_!==0&&this._fillRateHelper.activate(),this._computeBlankness(),this._scheduleCellsToRenderUpdate())},this._onScrollBeginDrag=s=>{this._nestedChildLists.forEach(n=>{n._onScrollBeginDrag(s)}),this._viewabilityTuples.forEach(n=>{n.viewabilityHelper.recordInteraction()}),this._hasInteracted=!0,this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(s)},this._onScrollEndDrag=s=>{this._nestedChildLists.forEach(o=>{o._onScrollEndDrag(s)});var n=s.nativeEvent.velocity;n&&(this._scrollMetrics.velocity=this._selectOffset(n)),this._computeBlankness(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(s)},this._onMomentumScrollBegin=s=>{this._nestedChildLists.forEach(n=>{n._onMomentumScrollBegin(s)}),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(s)},this._onMomentumScrollEnd=s=>{this._nestedChildLists.forEach(n=>{n._onMomentumScrollEnd(s)}),this._scrollMetrics.velocity=0,this._computeBlankness(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(s)},this._updateCellsToRender=()=>{this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.setState((s,n)=>{var o=this._adjustCellsAroundViewport(n,s.cellsAroundViewport),u=k._createRenderMask(n,o,this._getNonViewportRenderRegions(n));return o.first===s.cellsAroundViewport.first&&o.last===s.cellsAroundViewport.last&&u.equals(s.renderMask)?null:{cellsAroundViewport:o,renderMask:u}})},this._createViewToken=(s,n,o)=>{var u=o.data,c=o.getItem,d=c(u,s);return{index:s,item:d,key:this._keyExtractor(d,s,o),isViewable:n}},this._getOffsetApprox=(s,n)=>{if(Number.isInteger(s))return this.__getFrameMetricsApprox(s,n).offset;var o=this.__getFrameMetricsApprox(Math.floor(s),n),u=s-Math.floor(s);return o.offset+u*o.length},this.__getFrameMetricsApprox=(s,n)=>{var o=this._getFrameMetrics(s,n);if(o&&o.index===s)return o;var u=n.data,c=n.getItemCount,d=n.getItemLayout;return p(s>=0&&s<c(u),"Tried to get frame for out of range index "+s),p(!d,"Should not have to estimate frames when a measurement metrics function is provided"),{length:this._averageCellLength,offset:this._averageCellLength*s}},this._getFrameMetrics=(s,n)=>{var o=n.data,u=n.getItem,c=n.getItemCount,d=n.getItemLayout;p(s>=0&&s<c(o),"Tried to get frame for out of range index "+s);var f=u(o,s),m=this._frames[this._keyExtractor(f,s,n)];return(!m||m.index!==s)&&d?d(o,s):m},this._getNonViewportRenderRegions=s=>{if(!(this._lastFocusedCellKey&&this._cellRefs[this._lastFocusedCellKey]))return[];var n=this._cellRefs[this._lastFocusedCellKey],o=n.props.index,u=s.getItemCount(s.data);if(o>=u||this._keyExtractor(s.getItem(s.data,o),o,s)!==this._lastFocusedCellKey)return[];for(var c=o,d=0,f=c-1;f>=0&&d<this._scrollMetrics.visibleLength;f--)c--,d+=this.__getFrameMetricsApprox(f,s).length;for(var m=o,_=0,g=m+1;g<u&&_<this._scrollMetrics.visibleLength;g++)m++,_+=this.__getFrameMetricsApprox(g,s).length;return[{first:c,last:m}]},this._checkProps(e),this._fillRateHelper=new Je(this._getFrameMetrics),this._updateCellsToRenderBatcher=new Be(this._updateCellsToRender,(t=this.props.updateCellsBatchingPeriod)!==null&&t!==void 0?t:50),this.props.viewabilityConfigCallbackPairs)this._viewabilityTuples=this.props.viewabilityConfigCallbackPairs.map(s=>({viewabilityHelper:new me(s.viewabilityConfig),onViewableItemsChanged:s.onViewableItemsChanged}));else{var r=this.props,a=r.onViewableItemsChanged,l=r.viewabilityConfig;a&&this._viewabilityTuples.push({viewabilityHelper:new me(l),onViewableItemsChanged:a})}var h=k._initialRenderRegion(e);this.state={cellsAroundViewport:h,renderMask:k._createRenderMask(e,h)},this.invertedWheelEventHandler=s=>{var n=this.props.horizontal?s.target.scrollLeft:s.target.scrollTop,o=this.props.horizontal?s.target.scrollWidth:s.target.scrollHeight,u=this.props.horizontal?s.target.clientWidth:s.target.clientHeight,c=o>u,d=this.props.horizontal?s.deltaX||s.wheelDeltaX:s.deltaY||s.wheelDeltaY,f=d;c&&(f=d<0?Math.min(d+n,0):Math.max(d-(o-u-n),0));var m=d-f;if(this.props.inverted&&this._scrollRef&&this._scrollRef.getScrollableNode){var _=this._scrollRef.getScrollableNode();if(this.props.horizontal){s.target.scrollLeft+=m;var g=_.scrollLeft-f;_.scrollLeft=this.props.getItemLayout?g:Math.min(g,this._totalCellLength)}else{s.target.scrollTop+=m;var y=_.scrollTop-f;_.scrollTop=this.props.getItemLayout?y:Math.min(y,this._totalCellLength)}s.preventDefault()}}}_checkProps(e){var t=e.onScroll,r=e.windowSize,a=e.getItemCount,l=e.data,h=e.initialScrollIndex;p(!t||!t.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),p(ge(r)>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),p(a,'VirtualizedList: The "getItemCount" prop must be provided');var s=a(l);h!=null&&!this._hasTriggeredInitialScrollToIndex&&(h<0||s>0&&h>=s)&&!this._hasWarned.initialScrollIndex&&(console.warn('initialScrollIndex "'+h+'" is not valid (list has '+s+" items)"),this._hasWarned.initialScrollIndex=!0)}static _createRenderMask(e,t,r){var a=e.getItemCount(e.data);p(t.first>=0&&t.last>=t.first-1&&t.last<a,'Invalid cells around viewport "['+t.first+", "+t.last+']" was passed to VirtualizedList._createRenderMask');var l=new qe(a);if(a>0){for(var h=[t,...r??[]],s=0,n=h;s<n.length;s++){var o=n[s];l.addCells(o)}if(e.initialScrollIndex==null||e.initialScrollIndex<=0){var u=k._initialRenderRegion(e);l.addCells(u)}var c=new Set(e.stickyHeaderIndices);k._ensureClosestStickyHeader(e,c,l,t.first)}return l}static _initialRenderRegion(e){var t,r=e.getItemCount(e.data),a=Math.max(0,Math.min(r-1,Math.floor((t=e.initialScrollIndex)!==null&&t!==void 0?t:0))),l=Math.min(r,a+ot(e.initialNumToRender))-1;return{first:a,last:l}}static _ensureClosestStickyHeader(e,t,r,a){for(var l=e.ListHeaderComponent?1:0,h=a-1;h>=0;h--)if(t.has(h+l)){r.addCells({first:h,last:h});break}}_adjustCellsAroundViewport(e,t){var r=e.data,a=e.getItemCount,l=_e(e.onEndReachedThreshold),h=this._scrollMetrics,s=h.contentLength,n=h.offset,o=h.visibleLength,u=s-o-n;if(o<=0||s<=0)return t.last>=a(r)?k._constrainToItemCount(t,e):t;var c;if(e.disableVirtualization){var d=u<l*o?ie(e.maxToRenderPerBatch):0;c={first:0,last:Math.min(t.last+d,a(r)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(u)>=Number.EPSILON)return t.last>=a(r)?k._constrainToItemCount(t,e):t;c=at(e,ie(e.maxToRenderPerBatch),ge(e.windowSize),t,this.__getFrameMetricsApprox,this._scrollMetrics),p(c.last<a(r),"computeWindowedRenderLimits() should return range in-bounds")}if(this._nestedChildLists.size()>0){var f=this._findFirstChildWithMore(c.first,c.last);c.last=f??c.last}return c}_findFirstChildWithMore(e,t){for(var r=e;r<=t;r++){var a=this._indicesToKeys.get(r);if(a!=null&&this._nestedChildLists.anyInCell(a,l=>l.hasMore()))return r}return null}componentDidMount(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}componentWillUnmount(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}setupWebWheelHandler(){if(this._scrollRef&&this._scrollRef.getScrollableNode)this._scrollRef.getScrollableNode().addEventListener("wheel",this.invertedWheelEventHandler);else{setTimeout(()=>this.setupWebWheelHandler(),50);return}}teardownWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener("wheel",this.invertedWheelEventHandler)}static getDerivedStateFromProps(e,t){var r=e.getItemCount(e.data);if(r===t.renderMask.numCells())return t;var a=k._constrainToItemCount(t.cellsAroundViewport,e);return{cellsAroundViewport:a,renderMask:k._createRenderMask(e,a)}}_pushCells(e,t,r,a,l,h){var s=this,n=this.props,o=n.CellRendererComponent,u=n.ItemSeparatorComponent,c=n.ListHeaderComponent,d=n.ListItemComponent,f=n.data,m=n.debug,_=n.getItem,g=n.getItemCount,y=n.getItemLayout,b=n.horizontal,R=n.renderItem,L=c?1:0,T=g(f)-1,S;l=Math.min(T,l);for(var I=function(){var O=_(f,w),M=s._keyExtractor(O,w,s.props);s._indicesToKeys.set(w,M),r.has(w+L)&&t.push(e.length);var V=y==null||m||s._fillRateHelper.enabled();e.push(v.createElement(rt,B({CellRendererComponent:o,ItemSeparatorComponent:w<T?u:void 0,ListItemComponent:d,cellKey:M,horizontal:b,index:w,inversionStyle:h,item:O,key:M,prevCellKey:S,onUpdateSeparators:s._onUpdateSeparators,onCellFocusCapture:P=>s._onCellFocusCapture(M),onUnmount:s._onCellUnmount,ref:P=>{s._cellRefs[M]=P},renderItem:R},V&&{onCellLayout:s._onCellLayout}))),S=M},w=a;w<=l;w++)I()}static _constrainToItemCount(e,t){var r=t.getItemCount(t.data),a=Math.min(r-1,e.last),l=ie(t.maxToRenderPerBatch);return{first:ce(0,r-1-l,e.first),last:a}}_isNestedWithSameOrientation(){var e=this.context;return!!(e&&!!e.horizontal===A(this.props.horizontal))}_keyExtractor(e,t,r){if(r.keyExtractor!=null)return r.keyExtractor(e,t);var a=le(e,t);return a===String(t)&&(re=!0,e.type&&e.type.displayName&&(se=e.type.displayName)),a}render(){this._checkProps(this.props);var e=this.props,t=e.ListEmptyComponent,r=e.ListFooterComponent,a=e.ListHeaderComponent,l=this.props,h=l.data,s=l.horizontal,n=this.props.inverted?A(this.props.horizontal)?x.horizontallyInverted:x.verticallyInverted:null,o=[],u=new Set(this.props.stickyHeaderIndices),c=[];if(a){u.has(0)&&c.push(0);var d=v.isValidElement(a)?a:v.createElement(a,null);o.push(v.createElement(j,{cellKey:this._getCellKey()+"-header",key:"$header"},v.createElement(E,{onLayout:this._onLayoutHeader,style:[n,this.props.ListHeaderComponentStyle]},d)))}var f=this.props.getItemCount(h);if(f===0&&t){var m=v.isValidElement(t)?t:v.createElement(t,null);o.push(v.createElement(j,{cellKey:this._getCellKey()+"-empty",key:"$empty"},v.cloneElement(m,{onLayout:z=>{this._onLayoutEmpty(z),m.props.onLayout&&m.props.onLayout(z)},style:[n,m.props.style]})))}if(f>0){re=!1,se="";for(var _=this._getSpacerKey(!s),g=this.state.renderMask.enumerateRegions(),y=ct(g,z=>z.isSpacer),b=D(g),R;!(R=b()).done;){var L=R.value;if(L.isSpacer){if(this.props.disableVirtualization)continue;var T=L===y,S=T&&!this.props.getItemLayout,I=S?ce(L.first-1,L.last,this._highestMeasuredFrameIndex):L.last,w=this.__getFrameMetricsApprox(L.first,this.props),F=this.__getFrameMetricsApprox(I,this.props),O=F.offset+F.length-w.offset;o.push(v.createElement(E,{key:"$spacer-"+L.first,style:{[_]:O}}))}else this._pushCells(o,c,u,L.first,L.last,n)}!this._hasWarned.keys&&re&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",se),this._hasWarned.keys=!0)}if(r){var M=v.isValidElement(r)?r:v.createElement(r,null);o.push(v.createElement(j,{cellKey:this._getFooterCellKey(),key:"$footer"},v.createElement(E,{onLayout:this._onLayoutFooter,style:[n,this.props.ListFooterComponentStyle]},M)))}var V=C(C({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:ut(this.props.scrollEventThrottle),invertStickyHeaders:this.props.invertStickyHeaders!==void 0?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:c,style:n?[n,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<f-1;var P=v.createElement(tt,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:A(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},v.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(V),{ref:this._captureScrollRef},o)),H=P;return this.props.debug?v.createElement(E,{style:x.debug},H,this._renderDebugOverlay()):H}componentDidUpdate(e){var t=this.props,r=t.data,a=t.extraData;(r!==e.data||a!==e.extraData)&&this._viewabilityTuples.forEach(h=>{h.viewabilityHelper.resetViewableIndices()});var l=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),l&&(this._hiPriInProgress=!1)}_computeBlankness(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}_onCellFocusCapture(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}_triggerRemeasureForChildListsInCell(e){this._nestedChildLists.forEachInCell(e,t=>{t.measureLayoutRelativeToContainingList()})}measureLayoutRelativeToContainingList(){try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(e,t,r,a)=>{this._offsetFromParentVirtualizedList=this._selectOffset({x:e,y:t}),this._scrollMetrics.contentLength=this._selectLength({width:r,height:a});var l=this._convertParentScrollMetrics(this.context.getScrollMetrics()),h=this._scrollMetrics.visibleLength!==l.visibleLength||this._scrollMetrics.offset!==l.offset;h&&(this._scrollMetrics.visibleLength=l.visibleLength,this._scrollMetrics.offset=l.offset,this._nestedChildLists.forEach(s=>{s.measureLayoutRelativeToContainingList()}))},e=>{console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(e){console.warn("measureLayoutRelativeToContainingList threw an error",e.stack)}}_getFooterCellKey(){return this._getCellKey()+"-footer"}_renderDebugOverlay(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),t=[],r=this.props.getItemCount(this.props.data),a=0;a<r;a++){var l=this.__getFrameMetricsApprox(a,this.props);l.inLayout&&t.push(l)}var h=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,s=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),n=s.offset+s.length-h,o=this._scrollMetrics.offset,u=this._scrollMetrics.visibleLength;return v.createElement(E,{style:[x.debugOverlayBase,x.debugOverlay]},t.map((c,d)=>v.createElement(E,{key:"f"+d,style:[x.debugOverlayBase,x.debugOverlayFrame,{top:c.offset*e,height:c.length*e}]})),v.createElement(E,{style:[x.debugOverlayBase,x.debugOverlayFrameLast,{top:h*e,height:n*e}]}),v.createElement(E,{style:[x.debugOverlayBase,x.debugOverlayFrameVis,{top:o*e,height:u*e}]}))}_selectLength(e){return A(this.props.horizontal)?e.width:e.height}_selectOffset(e){return A(this.props.horizontal)?e.x:e.y}_maybeCallOnEdgeReached(){var e=this.props,t=e.data,r=e.getItemCount,a=e.onStartReached,l=e.onStartReachedThreshold,h=e.onEndReached,s=e.onEndReachedThreshold,n=e.initialScrollIndex,o=this._scrollMetrics,u=o.contentLength,c=o.visibleLength,d=o.offset,f=d,m=u-c-d;f<ve&&(f=0),m<ve&&(m=0);var _=2,g=l!=null?l*c:_,y=s!=null?s*c:_,b=f<=g,R=m<=y;h&&this.state.cellsAroundViewport.last===r(t)-1&&R&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,h({distanceFromEnd:m})):a!=null&&this.state.cellsAroundViewport.first===0&&b&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?(!n||this._scrollMetrics.timestamp!==0)&&(this._sentStartForContentLength=this._scrollMetrics.contentLength,a({distanceFromStart:f})):(this._sentStartForContentLength=b?this._sentStartForContentLength:0,this._sentEndForContentLength=R?this._sentEndForContentLength:0)}_scheduleCellsToRenderUpdate(){var e=this.state.cellsAroundViewport,t=e.first,r=e.last,a=this._scrollMetrics,l=a.offset,h=a.visibleLength,s=a.velocity,n=this.props.getItemCount(this.props.data),o=!1,u=ht(this.props.onStartReachedThreshold),c=_e(this.props.onEndReachedThreshold);if(t>0){var d=l-this.__getFrameMetricsApprox(t,this.props).offset;o=d<0||s<-2&&d<pe(u,h)}if(!o&&r>=0&&r<n-1){var f=this.__getFrameMetricsApprox(r,this.props).offset-(l+h);o=f<0||s>2&&f<pe(c,h)}if(o&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress){this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),this._updateCellsToRender();return}else this._updateCellsToRenderBatcher.schedule()}_updateViewableItems(e,t){this._viewabilityTuples.forEach(r=>{r.viewabilityHelper.onUpdate(e,this._scrollMetrics.offset,this._scrollMetrics.visibleLength,this._getFrameMetrics,this._createViewToken,r.onViewableItemsChanged,t)})}}k.contextType=G;var x=Z.create({verticallyInverted:{transform:"scaleY(-1)"},horizontallyInverted:{transform:"scaleX(-1)"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}});const dt=k;var ye=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function ft(i,e){return!!(i===e||ye(i)&&ye(e))}function mt(i,e){if(i.length!==e.length)return!1;for(var t=0;t<i.length;t++)if(!ft(i[t],e[t]))return!1;return!0}function vt(i,e){e===void 0&&(e=mt);var t=null;function r(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];if(t&&t.lastThis===this&&e(a,t.lastArgs))return t.lastResult;var h=i.apply(this,a);return t={lastResult:h,lastArgs:a,lastThis:this},h}return r.clear=function(){t=null},r}var _t=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function pt(i){return i??Le.OS==="android"}function K(i){return i??1}function gt(i){return typeof Object(i).length=="number"}class yt extends v.PureComponent{scrollToEnd(e){this._listRef&&this._listRef.scrollToEnd(e)}scrollToIndex(e){this._listRef&&this._listRef.scrollToIndex(e)}scrollToItem(e){this._listRef&&this._listRef.scrollToItem(e)}scrollToOffset(e){this._listRef&&this._listRef.scrollToOffset(e)}recordInteraction(){this._listRef&&this._listRef.recordInteraction()}flashScrollIndicators(){this._listRef&&this._listRef.flashScrollIndicators()}getScrollResponder(){if(this._listRef)return this._listRef.getScrollResponder()}getNativeScrollRef(){if(this._listRef)return this._listRef.getScrollRef()}getScrollableNode(){if(this._listRef)return this._listRef.getScrollableNode()}constructor(e){super(e),this._virtualizedListPairs=[],this._captureRef=t=>{this._listRef=t},this._getItem=(t,r)=>{var a=K(this.props.numColumns);if(a>1){for(var l=[],h=0;h<a;h++){var s=r*a+h;if(s<t.length){var n=t[s];l.push(n)}}return l}else return t[r]},this._getItemCount=t=>{if(t!=null&&gt(t)){var r=K(this.props.numColumns);return r>1?Math.ceil(t.length/r):t.length}else return 0},this._keyExtractor=(t,r)=>{var a,l=K(this.props.numColumns),h=(a=this.props.keyExtractor)!==null&&a!==void 0?a:le;return l>1?(p(Array.isArray(t),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",l),t.map((s,n)=>h(s,r*l+n)).join(":")):h(t,r)},this._renderer=(t,r,a,l,h)=>{var s=K(l),n=u=>t?v.createElement(t,u):r?r(u):null,o=u=>{if(s>1){var c=u.item,d=u.index;return p(Array.isArray(c),"Expected array of items with numColumns > 1"),v.createElement(E,{style:Z.compose(Ct.row,a)},c.map((f,m)=>{var _=n({item:f,index:d*s+m,separators:u.separators});return _!=null?v.createElement(v.Fragment,{key:m},_):null}))}else return n(u)};return t?{ListItemComponent:o}:{renderItem:o}},this._memoizedRenderer=vt(this._renderer),this._checkProps(this.props),this.props.viewabilityConfigCallbackPairs?this._virtualizedListPairs=this.props.viewabilityConfigCallbackPairs.map(t=>({viewabilityConfig:t.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(t.onViewableItemsChanged)})):this.props.onViewableItemsChanged&&this._virtualizedListPairs.push({viewabilityConfig:this.props.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(this.props.onViewableItemsChanged)})}componentDidUpdate(e){p(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),p(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),p(!Te(e.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),p(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)}_checkProps(e){var t=e.getItem,r=e.getItemCount,a=e.horizontal,l=e.columnWrapperStyle,h=e.onViewableItemsChanged,s=e.viewabilityConfigCallbackPairs,n=K(this.props.numColumns);p(!t&&!r,"FlatList does not support custom data formats."),n>1?p(!a,"numColumns does not support horizontal."):p(!l,"columnWrapperStyle not supported for single column lists"),p(!(h&&s),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}_pushMultiColumnViewable(e,t){var r,a=K(this.props.numColumns),l=(r=this.props.keyExtractor)!==null&&r!==void 0?r:le;t.item.forEach((h,s)=>{p(t.index!=null,"Missing index!");var n=t.index*a+s;e.push(C(C({},t),{},{item:h,key:l(h,n),index:n}))})}_createOnViewableItemsChanged(e){return t=>{var r=K(this.props.numColumns);if(e)if(r>1){var a=[],l=[];t.viewableItems.forEach(h=>this._pushMultiColumnViewable(l,h)),t.changed.forEach(h=>this._pushMultiColumnViewable(a,h)),e({viewableItems:l,changed:a})}else e(t)}}render(){var e=this.props,t=e.numColumns,r=e.columnWrapperStyle,a=e.removeClippedSubviews,l=e.strictMode,h=l===void 0?!1:l,s=Ce(e,_t),n=h?this._memoizedRenderer:this._renderer;return v.createElement(dt,B({},s,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:pt(a)},n(this.props.ListItemComponent,this.props.renderItem,r,t,this.props.extraData)))}}var Ct=Z.create({row:{flexDirection:"row"}});const wt=yt;export{Oe as E,wt as F,He as I,dt as V,D as _,le as k};
//# sourceMappingURL=index-eadc0664.js.map
