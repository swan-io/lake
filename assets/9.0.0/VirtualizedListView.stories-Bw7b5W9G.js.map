{"version":3,"file":"VirtualizedListView.stories-Bw7b5W9G.js","sources":["../../../node_modules/tunnel-rat/node_modules/zustand/esm/vanilla.mjs","../../../node_modules/tunnel-rat/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","../../../node_modules/tunnel-rat/node_modules/use-sync-external-store/shim/index.js","../../../node_modules/tunnel-rat/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js","../../../node_modules/tunnel-rat/node_modules/use-sync-external-store/shim/with-selector.js","../../../node_modules/tunnel-rat/node_modules/zustand/esm/index.mjs","../../../node_modules/tunnel-rat/dist/index.js","../../../node_modules/@react-three/drei/web/View.js","../../../packages/lake/src/components/EmptyView.tsx","../../../packages/lake/__stories__/VirtualizedListView.stories.tsx"],"sourcesContent":["const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var h=require(\"react\"),n=require(\"use-sync-external-store/shim\");function p(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var q=\"function\"===typeof Object.is?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;\nexports.useSyncExternalStoreWithSelector=function(a,b,e,l,g){var c=t(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=v(function(){function a(a){if(!c){c=!0;d=a;a=l(a);if(void 0!==g&&f.hasValue){var b=f.value;if(g(b,a))return k=b}return k=a}b=k;if(q(d,a))return b;var e=l(a);if(void 0!==g&&g(b,e))return b;d=a;return k=e}var c=!1,d,k,m=void 0===e?null:e;return[function(){return a(b())},null===m?void 0:function(){return a(m())}]},[b,e,l,g]);var d=r(a,c[0],c[1]);\nu(function(){f.hasValue=!0;f.value=d},[d]);w(d);return d};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","import React from 'react';\nimport { create } from 'zustand';\n\nvar _window$document, _window$navigator;\n/**\n * An SSR-friendly useLayoutEffect.\n *\n * React currently throws a warning when using useLayoutEffect on the server.\n * To get around it, we can conditionally useEffect on the server (no-op) and\n * useLayoutEffect elsewhere.\n *\n * @see https://github.com/facebook/react/issues/14927\n */\n\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' && ((_window$document = window.document) != null && _window$document.createElement || ((_window$navigator = window.navigator) == null ? void 0 : _window$navigator.product) === 'ReactNative') ? React.useLayoutEffect : React.useEffect;\n\nfunction tunnel() {\n  const useStore = create(set => ({\n    current: new Array(),\n    version: 0,\n    set\n  }));\n  return {\n    In: ({\n      children\n    }) => {\n      const set = useStore(state => state.set);\n      const version = useStore(state => state.version);\n      /* When this component mounts, we increase the store's version number.\n      This will cause all existing rats to re-render (just like if the Out component\n      were mapping items to a list.) The re-rendering will cause the final \n      order of rendered components to match what the user is expecting. */\n\n      useIsomorphicLayoutEffect(() => {\n        set(state => ({\n          version: state.version + 1\n        }));\n      }, []);\n      /* Any time the children _or_ the store's version number change, insert\n      the specified React children into the list of rats. */\n\n      useIsomorphicLayoutEffect(() => {\n        set(({\n          current\n        }) => ({\n          current: [...current, children]\n        }));\n        return () => set(({\n          current\n        }) => ({\n          current: current.filter(c => c !== children)\n        }));\n      }, [children, version]);\n      return null;\n    },\n    Out: () => {\n      const current = useStore(state => state.current);\n      return /*#__PURE__*/React.createElement(React.Fragment, null, current);\n    }\n  };\n}\n\nexport { tunnel as default };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { context, useThree, createPortal, useFrame } from '@react-three/fiber';\nimport tunnel from 'tunnel-rat';\n\nconst isOrthographicCamera = def => def && def.isOrthographicCamera;\nconst col = new THREE.Color();\nconst tracked = tunnel();\n\n/**\n * In `@react-three/fiber` after `v8.0.0` but prior to `v8.1.0`, `state.size` contained only dimension\n * information. After `v8.1.0`, position information (`top`, `left`) was added\n *\n * @todo remove this when drei supports v9 and up\n */\n\nfunction isNonLegacyCanvasSize(size) {\n  return 'top' in size;\n}\nfunction computeContainerPosition(canvasSize, trackRect) {\n  const {\n    right,\n    top,\n    left: trackLeft,\n    bottom: trackBottom,\n    width,\n    height\n  } = trackRect;\n  const isOffscreen = trackRect.bottom < 0 || top > canvasSize.height || right < 0 || trackRect.left > canvasSize.width;\n  if (isNonLegacyCanvasSize(canvasSize)) {\n    const canvasBottom = canvasSize.top + canvasSize.height;\n    const bottom = canvasBottom - trackBottom;\n    const left = trackLeft - canvasSize.left;\n    return {\n      position: {\n        width,\n        height,\n        left,\n        top,\n        bottom,\n        right\n      },\n      isOffscreen\n    };\n  }\n  // Fall back on old behavior if r3f < 8.1.0\n  const bottom = canvasSize.height - trackBottom;\n  return {\n    position: {\n      width,\n      height,\n      top,\n      left: trackLeft,\n      bottom,\n      right\n    },\n    isOffscreen\n  };\n}\nfunction prepareSkissor(state, {\n  left,\n  bottom,\n  width,\n  height\n}) {\n  let autoClear;\n  const aspect = width / height;\n  if (isOrthographicCamera(state.camera)) {\n    if (state.camera.left !== width / -2 || state.camera.right !== width / 2 || state.camera.top !== height / 2 || state.camera.bottom !== height / -2) {\n      Object.assign(state.camera, {\n        left: width / -2,\n        right: width / 2,\n        top: height / 2,\n        bottom: height / -2\n      });\n      state.camera.updateProjectionMatrix();\n    }\n  } else if (state.camera.aspect !== aspect) {\n    state.camera.aspect = aspect;\n    state.camera.updateProjectionMatrix();\n  }\n  autoClear = state.gl.autoClear;\n  state.gl.autoClear = false;\n  state.gl.setViewport(left, bottom, width, height);\n  state.gl.setScissor(left, bottom, width, height);\n  state.gl.setScissorTest(true);\n  return autoClear;\n}\nfunction finishSkissor(state, autoClear) {\n  // Restore the default state\n  state.gl.setScissorTest(false);\n  state.gl.autoClear = autoClear;\n}\nfunction clear(state) {\n  state.gl.getClearColor(col);\n  state.gl.setClearColor(col, state.gl.getClearAlpha());\n  state.gl.clear(true, true);\n}\nfunction Container({\n  visible = true,\n  canvasSize,\n  scene,\n  index,\n  children,\n  frames,\n  rect,\n  track\n}) {\n  const rootState = useThree();\n  const [isOffscreen, setOffscreen] = React.useState(false);\n  let frameCount = 0;\n  useFrame(state => {\n    if (frames === Infinity || frameCount <= frames) {\n      var _track$current;\n      if (track) rect.current = (_track$current = track.current) == null ? void 0 : _track$current.getBoundingClientRect();\n      frameCount++;\n    }\n    if (rect.current) {\n      const {\n        position,\n        isOffscreen: _isOffscreen\n      } = computeContainerPosition(canvasSize, rect.current);\n      if (isOffscreen !== _isOffscreen) setOffscreen(_isOffscreen);\n      if (visible && !isOffscreen && rect.current) {\n        const autoClear = prepareSkissor(state, position);\n        // When children are present render the portalled scene, otherwise the default scene\n        state.gl.render(children ? state.scene : scene, state.camera);\n        finishSkissor(state, autoClear);\n      }\n    }\n  }, index);\n  React.useLayoutEffect(() => {\n    const curRect = rect.current;\n    if (curRect && (!visible || !isOffscreen)) {\n      // If the view is not visible clear it once, but stop rendering afterwards!\n      const {\n        position\n      } = computeContainerPosition(canvasSize, curRect);\n      const autoClear = prepareSkissor(rootState, position);\n      clear(rootState);\n      finishSkissor(rootState, autoClear);\n    }\n  }, [visible, isOffscreen]);\n  React.useEffect(() => {\n    if (!track) return;\n    const curRect = rect.current;\n    // Connect the event layer to the tracking element\n    const old = rootState.get().events.connected;\n    rootState.setEvents({\n      connected: track.current\n    });\n    return () => {\n      if (curRect) {\n        const {\n          position\n        } = computeContainerPosition(canvasSize, curRect);\n        const autoClear = prepareSkissor(rootState, position);\n        clear(rootState);\n        finishSkissor(rootState, autoClear);\n      }\n      rootState.setEvents({\n        connected: old\n      });\n    };\n  }, [track]);\n  React.useEffect(() => {\n    if (isNonLegacyCanvasSize(canvasSize)) return;\n    console.warn('Detected @react-three/fiber canvas size does not include position information. <View /> may not work as expected. ' + 'Upgrade to @react-three/fiber ^8.1.0 for support.\\n See https://github.com/pmndrs/drei/issues/944');\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children, /*#__PURE__*/React.createElement(\"group\", {\n    onPointerOver: () => null\n  }));\n}\nconst CanvasView = /*#__PURE__*/React.forwardRef(({\n  track,\n  visible = true,\n  index = 1,\n  id,\n  style,\n  className,\n  frames = Infinity,\n  children,\n  ...props\n}, fref) => {\n  var _rect$current, _rect$current2, _rect$current3, _rect$current4;\n  const rect = React.useRef(null);\n  const {\n    size,\n    scene\n  } = useThree();\n  const [virtualScene] = React.useState(() => new THREE.Scene());\n  const [ready, toggle] = React.useReducer(() => true, false);\n  const compute = React.useCallback((event, state) => {\n    if (rect.current && track && track.current && event.target === track.current) {\n      const {\n        width,\n        height,\n        left,\n        top\n      } = rect.current;\n      const x = event.clientX - left;\n      const y = event.clientY - top;\n      state.pointer.set(x / width * 2 - 1, -(y / height) * 2 + 1);\n      state.raycaster.setFromCamera(state.pointer, state.camera);\n    }\n  }, [rect, track]);\n  React.useEffect(() => {\n    var _track$current2;\n    // We need the tracking elements bounds beforehand in order to inject it into the portal\n    if (track) rect.current = (_track$current2 = track.current) == null ? void 0 : _track$current2.getBoundingClientRect();\n    // And now we can proceed\n    toggle();\n  }, [track]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: fref\n  }, props), ready && createPortal( /*#__PURE__*/React.createElement(Container, {\n    visible: visible,\n    canvasSize: size,\n    frames: frames,\n    scene: scene,\n    track: track,\n    rect: rect,\n    index: index\n  }, children), virtualScene, {\n    events: {\n      compute,\n      priority: index\n    },\n    size: {\n      width: (_rect$current = rect.current) == null ? void 0 : _rect$current.width,\n      height: (_rect$current2 = rect.current) == null ? void 0 : _rect$current2.height,\n      // @ts-ignore\n      top: (_rect$current3 = rect.current) == null ? void 0 : _rect$current3.top,\n      // @ts-ignore\n      left: (_rect$current4 = rect.current) == null ? void 0 : _rect$current4.left\n    }\n  }));\n});\nconst HtmlView = /*#__PURE__*/React.forwardRef(({\n  as: El = 'div',\n  id,\n  visible,\n  className,\n  style,\n  index = 1,\n  track,\n  frames = Infinity,\n  children,\n  ...props\n}, fref) => {\n  const uuid = React.useId();\n  const ref = React.useRef(null);\n  React.useImperativeHandle(fref, () => ref.current);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(El, _extends({\n    ref: ref,\n    id: id,\n    className: className,\n    style: style\n  }, props)), /*#__PURE__*/React.createElement(tracked.In, null, /*#__PURE__*/React.createElement(CanvasView, {\n    visible: visible,\n    key: uuid,\n    track: ref,\n    frames: frames,\n    index: index\n  }, children)));\n});\nconst View = /*#__PURE__*/React.forwardRef((props, fref) => {\n  // If we're inside a canvas we should be able to access the context store\n  const store = React.useContext(context);\n  // If that's not the case we render a tunnel\n  if (!store) return /*#__PURE__*/React.createElement(HtmlView, _extends({\n    ref: fref\n  }, props));\n  // Otherwise a plain canvas-view\n  else return /*#__PURE__*/React.createElement(CanvasView, _extends({\n    ref: fref\n  }, props));\n});\nView.Port = () => /*#__PURE__*/React.createElement(tracked.Out, null);\n\nexport { View };\n","import { View } from \"@react-three/drei\";\nimport { ReactNode } from \"react\";\nimport { StyleSheet } from \"react-native\";\nimport { colors } from \"../constants/design\";\nimport { BorderedIcon } from \"./BorderedIcon\";\nimport { Icon, IconName } from \"./Icon\";\nimport { LakeHeading } from \"./LakeHeading\";\nimport { LakeText } from \"./LakeText\";\nimport { Space, SpacingValue } from \"./Space\";\n\nconst styles = StyleSheet.create({\n  emptyList: {\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n});\n\ntype Props = {\n  icon: IconName;\n  borderedIcon?: boolean;\n  borderedIconPadding?: SpacingValue | 0;\n  title?: string;\n  subtitle?: ReactNode;\n  children?: ReactNode;\n};\n\nexport const EmptyView = ({\n  icon,\n  borderedIcon = false,\n  borderedIconPadding,\n  title,\n  subtitle,\n  children,\n}: Props) => (\n  <View style={styles.emptyList}>\n    {borderedIcon ? (\n      <BorderedIcon name={icon} padding={borderedIconPadding} />\n    ) : (\n      <Icon name={icon} size={96} color={colors.current.primary} />\n    )}\n\n    <Space height={24} />\n\n    {title != null ? (\n      <>\n        <LakeHeading align=\"center\" level={3} variant=\"h5\">\n          {title}\n        </LakeHeading>\n\n        <Space height={8} />\n      </>\n    ) : null}\n\n    {subtitle != null && <LakeText align=\"center\">{subtitle}</LakeText>}\n    {children}\n  </View>\n);\n","import { Meta, StoryFn } from \"@storybook/react\";\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { v4 as uuid } from \"uuid\";\nimport { Box } from \"../src/components/Box\";\nimport {\n  EndAlignedCell,\n  LinkCell,\n  SimpleHeaderCell,\n  SimpleRegularTextCell,\n  SimpleTitleCell,\n} from \"../src/components/Cells\";\nimport { EmptyView } from \"../src/components/EmptyView\";\nimport { LakeButton } from \"../src/components/LakeButton\";\nimport { LakeLabelledCheckbox } from \"../src/components/LakeCheckbox\";\nimport { Pressable } from \"../src/components/Pressable\";\nimport { Space } from \"../src/components/Space\";\nimport { Tag } from \"../src/components/Tag\";\nimport {\n  ColumnCellConfig,\n  ColumnTitleConfig,\n  VirtualizedList,\n  VirtualizedListPlaceholder,\n} from \"../src/components/VirtualizedList\";\n\nexport default {\n  title: \"Layout/VirtualizedList\",\n  component: VirtualizedList,\n} as Meta<typeof VirtualizedList>;\n\ntype TestRow = {\n  id: string;\n  name: string;\n};\n\nconst keyExtractor = ({ id }: TestRow) => id;\n\ntype SortInfo = {\n  key: string;\n  order: \"Asc\" | \"Desc\";\n};\n\nconst generateRandomName = () => {\n  const names = [\n    \"Matthias\",\n    \"John\",\n    \"Jane\",\n    \"Camille\",\n    \"Charlotte\",\n    \"Francis\",\n    \"Émilie\",\n    \"François\",\n    \"Laura\",\n    \"Marie\",\n    \"Natasha\",\n    \"Nicolas\",\n    \"Pierre\",\n    \"Thomas\",\n    \"Valérie\",\n    \"Yann\",\n    \"Zoé\",\n    \"Jérôme\",\n    \"Thomas\",\n  ] as const;\n\n  return names[Math.floor(Math.random() * names.length)] ?? names[0];\n};\n\nconst generateItem = (): TestRow => {\n  return {\n    id: uuid(),\n    name: generateRandomName(),\n  };\n};\n\nconst EditableVirtualizedList = ({ few = false }: { few?: boolean }) => {\n  const [sort, setSort] = useState<SortInfo>({ key: \"name\", order: \"Desc\" });\n  const [endReachedTimes, setEndReachedTimes] = useState(0);\n  const [withInfiniteScroll, setWithInfiniteScroll] = useState(false);\n  const [showFakeLoader, setShowFakeLoader] = useState(false);\n  const [forceIsLoading, setForceIsLoading] = useState(false);\n\n  const [data, setData] = useState(() => Array.from({ length: 20 }, _ => generateItem()));\n\n  const onEndReached = useCallback(() => {\n    setEndReachedTimes(v => v + 1);\n    if (withInfiniteScroll) {\n      setShowFakeLoader(true);\n    }\n  }, [withInfiniteScroll]);\n\n  useEffect(() => {\n    if (showFakeLoader) {\n      const timeout = setTimeout(() => {\n        setShowFakeLoader(false);\n        setData(data => [...data, ...Array.from({ length: 20 }, _ => generateItem())]);\n      }, 1000);\n\n      return () => clearTimeout(timeout);\n    }\n  });\n\n  const { stickedToStartColumns, columns, stickedToEndColumns } = useMemo(() => {\n    const stickedToStartColumns = [\n      {\n        width: 300,\n        id: \"name\",\n        title: \"Name\",\n        renderTitle: ({ title, extraInfo, id }: ColumnTitleConfig<SortInfo>) => (\n          <SimpleHeaderCell\n            text={title}\n            sort={extraInfo.key === id ? extraInfo.order : undefined}\n            onPress={() => setSort({ key: id, order: extraInfo.order === \"Desc\" ? \"Asc\" : \"Desc\" })}\n          />\n        ),\n        renderCell: ({ item: { name } }: ColumnCellConfig<TestRow, SortInfo>) => (\n          <SimpleTitleCell text={name} />\n        ),\n      },\n    ];\n\n    const columns = [\n      {\n        width: few ? 300 : 500,\n        id: \"event_id\",\n        title: \"Event ID\",\n        renderTitle: ({ title }: ColumnTitleConfig<SortInfo>) => <SimpleHeaderCell text={title} />,\n        renderCell: ({ item: { id } }: ColumnCellConfig<TestRow, SortInfo>) => (\n          <SimpleRegularTextCell text={id} />\n        ),\n      },\n      ...(few\n        ? []\n        : [\n            {\n              width: 150,\n              id: \"link_before\",\n              title: \"Link before\",\n              renderTitle: ({ title }: ColumnTitleConfig<SortInfo>) => (\n                <SimpleHeaderCell text={title} />\n              ),\n              renderCell: () => (\n                <LinkCell onPress={() => {}} buttonPosition=\"start\">\n                  <Tag color=\"shakespear\">Demo link</Tag>\n                </LinkCell>\n              ),\n            },\n            {\n              width: 500,\n              id: \"onboarding_id\",\n              title: \"Onboarding ID\",\n              renderTitle: ({ title }: ColumnTitleConfig<SortInfo>) => (\n                <SimpleHeaderCell text={title} />\n              ),\n              renderCell: ({ item: { id } }: ColumnCellConfig<TestRow, SortInfo>) => (\n                <SimpleRegularTextCell text={id} />\n              ),\n            },\n            {\n              width: 150,\n              id: \"link_after\",\n              title: \"Link after\",\n              renderTitle: ({ title }: ColumnTitleConfig<SortInfo>) => (\n                <SimpleHeaderCell text={title} />\n              ),\n              renderCell: () => (\n                <LinkCell onPress={() => {}} buttonPosition=\"end\">\n                  <Tag color=\"shakespear\">Demo link</Tag>\n                </LinkCell>\n              ),\n            },\n            {\n              width: 500,\n              id: \"account_id\",\n              title: \"Account ID\",\n              renderTitle: ({ title }: ColumnTitleConfig<SortInfo>) => (\n                <SimpleHeaderCell text={title} />\n              ),\n              renderCell: ({ item: { id } }: ColumnCellConfig<TestRow, SortInfo>) => (\n                <SimpleRegularTextCell text={id} />\n              ),\n            },\n          ]),\n    ];\n\n    const stickedToEndColumns = [\n      {\n        width: 72,\n        id: \"dot\",\n        title: \"Settings\",\n        renderTitle: () => <SimpleHeaderCell text={\"End\"} justifyContent=\"flex-end\" />,\n        renderCell: () => (\n          <EndAlignedCell>\n            <LakeButton mode=\"tertiary\" icon=\"chevron-right-filled\" ariaLabel=\"test\" size=\"small\" />\n          </EndAlignedCell>\n        ),\n      },\n    ];\n\n    return { stickedToStartColumns, columns, stickedToEndColumns };\n  }, [few]);\n\n  return (\n    <>\n      <Box direction=\"row\" alignItems=\"center\">\n        <LakeButton\n          icon=\"add-circle-filled\"\n          color=\"live\"\n          size=\"small\"\n          onPress={() => setData(data => [generateItem(), ...data])}\n        >\n          Prepend\n        </LakeButton>\n\n        <Space width={16} />\n\n        <LakeButton\n          icon=\"add-circle-filled\"\n          color=\"live\"\n          size=\"small\"\n          onPress={() => setData(data => [...data.slice(0, 1), generateItem(), ...data.slice(1)])}\n        >\n          Insert in 2nd\n        </LakeButton>\n\n        <Space width={16} />\n\n        <LakeButton\n          icon=\"add-circle-filled\"\n          color=\"live\"\n          size=\"small\"\n          onPress={() => setData(data => [...data, generateItem()])}\n        >\n          Append\n        </LakeButton>\n\n        <Space width={16} />\n\n        <LakeButton icon=\"delete-filled\" color=\"negative\" size=\"small\" onPress={() => setData([])}>\n          Clear\n        </LakeButton>\n\n        <Space width={16} />\n        <Tag label=\"End reached\">{endReachedTimes} times</Tag>\n        <Space width={16} />\n\n        <LakeLabelledCheckbox\n          label=\"With infinite scroll\"\n          value={withInfiniteScroll}\n          onValueChange={setWithInfiniteScroll}\n        />\n\n        <Space width={16} />\n\n        <LakeLabelledCheckbox\n          label=\"Force loading state\"\n          value={forceIsLoading}\n          onValueChange={setForceIsLoading}\n        />\n      </Box>\n\n      <Space height={16} />\n\n      <VirtualizedList\n        variant=\"default\"\n        extraInfo={sort}\n        keyExtractor={keyExtractor}\n        data={data}\n        stickedToStartColumns={stickedToStartColumns}\n        columns={columns}\n        stickedToEndColumns={stickedToEndColumns}\n        rowHeight={48}\n        headerHeight={48}\n        onEndReached={onEndReached}\n        onEndReachedThreshold={300}\n        renderEmptyList={() => <EmptyView icon=\"lake-inbox-empty\" title=\"Nothing to see here\" />}\n        getRowLink={item => <Pressable onPress={() => console.log(item.item)} />}\n        loading={{\n          isLoading: forceIsLoading || showFakeLoader,\n          count: 20,\n        }}\n      />\n    </>\n  );\n};\n\nexport const Primary: StoryFn<typeof VirtualizedList> = () => {\n  return <EditableVirtualizedList />;\n};\n\nexport const WithoutBackground: StoryFn<typeof VirtualizedList> = () => {\n  return <EditableVirtualizedList />;\n};\n\nexport const FewColumn: StoryFn<typeof VirtualizedList> = () => {\n  return <EditableVirtualizedList few={true} />;\n};\n\nexport const Placeholder: StoryFn<typeof VirtualizedList> = () => {\n  return <VirtualizedListPlaceholder rowHeight={48} headerHeight={48} count={3} />;\n};\n"],"names":["createStoreImpl","createState","state","listeners","setState","partial","replace","nextState","previousState","listener","getState","api","initialState","define_import_meta_env_default","createStore","e","require$$0","h","a","b","k","l","m","n","p","q","d","f","c","g","r","t","u","useSyncExternalStoreShim_production_min","shimModule","require$$1","v","w","withSelector_production_min","withSelectorModule","useDebugValue","ReactExports","useSyncExternalStoreWithSelector","useSyncExternalStoreExports","didWarnAboutEqualityFn","identity","arg","useStore","selector","equalityFn","slice","createImpl","useBoundStore","create","_window$document","_window$navigator","useIsomorphicLayoutEffect","React","tunnel","set","children","version","current","isOrthographicCamera","def","col","THREE.Color","tracked","isNonLegacyCanvasSize","size","computeContainerPosition","canvasSize","trackRect","right","top","trackLeft","trackBottom","width","height","isOffscreen","bottom","left","prepareSkissor","autoClear","aspect","finishSkissor","clear","Container","visible","scene","index","frames","rect","track","rootState","useThree","setOffscreen","React.useState","frameCount","useFrame","_track$current","position","_isOffscreen","React.useLayoutEffect","curRect","React.useEffect","old","React.createElement","React.Fragment","CanvasView","React.forwardRef","id","style","className","props","fref","_rect$current","_rect$current2","_rect$current3","_rect$current4","React.useRef","virtualScene","THREE.Scene","ready","toggle","React.useReducer","compute","React.useCallback","event","x","y","_track$current2","_extends","createPortal","HtmlView","El","uuid","React.useId","ref","React.useImperativeHandle","View","React.useContext","context","styles","StyleSheet","EmptyView","icon","borderedIcon","borderedIconPadding","title","subtitle","jsxs","BorderedIcon","jsx","Icon","colors","Space","Fragment","LakeHeading","LakeText","VirtualizedListView_stories","component","VirtualizedList","keyExtractor","generateRandomName","names","Math","floor","random","length","generateItem","name","EditableVirtualizedList","few","sort","setSort","useState","key","order","endReachedTimes","setEndReachedTimes","withInfiniteScroll","setWithInfiniteScroll","showFakeLoader","setShowFakeLoader","forceIsLoading","setForceIsLoading","data","setData","Array","from","_","onEndReached","useCallback","useEffect","timeout","setTimeout","clearTimeout","stickedToStartColumns","columns","stickedToEndColumns","useMemo","renderTitle","extraInfo","SimpleHeaderCell","undefined","renderCell","item","SimpleTitleCell","SimpleRegularTextCell","LinkCell","Tag","EndAlignedCell","LakeButton","Box","LakeLabelledCheckbox","Pressable","console","log","isLoading","count","Primary","WithoutBackground","FewColumn","Placeholder","VirtualizedListPlaceholder"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}